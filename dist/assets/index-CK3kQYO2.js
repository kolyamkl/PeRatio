function cS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function uS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cv={exports:{}},yu={},uv={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),dS=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),pS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),yS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),wS=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),Z0=Symbol.iterator;function xS(e){return e===null||typeof e!="object"?null:(e=Z0&&e[Z0]||e["@@iterator"],typeof e=="function"?e:null)}var dv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fv=Object.assign,hv={};function as(e,t,n){this.props=e,this.context=t,this.refs=hv,this.updater=n||dv}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pv(){}pv.prototype=as.prototype;function cp(e,t,n){this.props=e,this.context=t,this.refs=hv,this.updater=n||dv}var up=cp.prototype=new pv;up.constructor=cp;fv(up,as.prototype);up.isPureReactComponent=!0;var Q0=Array.isArray,mv=Object.prototype.hasOwnProperty,dp={current:null},gv={key:!0,ref:!0,__self:!0,__source:!0};function yv(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)mv.call(t,r)&&!gv.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ba,type:e,key:o,ref:s,props:i,_owner:dp.current}}function ES(e,t){return{$$typeof:Ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ba}function SS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var J0=/\/+/g;function Ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SS(""+e.key):t.toString(36)}function Bl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ba:case dS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ju(s,0):r,Q0(i)?(n="",e!=null&&(n=e.replace(J0,"$&/")+"/"),Bl(i,t,n,"",function(c){return c})):i!=null&&(fp(i)&&(i=ES(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(J0,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Q0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Ju(o,a);s+=Bl(o,t,n,l,i)}else if(l=xS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Ju(o,a++),s+=Bl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Qa(e,t,n){if(e==null)return e;var r=[],i=0;return Bl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Fl={transition:null},CS={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:dp};function vv(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Qa,forEach:function(e,t,n){Qa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qa(e,function(){t++}),t},toArray:function(e){return Qa(e,function(t){return t})||[]},only:function(e){if(!fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=as;ke.Fragment=fS;ke.Profiler=pS;ke.PureComponent=cp;ke.StrictMode=hS;ke.Suspense=vS;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS;ke.act=vv;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fv({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=dp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mv.call(t,l)&&!gv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ba,type:e.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(e){return e={$$typeof:gS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mS,_context:e},e.Consumer=e};ke.createElement=yv;ke.createFactory=function(e){var t=yv.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:yS,render:e}};ke.isValidElement=fp;ke.lazy=function(e){return{$$typeof:bS,_payload:{_status:-1,_result:e},_init:kS}};ke.memo=function(e,t){return{$$typeof:wS,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};ke.unstable_act=vv;ke.useCallback=function(e,t){return Dt.current.useCallback(e,t)};ke.useContext=function(e){return Dt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Dt.current.useEffect(e,t)};ke.useId=function(){return Dt.current.useId()};ke.useImperativeHandle=function(e,t,n){return Dt.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Dt.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return Dt.current.useReducer(e,t,n)};ke.useRef=function(e){return Dt.current.useRef(e)};ke.useState=function(e){return Dt.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return Dt.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return Dt.current.useTransition()};ke.version="18.3.1";uv.exports=ke;var W=uv.exports;const Gr=uS(W),_S=cS({__proto__:null,default:Gr},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=W,AS=Symbol.for("react.element"),MS=Symbol.for("react.fragment"),TS=Object.prototype.hasOwnProperty,PS=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LS={key:!0,ref:!0,__self:!0,__source:!0};function wv(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)TS.call(t,r)&&!LS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AS,type:e,key:o,ref:s,props:i,_owner:PS.current}}yu.Fragment=MS;yu.jsx=wv;yu.jsxs=wv;cv.exports=yu;var h=cv.exports,bf={},bv={exports:{}},an={},xv={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,A){var I=_.length;_.push(A);e:for(;0<I;){var j=I-1>>>1,C=_[j];if(0<i(C,A))_[j]=A,_[I]=C,I=j;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var A=_[0],I=_.pop();if(I!==A){_[0]=I;e:for(var j=0,C=_.length,N=C>>>1;j<N;){var L=2*(j+1)-1,R=_[L],$=L+1,V=_[$];if(0>i(R,I))$<C&&0>i(V,R)?(_[j]=V,_[$]=I,j=$):(_[j]=R,_[L]=I,j=L);else if($<C&&0>i(V,I))_[j]=V,_[$]=I,j=$;else break e}}return A}function i(_,A){var I=_.sortIndex-A.sortIndex;return I!==0?I:_.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=_)r(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(c)}}function k(_){if(y=!1,v(_),!g)if(n(l)!==null)g=!0,M(P);else{var A=n(c);A!==null&&T(k,A.startTime-_)}}function P(_,A){g=!1,y&&(y=!1,p(B),B=-1),m=!0;var I=f;try{for(v(A),d=n(l);d!==null&&(!(d.expirationTime>A)||_&&!K());){var j=d.callback;if(typeof j=="function"){d.callback=null,f=d.priorityLevel;var C=j(d.expirationTime<=A);A=e.unstable_now(),typeof C=="function"?d.callback=C:d===n(l)&&r(l),v(A)}else r(l);d=n(l)}if(d!==null)var N=!0;else{var L=n(c);L!==null&&T(k,L.startTime-A),N=!1}return N}finally{d=null,f=I,m=!1}}var O=!1,F=null,B=-1,H=5,D=-1;function K(){return!(e.unstable_now()-D<H)}function z(){if(F!==null){var _=e.unstable_now();D=_;var A=!0;try{A=F(!0,_)}finally{A?E():(O=!1,F=null)}}else O=!1}var E;if(typeof w=="function")E=function(){w(z)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,S=b.port2;b.port1.onmessage=z,E=function(){S.postMessage(null)}}else E=function(){x(z,0)};function M(_){F=_,O||(O=!0,E())}function T(_,A){B=x(function(){_(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,M(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return _()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,A){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=f;f=_;try{return A()}finally{f=I}},e.unstable_scheduleCallback=function(_,A,I){var j=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?j+I:j):I=j,_){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=I+C,_={id:u++,callback:A,priorityLevel:_,startTime:I,expirationTime:C,sortIndex:-1},I>j?(_.sortIndex=I,t(c,_),n(l)===null&&_===n(c)&&(y?(p(B),B=-1):y=!0,T(k,I-j))):(_.sortIndex=C,t(l,_),g||m||(g=!0,M(P))),_},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(_){var A=f;return function(){var I=f;f=A;try{return _.apply(this,arguments)}finally{f=I}}}})(Ev);xv.exports=Ev;var RS=xv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=W,sn=RS;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sv=new Set,aa={};function Ji(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(aa[e]=t,e=0;e<t.length;e++)Sv.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=Object.prototype.hasOwnProperty,IS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X0={},em={};function OS(e){return xf.call(em,e)?!0:xf.call(X0,e)?!1:IS.test(e)?em[e]=!0:(X0[e]=!0,!1)}function $S(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DS(e,t,n,r){if(t===null||typeof t>"u"||$S(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hp=/[\-:]([a-z])/g;function pp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hp,pp);pt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hp,pp);pt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hp,pp);pt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function mp(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DS(t,n,i,r)&&(n=null),r||i===null?OS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),vo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),_v=Symbol.for("react.offscreen"),tm=Symbol.iterator;function gs(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Xu;function Ps(e){if(Xu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xu=t&&t[1]||""}return`
`+Xu+e}var ed=!1;function td(e,t){if(!e||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function BS(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=td(e.type,!1),e;case 11:return e=td(e.type.render,!1),e;case 1:return e=td(e.type,!0),e;default:return""}}function Cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case vo:return"Portal";case Ef:return"Profiler";case gp:return"StrictMode";case Sf:return"Suspense";case kf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cv:return(e.displayName||"Context")+".Consumer";case kv:return(e._context.displayName||"Context")+".Provider";case yp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vp:return t=e.displayName||null,t!==null?t:Cf(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return Cf(e(t))}catch{}}return null}function FS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function US(e){var t=Nv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xa(e){e._valueTracker||(e._valueTracker=US(e))}function Av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _f(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mv(e,t){t=t.checked,t!=null&&mp(e,"checked",t,!1)}function Nf(e,t){Mv(e,t);var n=gi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,n):t.hasOwnProperty("defaultValue")&&Af(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Af(e,t,n){(t!=="number"||wc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function $o(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function im(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ue(92));if(Ls(n)){if(1<n.length)throw Error(ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gi(n)}}function Tv(e,t){var n=gi(t.value),r=gi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function om(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,Lv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function la(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KS=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(e){KS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fs[t]=Fs[e]})});function Rv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fs.hasOwnProperty(e)&&Fs[e]?(""+t).trim():t+"px"}function jv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zS=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(zS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Lf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,Do=null,Bo=null;function sm(e){if(e=Ka(e)){if(typeof jf!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Eu(t),jf(e.stateNode,e.type,t))}}function Iv(e){Do?Bo?Bo.push(e):Bo=[e]:Do=e}function Ov(){if(Do){var e=Do,t=Bo;if(Bo=Do=null,sm(e),t)for(e=0;e<t.length;e++)sm(t[e])}}function $v(e,t){return e(t)}function Dv(){}var nd=!1;function Bv(e,t,n){if(nd)return e(t,n);nd=!0;try{return $v(e,t,n)}finally{nd=!1,(Do!==null||Bo!==null)&&(Dv(),Ov())}}function ca(e,t){var n=e.stateNode;if(n===null)return null;var r=Eu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ue(231,t,typeof n));return n}var If=!1;if(Er)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){If=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{If=!1}function HS(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Us=!1,bc=null,xc=!1,Of=null,VS={onError:function(e){Us=!0,bc=e}};function WS(e,t,n,r,i,o,s,a,l){Us=!1,bc=null,HS.apply(VS,arguments)}function qS(e,t,n,r,i,o,s,a,l){if(WS.apply(this,arguments),Us){if(Us){var c=bc;Us=!1,bc=null}else throw Error(ue(198));xc||(xc=!0,Of=c)}}function Xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function am(e){if(Xi(e)!==e)throw Error(ue(188))}function GS(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return am(i),e;if(o===r)return am(i),t;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?e:t}function Uv(e){return e=GS(e),e!==null?Kv(e):null}function Kv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kv(e);if(t!==null)return t;e=e.sibling}return null}var zv=sn.unstable_scheduleCallback,lm=sn.unstable_cancelCallback,YS=sn.unstable_shouldYield,ZS=sn.unstable_requestPaint,Ge=sn.unstable_now,QS=sn.unstable_getCurrentPriorityLevel,bp=sn.unstable_ImmediatePriority,Hv=sn.unstable_UserBlockingPriority,Ec=sn.unstable_NormalPriority,JS=sn.unstable_LowPriority,Vv=sn.unstable_IdlePriority,vu=null,Xn=null;function XS(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(vu,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:n3,e3=Math.log,t3=Math.LN2;function n3(e){return e>>>=0,e===0?32:31-(e3(e)/t3|0)|0}var tl=64,nl=4194304;function Rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Rs(a):(o&=s,o!==0&&(r=Rs(o)))}else s=n&~i,s!==0?r=Rs(s):o!==0&&(r=Rs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-In(t),i=1<<n,r|=e[n],t&=~i;return r}function r3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-In(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=r3(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function $f(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wv(){var e=tl;return tl<<=1,!(tl&4194240)&&(tl=64),e}function rd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=n}function o3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-In(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function xp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-In(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var je=0;function qv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gv,Ep,Yv,Zv,Qv,Df=!1,rl=[],si=null,ai=null,li=null,ua=new Map,da=new Map,Yr=[],s3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cm(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(t.pointerId)}}function vs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ka(t),t!==null&&Ep(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function a3(e,t,n,r,i){switch(t){case"focusin":return si=vs(si,e,t,n,r,i),!0;case"dragenter":return ai=vs(ai,e,t,n,r,i),!0;case"mouseover":return li=vs(li,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ua.set(o,vs(ua.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,da.set(o,vs(da.get(o)||null,e,t,n,r,i)),!0}return!1}function Jv(e){var t=Ti(e.target);if(t!==null){var n=Xi(t);if(n!==null){if(t=n.tag,t===13){if(t=Fv(n),t!==null){e.blockedOn=t,Qv(e.priority,function(){Yv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rf=r,n.target.dispatchEvent(r),Rf=null}else return t=Ka(n),t!==null&&Ep(t),e.blockedOn=n,!1;t.shift()}return!0}function um(e,t,n){Ul(e)&&n.delete(t)}function l3(){Df=!1,si!==null&&Ul(si)&&(si=null),ai!==null&&Ul(ai)&&(ai=null),li!==null&&Ul(li)&&(li=null),ua.forEach(um),da.forEach(um)}function ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Df||(Df=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,l3)))}function fa(e){function t(i){return ws(i,e)}if(0<rl.length){ws(rl[0],e);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(si!==null&&ws(si,e),ai!==null&&ws(ai,e),li!==null&&ws(li,e),ua.forEach(t),da.forEach(t),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)Jv(n),n.blockedOn===null&&Yr.shift()}var Fo=Nr.ReactCurrentBatchConfig,kc=!0;function c3(e,t,n,r){var i=je,o=Fo.transition;Fo.transition=null;try{je=1,Sp(e,t,n,r)}finally{je=i,Fo.transition=o}}function u3(e,t,n,r){var i=je,o=Fo.transition;Fo.transition=null;try{je=4,Sp(e,t,n,r)}finally{je=i,Fo.transition=o}}function Sp(e,t,n,r){if(kc){var i=Bf(e,t,n,r);if(i===null)hd(e,t,r,Cc,n),cm(e,r);else if(a3(i,e,t,n,r))r.stopPropagation();else if(cm(e,r),t&4&&-1<s3.indexOf(e)){for(;i!==null;){var o=Ka(i);if(o!==null&&Gv(o),o=Bf(e,t,n,r),o===null&&hd(e,t,r,Cc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hd(e,t,r,null,n)}}var Cc=null;function Bf(e,t,n,r){if(Cc=null,e=wp(r),e=Ti(e),e!==null)if(t=Xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cc=e,null}function Xv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QS()){case bp:return 1;case Hv:return 4;case Ec:case JS:return 16;case Vv:return 536870912;default:return 16}default:return 16}}var ei=null,kp=null,Kl=null;function ew(){if(Kl)return Kl;var e,t=kp,n=t.length,r,i="value"in ei?ei.value:ei.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Kl=i.slice(e,1<r?1-r:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function dm(){return!1}function ln(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?il:dm,this.isPropagationStopped=dm,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=ln(ls),Ua=ze({},ls,{view:0,detail:0}),d3=ln(Ua),id,od,bs,wu=ze({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(id=e.screenX-bs.screenX,od=e.screenY-bs.screenY):od=id=0,bs=e),id)},movementY:function(e){return"movementY"in e?e.movementY:od}}),fm=ln(wu),f3=ze({},wu,{dataTransfer:0}),h3=ln(f3),p3=ze({},Ua,{relatedTarget:0}),sd=ln(p3),m3=ze({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),g3=ln(m3),y3=ze({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v3=ln(y3),w3=ze({},ls,{data:0}),hm=ln(w3),b3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E3[e])?!!t[e]:!1}function _p(){return S3}var k3=ze({},Ua,{key:function(e){if(e.key){var t=b3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C3=ln(k3),_3=ze({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=ln(_3),N3=ze({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),A3=ln(N3),M3=ze({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),T3=ln(M3),P3=ze({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L3=ln(P3),R3=[9,13,27,32],Np=Er&&"CompositionEvent"in window,Ks=null;Er&&"documentMode"in document&&(Ks=document.documentMode);var j3=Er&&"TextEvent"in window&&!Ks,tw=Er&&(!Np||Ks&&8<Ks&&11>=Ks),mm=" ",gm=!1;function nw(e,t){switch(e){case"keyup":return R3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function I3(e,t){switch(e){case"compositionend":return rw(t);case"keypress":return t.which!==32?null:(gm=!0,mm);case"textInput":return e=t.data,e===mm&&gm?null:e;default:return null}}function O3(e,t){if(bo)return e==="compositionend"||!Np&&nw(e,t)?(e=ew(),Kl=kp=ei=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tw&&t.locale!=="ko"?null:t.data;default:return null}}var $3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$3[e.type]:t==="textarea"}function iw(e,t,n,r){Iv(r),t=_c(t,"onChange"),0<t.length&&(n=new Cp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zs=null,ha=null;function D3(e){mw(e,0)}function bu(e){var t=So(e);if(Av(t))return e}function B3(e,t){if(e==="change")return t}var ow=!1;if(Er){var ad;if(Er){var ld="oninput"in document;if(!ld){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),ld=typeof vm.oninput=="function"}ad=ld}else ad=!1;ow=ad&&(!document.documentMode||9<document.documentMode)}function wm(){zs&&(zs.detachEvent("onpropertychange",sw),ha=zs=null)}function sw(e){if(e.propertyName==="value"&&bu(ha)){var t=[];iw(t,ha,e,wp(e)),Bv(D3,t)}}function F3(e,t,n){e==="focusin"?(wm(),zs=t,ha=n,zs.attachEvent("onpropertychange",sw)):e==="focusout"&&wm()}function U3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(ha)}function K3(e,t){if(e==="click")return bu(t)}function z3(e,t){if(e==="input"||e==="change")return bu(t)}function H3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:H3;function pa(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xf.call(t,i)||!Dn(e[i],t[i]))return!1}return!0}function bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xm(e,t){var n=bm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function aw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lw(){for(var e=window,t=wc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wc(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V3(e){var t=lw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aw(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xm(n,o);var s=xm(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W3=Er&&"documentMode"in document&&11>=document.documentMode,xo=null,Ff=null,Hs=null,Uf=!1;function Em(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||xo==null||xo!==wc(r)||(r=xo,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&pa(Hs,r)||(Hs=r,r=_c(Ff,"onSelect"),0<r.length&&(t=new Cp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xo)))}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Eo={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},cd={},cw={};Er&&(cw=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function xu(e){if(cd[e])return cd[e];if(!Eo[e])return e;var t=Eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cw)return cd[e]=t[n];return e}var uw=xu("animationend"),dw=xu("animationiteration"),fw=xu("animationstart"),hw=xu("transitionend"),pw=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){pw.set(e,t),Ji(t,[e])}for(var ud=0;ud<Sm.length;ud++){var dd=Sm[ud],q3=dd.toLowerCase(),G3=dd[0].toUpperCase()+dd.slice(1);xi(q3,"on"+G3)}xi(uw,"onAnimationEnd");xi(dw,"onAnimationIteration");xi(fw,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(hw,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function km(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qS(r,t,void 0,e),e.currentTarget=null}function mw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;km(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;km(i,a,c),o=l}}}if(xc)throw e=Of,xc=!1,Of=null,e}function $e(e,t){var n=t[Wf];n===void 0&&(n=t[Wf]=new Set);var r=e+"__bubble";n.has(r)||(gw(t,e,2,!1),n.add(r))}function fd(e,t,n){var r=0;t&&(r|=4),gw(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[sl]){e[sl]=!0,Sv.forEach(function(n){n!=="selectionchange"&&(Y3.has(n)||fd(n,!1,e),fd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,fd("selectionchange",!1,t))}}function gw(e,t,n,r){switch(Xv(t)){case 1:var i=c3;break;case 4:i=u3;break;default:i=Sp}n=i.bind(null,t,n,e),i=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ti(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Bv(function(){var c=o,u=wp(n),d=[];e:{var f=pw.get(e);if(f!==void 0){var m=Cp,g=e;switch(e){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":m=C3;break;case"focusin":g="focus",m=sd;break;case"focusout":g="blur",m=sd;break;case"beforeblur":case"afterblur":m=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=h3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=A3;break;case uw:case dw:case fw:m=g3;break;case hw:m=T3;break;case"scroll":m=d3;break;case"wheel":m=L3;break;case"copy":case"cut":case"paste":m=v3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pm}var y=(t&4)!==0,x=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,v;w!==null;){v=w;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=ca(w,p),k!=null&&y.push(ga(w,k,v)))),x)break;w=w.return}0<y.length&&(f=new m(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Rf&&(g=n.relatedTarget||n.fromElement)&&(Ti(g)||g[Sr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Ti(g):null,g!==null&&(x=Xi(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=fm,k="onMouseLeave",p="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=pm,k="onPointerLeave",p="onPointerEnter",w="pointer"),x=m==null?f:So(m),v=g==null?f:So(g),f=new y(k,w+"leave",m,n,u),f.target=x,f.relatedTarget=v,k=null,Ti(u)===c&&(y=new y(p,w+"enter",g,n,u),y.target=v,y.relatedTarget=x,k=y),x=k,m&&g)t:{for(y=m,p=g,w=0,v=y;v;v=so(v))w++;for(v=0,k=p;k;k=so(k))v++;for(;0<w-v;)y=so(y),w--;for(;0<v-w;)p=so(p),v--;for(;w--;){if(y===p||p!==null&&y===p.alternate)break t;y=so(y),p=so(p)}y=null}else y=null;m!==null&&Cm(d,f,m,y,!1),g!==null&&x!==null&&Cm(d,x,g,y,!0)}}e:{if(f=c?So(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=B3;else if(ym(f))if(ow)P=z3;else{P=U3;var O=F3}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=K3);if(P&&(P=P(e,c))){iw(d,P,n,u);break e}O&&O(e,f,c),e==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(O=c?So(c):window,e){case"focusin":(ym(O)||O.contentEditable==="true")&&(xo=O,Ff=c,Hs=null);break;case"focusout":Hs=Ff=xo=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Em(d,n,u);break;case"selectionchange":if(W3)break;case"keydown":case"keyup":Em(d,n,u)}var F;if(Np)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else bo?nw(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(tw&&n.locale!=="ko"&&(bo||B!=="onCompositionStart"?B==="onCompositionEnd"&&bo&&(F=ew()):(ei=u,kp="value"in ei?ei.value:ei.textContent,bo=!0)),O=_c(c,B),0<O.length&&(B=new hm(B,e,null,n,u),d.push({event:B,listeners:O}),F?B.data=F:(F=rw(n),F!==null&&(B.data=F)))),(F=j3?I3(e,n):O3(e,n))&&(c=_c(c,"onBeforeInput"),0<c.length&&(u=new hm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=F))}mw(d,t)})}function ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _c(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ca(e,n),o!=null&&r.unshift(ga(e,o,i)),o=ca(e,t),o!=null&&r.push(ga(e,o,i))),e=e.return}return r}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cm(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ca(n,o),l!=null&&s.unshift(ga(n,l,a))):i||(l=ca(n,o),l!=null&&s.push(ga(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Z3=/\r\n?/g,Q3=/\u0000|\uFFFD/g;function _m(e){return(typeof e=="string"?e:""+e).replace(Z3,`
`).replace(Q3,"")}function al(e,t,n){if(t=_m(t),_m(e)!==t&&n)throw Error(ue(425))}function Nc(){}var Kf=null,zf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(e){return Nm.resolve(null).then(e).catch(ek)}:Vf;function ek(e){setTimeout(function(){throw e})}function pd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fa(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+cs,ya="__reactProps$"+cs,Sr="__reactContainer$"+cs,Wf="__reactEvents$"+cs,tk="__reactListeners$"+cs,nk="__reactHandles$"+cs;function Ti(e){var t=e[Vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Am(e);e!==null;){if(n=e[Vn])return n;e=Am(e)}return t}e=n,n=e.parentNode}return null}function Ka(e){return e=e[Vn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Eu(e){return e[ya]||null}var qf=[],ko=-1;function Ei(e){return{current:e}}function De(e){0>ko||(e.current=qf[ko],qf[ko]=null,ko--)}function Oe(e,t){ko++,qf[ko]=e.current,e.current=t}var yi={},Mt=Ei(yi),Wt=Ei(!1),zi=yi;function Qo(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qt(e){return e=e.childContextTypes,e!=null}function Ac(){De(Wt),De(Mt)}function Mm(e,t,n){if(Mt.current!==yi)throw Error(ue(168));Oe(Mt,t),Oe(Wt,n)}function yw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ue(108,FS(e)||"Unknown",i));return ze({},n,r)}function Mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,zi=Mt.current,Oe(Mt,e),Oe(Wt,Wt.current),!0}function Tm(e,t,n){var r=e.stateNode;if(!r)throw Error(ue(169));n?(e=yw(e,t,zi),r.__reactInternalMemoizedMergedChildContext=e,De(Wt),De(Mt),Oe(Mt,e)):De(Wt),Oe(Wt,n)}var ar=null,Su=!1,md=!1;function vw(e){ar===null?ar=[e]:ar.push(e)}function rk(e){Su=!0,vw(e)}function Si(){if(!md&&ar!==null){md=!0;var e=0,t=je;try{var n=ar;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ar=null,Su=!1}catch(i){throw ar!==null&&(ar=ar.slice(e+1)),zv(bp,Si),i}finally{je=t,md=!1}}return null}var Co=[],_o=0,Tc=null,Pc=0,yn=[],vn=0,Hi=null,fr=1,hr="";function _i(e,t){Co[_o++]=Pc,Co[_o++]=Tc,Tc=e,Pc=t}function ww(e,t,n){yn[vn++]=fr,yn[vn++]=hr,yn[vn++]=Hi,Hi=e;var r=fr;e=hr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var o=32-In(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fr=1<<32-In(t)+i|n<<i|r,hr=o+e}else fr=1<<o|n<<i|r,hr=e}function Mp(e){e.return!==null&&(_i(e,1),ww(e,1,0))}function Tp(e){for(;e===Tc;)Tc=Co[--_o],Co[_o]=null,Pc=Co[--_o],Co[_o]=null;for(;e===Hi;)Hi=yn[--vn],yn[vn]=null,hr=yn[--vn],yn[vn]=null,fr=yn[--vn],yn[vn]=null}var on=null,rn=null,Be=!1,Ln=null;function bw(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,on=e,rn=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,on=e,rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hi!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,on=e,rn=null,!0):!1;default:return!1}}function Gf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yf(e){if(Be){var t=rn;if(t){var n=t;if(!Pm(e,t)){if(Gf(e))throw Error(ue(418));t=ci(n.nextSibling);var r=on;t&&Pm(e,t)?bw(r,n):(e.flags=e.flags&-4097|2,Be=!1,on=e)}}else{if(Gf(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Be=!1,on=e}}}function Lm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function ll(e){if(e!==on)return!1;if(!Be)return Lm(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=rn)){if(Gf(e))throw xw(),Error(ue(418));for(;t;)bw(e,t),t=ci(t.nextSibling)}if(Lm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rn=ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rn=null}}else rn=on?ci(e.stateNode.nextSibling):null;return!0}function xw(){for(var e=rn;e;)e=ci(e.nextSibling)}function Jo(){rn=on=null,Be=!1}function Pp(e){Ln===null?Ln=[e]:Ln.push(e)}var ik=Nr.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,e))}return e}function cl(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rm(e){var t=e._init;return t(e._payload)}function Ew(e){function t(p,w){if(e){var v=p.deletions;v===null?(p.deletions=[w],p.flags|=16):v.push(w)}}function n(p,w){if(!e)return null;for(;w!==null;)t(p,w),w=w.sibling;return null}function r(p,w){for(p=new Map;w!==null;)w.key!==null?p.set(w.key,w):p.set(w.index,w),w=w.sibling;return p}function i(p,w){return p=hi(p,w),p.index=0,p.sibling=null,p}function o(p,w,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<w?(p.flags|=2,w):v):(p.flags|=2,w)):(p.flags|=1048576,w)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,w,v,k){return w===null||w.tag!==6?(w=Ed(v,p.mode,k),w.return=p,w):(w=i(w,v),w.return=p,w)}function l(p,w,v,k){var P=v.type;return P===wo?u(p,w,v.props.children,k,v.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Kr&&Rm(P)===w.type)?(k=i(w,v.props),k.ref=xs(p,w,v),k.return=p,k):(k=Zl(v.type,v.key,v.props,null,p.mode,k),k.ref=xs(p,w,v),k.return=p,k)}function c(p,w,v,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=Sd(v,p.mode,k),w.return=p,w):(w=i(w,v.children||[]),w.return=p,w)}function u(p,w,v,k,P){return w===null||w.tag!==7?(w=Bi(v,p.mode,k,P),w.return=p,w):(w=i(w,v),w.return=p,w)}function d(p,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ed(""+w,p.mode,v),w.return=p,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ja:return v=Zl(w.type,w.key,w.props,null,p.mode,v),v.ref=xs(p,null,w),v.return=p,v;case vo:return w=Sd(w,p.mode,v),w.return=p,w;case Kr:var k=w._init;return d(p,k(w._payload),v)}if(Ls(w)||gs(w))return w=Bi(w,p.mode,v,null),w.return=p,w;cl(p,w)}return null}function f(p,w,v,k){var P=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:a(p,w,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ja:return v.key===P?l(p,w,v,k):null;case vo:return v.key===P?c(p,w,v,k):null;case Kr:return P=v._init,f(p,w,P(v._payload),k)}if(Ls(v)||gs(v))return P!==null?null:u(p,w,v,k,null);cl(p,v)}return null}function m(p,w,v,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,a(w,p,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ja:return p=p.get(k.key===null?v:k.key)||null,l(w,p,k,P);case vo:return p=p.get(k.key===null?v:k.key)||null,c(w,p,k,P);case Kr:var O=k._init;return m(p,w,v,O(k._payload),P)}if(Ls(k)||gs(k))return p=p.get(v)||null,u(w,p,k,P,null);cl(w,k)}return null}function g(p,w,v,k){for(var P=null,O=null,F=w,B=w=0,H=null;F!==null&&B<v.length;B++){F.index>B?(H=F,F=null):H=F.sibling;var D=f(p,F,v[B],k);if(D===null){F===null&&(F=H);break}e&&F&&D.alternate===null&&t(p,F),w=o(D,w,B),O===null?P=D:O.sibling=D,O=D,F=H}if(B===v.length)return n(p,F),Be&&_i(p,B),P;if(F===null){for(;B<v.length;B++)F=d(p,v[B],k),F!==null&&(w=o(F,w,B),O===null?P=F:O.sibling=F,O=F);return Be&&_i(p,B),P}for(F=r(p,F);B<v.length;B++)H=m(F,p,B,v[B],k),H!==null&&(e&&H.alternate!==null&&F.delete(H.key===null?B:H.key),w=o(H,w,B),O===null?P=H:O.sibling=H,O=H);return e&&F.forEach(function(K){return t(p,K)}),Be&&_i(p,B),P}function y(p,w,v,k){var P=gs(v);if(typeof P!="function")throw Error(ue(150));if(v=P.call(v),v==null)throw Error(ue(151));for(var O=P=null,F=w,B=w=0,H=null,D=v.next();F!==null&&!D.done;B++,D=v.next()){F.index>B?(H=F,F=null):H=F.sibling;var K=f(p,F,D.value,k);if(K===null){F===null&&(F=H);break}e&&F&&K.alternate===null&&t(p,F),w=o(K,w,B),O===null?P=K:O.sibling=K,O=K,F=H}if(D.done)return n(p,F),Be&&_i(p,B),P;if(F===null){for(;!D.done;B++,D=v.next())D=d(p,D.value,k),D!==null&&(w=o(D,w,B),O===null?P=D:O.sibling=D,O=D);return Be&&_i(p,B),P}for(F=r(p,F);!D.done;B++,D=v.next())D=m(F,p,B,D.value,k),D!==null&&(e&&D.alternate!==null&&F.delete(D.key===null?B:D.key),w=o(D,w,B),O===null?P=D:O.sibling=D,O=D);return e&&F.forEach(function(z){return t(p,z)}),Be&&_i(p,B),P}function x(p,w,v,k){if(typeof v=="object"&&v!==null&&v.type===wo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ja:e:{for(var P=v.key,O=w;O!==null;){if(O.key===P){if(P=v.type,P===wo){if(O.tag===7){n(p,O.sibling),w=i(O,v.props.children),w.return=p,p=w;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Kr&&Rm(P)===O.type){n(p,O.sibling),w=i(O,v.props),w.ref=xs(p,O,v),w.return=p,p=w;break e}n(p,O);break}else t(p,O);O=O.sibling}v.type===wo?(w=Bi(v.props.children,p.mode,k,v.key),w.return=p,p=w):(k=Zl(v.type,v.key,v.props,null,p.mode,k),k.ref=xs(p,w,v),k.return=p,p=k)}return s(p);case vo:e:{for(O=v.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(p,w.sibling),w=i(w,v.children||[]),w.return=p,p=w;break e}else{n(p,w);break}else t(p,w);w=w.sibling}w=Sd(v,p.mode,k),w.return=p,p=w}return s(p);case Kr:return O=v._init,x(p,w,O(v._payload),k)}if(Ls(v))return g(p,w,v,k);if(gs(v))return y(p,w,v,k);cl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(p,w.sibling),w=i(w,v),w.return=p,p=w):(n(p,w),w=Ed(v,p.mode,k),w.return=p,p=w),s(p)):n(p,w)}return x}var Xo=Ew(!0),Sw=Ew(!1),Lc=Ei(null),Rc=null,No=null,Lp=null;function Rp(){Lp=No=Rc=null}function jp(e){var t=Lc.current;De(Lc),e._currentValue=t}function Zf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t){Rc=e,Lp=No=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(Lp!==e)if(e={context:e,memoizedValue:t,next:null},No===null){if(Rc===null)throw Error(ue(308));No=e,Rc.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var Pi=null;function Ip(e){Pi===null?Pi=[e]:Pi.push(e)}function kw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ip(t)):(n.next=i.next,i.next=n),t.interleaved=n,kr(e,r)}function kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zr=!1;function Op(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kr(e,n)}return i=r.interleaved,i===null?(t.next=t,Ip(r)):(t.next=i.next,i.next=t),r.interleaved=t,kr(e,n)}function Hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xp(e,n)}}function jm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jc(e,t,n,r){var i=e.updateQueue;zr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=ze({},d,f);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wi|=s,e.lanes=s,e.memoizedState=d}}function Im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var za={},er=Ei(za),va=Ei(za),wa=Ei(za);function Li(e){if(e===za)throw Error(ue(174));return e}function $p(e,t){switch(Oe(wa,t),Oe(va,e),Oe(er,za),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}De(er),Oe(er,t)}function es(){De(er),De(va),De(wa)}function _w(e){Li(wa.current);var t=Li(er.current),n=Tf(t,e.type);t!==n&&(Oe(va,e),Oe(er,n))}function Dp(e){va.current===e&&(De(er),De(va))}var Ue=Ei(0);function Ic(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gd=[];function Bp(){for(var e=0;e<gd.length;e++)gd[e]._workInProgressVersionPrimary=null;gd.length=0}var Vl=Nr.ReactCurrentDispatcher,yd=Nr.ReactCurrentBatchConfig,Vi=0,Ke=null,et=null,st=null,Oc=!1,Vs=!1,ba=0,ok=0;function mt(){throw Error(ue(321))}function Fp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Up(e,t,n,r,i,o){if(Vi=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?ck:uk,e=n(r,i),Vs){o=0;do{if(Vs=!1,ba=0,25<=o)throw Error(ue(301));o+=1,st=et=null,t.updateQueue=null,Vl.current=dk,e=n(r,i)}while(Vs)}if(Vl.current=$c,t=et!==null&&et.next!==null,Vi=0,st=et=Ke=null,Oc=!1,t)throw Error(ue(300));return e}function Kp(){var e=ba!==0;return ba=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ke.memoizedState=st=e:st=st.next=e,st}function Cn(){if(et===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=st===null?Ke.memoizedState:st.next;if(t!==null)st=t,et=e;else{if(e===null)throw Error(ue(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?Ke.memoizedState=st=e:st=st.next=e}return st}function xa(e,t){return typeof t=="function"?t(e):t}function vd(e){var t=Cn(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Vi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ke.lanes|=u,Wi|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Dn(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ke.lanes|=o,Wi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wd(e){var t=Cn(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Dn(o,t.memoizedState)||(Vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nw(){}function Aw(e,t){var n=Ke,r=Cn(),i=t(),o=!Dn(r.memoizedState,i);if(o&&(r.memoizedState=i,Vt=!0),r=r.queue,zp(Pw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ea(9,Tw.bind(null,n,r,i,t),void 0,null),lt===null)throw Error(ue(349));Vi&30||Mw(n,t,i)}return i}function Mw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tw(e,t,n,r){t.value=n,t.getSnapshot=r,Lw(t)&&Rw(e)}function Pw(e,t,n){return n(function(){Lw(t)&&Rw(e)})}function Lw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function Rw(e){var t=kr(e,1);t!==null&&On(t,e,1,-1)}function Om(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=lk.bind(null,Ke,e),[t.memoizedState,e]}function Ea(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jw(){return Cn().memoizedState}function Wl(e,t,n,r){var i=zn();Ke.flags|=e,i.memoizedState=Ea(1|t,n,void 0,r===void 0?null:r)}function ku(e,t,n,r){var i=Cn();r=r===void 0?null:r;var o=void 0;if(et!==null){var s=et.memoizedState;if(o=s.destroy,r!==null&&Fp(r,s.deps)){i.memoizedState=Ea(t,n,o,r);return}}Ke.flags|=e,i.memoizedState=Ea(1|t,n,o,r)}function $m(e,t){return Wl(8390656,8,e,t)}function zp(e,t){return ku(2048,8,e,t)}function Iw(e,t){return ku(4,2,e,t)}function Ow(e,t){return ku(4,4,e,t)}function $w(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dw(e,t,n){return n=n!=null?n.concat([e]):null,ku(4,4,$w.bind(null,t,e),n)}function Hp(){}function Bw(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fw(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uw(e,t,n){return Vi&21?(Dn(n,t)||(n=Wv(),Ke.lanes|=n,Wi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n)}function sk(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=yd.transition;yd.transition={};try{e(!1),t()}finally{je=n,yd.transition=r}}function Kw(){return Cn().memoizedState}function ak(e,t,n){var r=fi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zw(e))Hw(t,n);else if(n=kw(e,t,n,r),n!==null){var i=Ot();On(n,e,r,i),Vw(n,t,r)}}function lk(e,t,n){var r=fi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zw(e))Hw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,s)){var l=t.interleaved;l===null?(i.next=i,Ip(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kw(e,t,i,r),n!==null&&(i=Ot(),On(n,e,r,i),Vw(n,t,r))}}function zw(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Hw(e,t){Vs=Oc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xp(e,n)}}var $c={readContext:kn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},ck={readContext:kn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:$m,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4194308,4,$w.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wl(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ak.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:Om,useDebugValue:Hp,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Om(!1),t=e[0];return e=sk.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,i=zn();if(Be){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=t(),lt===null)throw Error(ue(349));Vi&30||Mw(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$m(Pw.bind(null,r,o,e),[e]),r.flags|=2048,Ea(9,Tw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zn(),t=lt.identifierPrefix;if(Be){var n=hr,r=fr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ba++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ok++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uk={readContext:kn,useCallback:Bw,useContext:kn,useEffect:zp,useImperativeHandle:Dw,useInsertionEffect:Iw,useLayoutEffect:Ow,useMemo:Fw,useReducer:vd,useRef:jw,useState:function(){return vd(xa)},useDebugValue:Hp,useDeferredValue:function(e){var t=Cn();return Uw(t,et.memoizedState,e)},useTransition:function(){var e=vd(xa)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Nw,useSyncExternalStore:Aw,useId:Kw,unstable_isNewReconciler:!1},dk={readContext:kn,useCallback:Bw,useContext:kn,useEffect:zp,useImperativeHandle:Dw,useInsertionEffect:Iw,useLayoutEffect:Ow,useMemo:Fw,useReducer:wd,useRef:jw,useState:function(){return wd(xa)},useDebugValue:Hp,useDeferredValue:function(e){var t=Cn();return et===null?t.memoizedState=e:Uw(t,et.memoizedState,e)},useTransition:function(){var e=wd(xa)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Nw,useSyncExternalStore:Aw,useId:Kw,unstable_isNewReconciler:!1};function Mn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cu={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=fi(e),o=br(r,i);o.payload=t,n!=null&&(o.callback=n),t=ui(e,o,i),t!==null&&(On(t,e,i,r),Hl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=fi(e),o=br(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ui(e,o,i),t!==null&&(On(t,e,i,r),Hl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),r=fi(e),i=br(n,r);i.tag=2,t!=null&&(i.callback=t),t=ui(e,i,r),t!==null&&(On(t,e,r,n),Hl(t,e,r))}};function Dm(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!pa(n,r)||!pa(i,o):!0}function Ww(e,t,n){var r=!1,i=yi,o=t.contextType;return typeof o=="object"&&o!==null?o=kn(o):(i=qt(t)?zi:Mt.current,r=t.contextTypes,o=(r=r!=null)?Qo(e,i):yi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cu.enqueueReplaceState(t,t.state,null)}function Jf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Op(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=kn(o):(o=qt(t)?zi:Mt.current,i.context=Qo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qf(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cu.enqueueReplaceState(i,i.state,null),jc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=BS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function bd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function qw(e,t,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bc||(Bc=!0,ch=r),Xf(e,t)},n}function Gw(e,t,n){n=br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xf(e,t),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Fm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_k.bind(null,e,t,n),t.then(e,e))}function Um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Km(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=br(-1,1),t.tag=2,ui(n,t,1))),n.lanes|=1),e)}var hk=Nr.ReactCurrentOwner,Vt=!1;function Lt(e,t,n,r){t.child=e===null?Sw(t,null,n,r):Xo(t,e.child,n,r)}function zm(e,t,n,r,i){n=n.render;var o=t.ref;return Uo(t,i),r=Up(e,t,n,r,o,i),n=Kp(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cr(e,t,i)):(Be&&n&&Mp(t),t.flags|=1,Lt(e,t,r,i),t.child)}function Hm(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Jp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Yw(e,t,o,r,i)):(e=Zl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(s,r)&&e.ref===t.ref)return Cr(e,t,i)}return t.flags|=1,e=hi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Yw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(pa(o,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,Cr(e,t,i)}return eh(e,t,n,r,i)}function Zw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Mo,en),en|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Mo,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Oe(Mo,en),en|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oe(Mo,en),en|=r;return Lt(e,t,i,n),t.child}function Qw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,n,r,i){var o=qt(n)?zi:Mt.current;return o=Qo(t,o),Uo(t,i),n=Up(e,t,n,r,o,i),r=Kp(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cr(e,t,i)):(Be&&r&&Mp(t),t.flags|=1,Lt(e,t,n,i),t.child)}function Vm(e,t,n,r,i){if(qt(n)){var o=!0;Mc(t)}else o=!1;if(Uo(t,i),t.stateNode===null)ql(e,t),Ww(t,n,r),Jf(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=qt(n)?zi:Mt.current,c=Qo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bm(t,s,r,c),zr=!1;var f=t.memoizedState;s.state=f,jc(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Wt.current||zr?(typeof u=="function"&&(Qf(t,n,u,r),l=t.memoizedState),(a=zr||Dm(t,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Cw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Mn(t.type,a),s.props=c,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=qt(n)?zi:Mt.current,l=Qo(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Bm(t,s,r,l),zr=!1,f=t.memoizedState,s.state=f,jc(t,r,s,i);var g=t.memoizedState;a!==d||f!==g||Wt.current||zr?(typeof m=="function"&&(Qf(t,n,m,r),g=t.memoizedState),(c=zr||Dm(t,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return th(e,t,n,r,o,i)}function th(e,t,n,r,i,o){Qw(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Tm(t,n,!1),Cr(e,t,o);r=t.stateNode,hk.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):Lt(e,t,a,o),t.memoizedState=r.state,i&&Tm(t,n,!0),t.child}function Jw(e){var t=e.stateNode;t.pendingContext?Mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mm(e,t.context,!1),$p(e,t.containerInfo)}function Wm(e,t,n,r,i){return Jo(),Pp(i),t.flags|=256,Lt(e,t,n,r),t.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xw(e,t,n){var r=t.pendingProps,i=Ue.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Ue,i&1),e===null)return Yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Au(s,r,0,null),e=Bi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rh(n),t.memoizedState=nh,e):Vp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pk(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hi(a,o):(o=Bi(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?rh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=nh,r}return o=e.child,e=o.sibling,r=hi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vp(e,t){return t=Au({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,n,r){return r!==null&&Pp(r),Xo(t,e.child,null,n),e=Vp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pk(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=bd(Error(ue(422))),ul(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Au({mode:"visible",children:r.children},i,0,null),o=Bi(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xo(t,e.child,null,s),t.child.memoizedState=rh(s),t.memoizedState=nh,o);if(!(t.mode&1))return ul(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=bd(o,r,void 0),ul(e,t,s,r)}if(a=(s&e.childLanes)!==0,Vt||a){if(r=lt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kr(e,i),On(r,e,i,-1))}return Qp(),r=bd(Error(ue(421))),ul(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nk.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rn=ci(i.nextSibling),on=t,Be=!0,Ln=null,e!==null&&(yn[vn++]=fr,yn[vn++]=hr,yn[vn++]=Hi,fr=e.id,hr=e.overflow,Hi=t),t=Vp(t,r.children),t.flags|=4096,t)}function qm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zf(e.return,t,n)}function xd(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function e2(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qm(e,n,t);else if(e.tag===19)qm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ic(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xd(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ic(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xd(t,!0,n,null,o);break;case"together":xd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mk(e,t,n){switch(t.tag){case 3:Jw(t),Jo();break;case 5:_w(t);break;case 1:qt(t.type)&&Mc(t);break;case 4:$p(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oe(Lc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?Xw(e,t,n):(Oe(Ue,Ue.current&1),e=Cr(e,t,n),e!==null?e.sibling:null);Oe(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return e2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Zw(e,t,n)}return Cr(e,t,n)}var t2,ih,n2,r2;t2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ih=function(){};n2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Li(er.current);var o=null;switch(n){case"input":i=_f(e,i),r=_f(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Mf(e,i),r=Mf(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nc)}Pf(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(aa.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(aa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};r2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Es(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gk(e,t,n){var r=t.pendingProps;switch(Tp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return qt(t.type)&&Ac(),gt(t),null;case 3:return r=t.stateNode,es(),De(Wt),De(Mt),Bp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(fh(Ln),Ln=null))),ih(e,t),gt(t),null;case 5:Dp(t);var i=Li(wa.current);if(n=t.type,e!==null&&t.stateNode!=null)n2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ue(166));return gt(t),null}if(e=Li(er.current),ll(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vn]=t,r[ya]=o,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<js.length;i++)$e(js[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":nm(r,o),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$e("invalid",r);break;case"textarea":im(r,o),$e("invalid",r)}Pf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&al(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&al(r.textContent,a,e),i=["children",""+a]):aa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&$e("scroll",r)}switch(n){case"input":Xa(r),rm(r,o,!0);break;case"textarea":Xa(r),om(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Vn]=t,e[ya]=r,t2(e,t,!1,!1),t.stateNode=e;e:{switch(s=Lf(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<js.length;i++)$e(js[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":nm(e,r),i=_f(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),$e("invalid",e);break;case"textarea":im(e,r),i=Mf(e,r),$e("invalid",e);break;default:i=r}Pf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&la(e,l):typeof l=="number"&&la(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(aa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&$e("scroll",e):l!=null&&mp(e,o,l,s))}switch(n){case"input":Xa(e),rm(e,r,!1);break;case"textarea":Xa(e),om(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$o(e,!!r.multiple,o,!1):r.defaultValue!=null&&$o(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Nc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)r2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ue(166));if(n=Li(wa.current),Li(er.current),ll(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vn]=t,(o=r.nodeValue!==n)&&(e=on,e!==null))switch(e.tag){case 3:al(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=t,t.stateNode=r}return gt(t),null;case 13:if(De(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&rn!==null&&t.mode&1&&!(t.flags&128))xw(),Jo(),t.flags|=98560,o=!1;else if(o=ll(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[Vn]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),o=!1}else Ln!==null&&(fh(Ln),Ln=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?tt===0&&(tt=3):Qp())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return es(),ih(e,t),e===null&&ma(t.stateNode.containerInfo),gt(t),null;case 10:return jp(t.type._context),gt(t),null;case 17:return qt(t.type)&&Ac(),gt(t),null;case 19:if(De(Ue),o=t.memoizedState,o===null)return gt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Es(o,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ic(e),s!==null){for(t.flags|=128,Es(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Ue,Ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ge()>ns&&(t.flags|=128,r=!0,Es(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ic(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Be)return gt(t),null}else 2*Ge()-o.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Es(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ge(),t.sibling=null,n=Ue.current,Oe(Ue,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Zp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?en&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function yk(e,t){switch(Tp(t),t.tag){case 1:return qt(t.type)&&Ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),De(Wt),De(Mt),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dp(t),null;case 13:if(De(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ue),null;case 4:return es(),null;case 10:return jp(t.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var dl=!1,_t=!1,vk=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function oh(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var Gm=!1;function wk(e,t){if(Kf=kc,e=lw(),Ap(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:e,selectionRange:n},kc=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,p=t.stateNode,w=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mn(t.type,y),x);p.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(k){Ve(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return g=Gm,Gm=!1,g}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&oh(t,n,o)}i=i.next}while(i!==r)}}function _u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function i2(e){var t=e.alternate;t!==null&&(e.alternate=null,i2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vn],delete t[ya],delete t[Wf],delete t[tk],delete t[nk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o2(e){return e.tag===5||e.tag===3||e.tag===4}function Ym(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ah(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nc));else if(r!==4&&(e=e.child,e!==null))for(ah(e,t,n),e=e.sibling;e!==null;)ah(e,t,n),e=e.sibling}function lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lh(e,t,n),e=e.sibling;e!==null;)lh(e,t,n),e=e.sibling}var dt=null,Tn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)s2(e,t,n),n=n.sibling}function s2(e,t,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(vu,n)}catch{}switch(n.tag){case 5:_t||Ao(n,t);case 6:var r=dt,i=Tn;dt=null,Mr(e,t,n),dt=r,Tn=i,dt!==null&&(Tn?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Tn?(e=dt,n=n.stateNode,e.nodeType===8?pd(e.parentNode,n):e.nodeType===1&&pd(e,n),fa(e)):pd(dt,n.stateNode));break;case 4:r=dt,i=Tn,dt=n.stateNode.containerInfo,Tn=!0,Mr(e,t,n),dt=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oh(n,t,s),i=i.next}while(i!==r)}Mr(e,t,n);break;case 1:if(!_t&&(Ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Mr(e,t,n),_t=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function Zm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vk),t.forEach(function(r){var i=Ak.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Tn=!1;break e;case 3:dt=a.stateNode.containerInfo,Tn=!0;break e;case 4:dt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(dt===null)throw Error(ue(160));s2(o,s,i),dt=null,Tn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a2(t,e),t=t.sibling}function a2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Fn(e),r&4){try{Ws(3,e,e.return),_u(3,e)}catch(y){Ve(e,e.return,y)}try{Ws(5,e,e.return)}catch(y){Ve(e,e.return,y)}}break;case 1:_n(t,e),Fn(e),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(_n(t,e),Fn(e),r&512&&n!==null&&Ao(n,n.return),e.flags&32){var i=e.stateNode;try{la(i,"")}catch(y){Ve(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Mv(i,o),Lf(a,s);var c=Lf(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?jv(i,d):u==="dangerouslySetInnerHTML"?Lv(i,d):u==="children"?la(i,d):mp(i,u,d,c)}switch(a){case"input":Nf(i,o);break;case"textarea":Tv(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$o(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?$o(i,!!o.multiple,o.defaultValue,!0):$o(i,!!o.multiple,o.multiple?[]:"",!1))}i[ya]=o}catch(y){Ve(e,e.return,y)}}break;case 6:if(_n(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error(ue(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ve(e,e.return,y)}}break;case 3:if(_n(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(t.containerInfo)}catch(y){Ve(e,e.return,y)}break;case 4:_n(t,e),Fn(e);break;case 13:_n(t,e),Fn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Gp=Ge())),r&4&&Zm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(c=_t)||u,_n(t,e),_t=c):_n(t,e),Fn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(d=ge=u;ge!==null;){switch(f=ge,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ws(4,f,f.return);break;case 1:Ao(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Ve(r,n,y)}}break;case 5:Ao(f,f.return);break;case 22:if(f.memoizedState!==null){Jm(d);continue}}m!==null?(m.return=f,ge=m):Jm(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rv("display",s))}catch(y){Ve(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ve(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_n(t,e),Fn(e),r&4&&Zm(e);break;case 21:break;default:_n(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o2(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(la(i,""),r.flags&=-33);var o=Ym(e);lh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ym(e);ah(e,a,s);break;default:throw Error(ue(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bk(e,t,n){ge=e,l2(e)}function l2(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_t;a=dl;var c=_t;if(dl=s,(_t=l)&&!c)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?Xm(i):l!==null?(l.return=s,ge=l):Xm(i);for(;o!==null;)ge=o,l2(o),o=o.sibling;ge=i,dl=a,_t=c}Qm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):Qm(e)}}function Qm(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||_u(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Im(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Im(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&fa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}_t||t.flags&512&&sh(t)}catch(f){Ve(t,t.return,f)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Jm(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Xm(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_u(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var o=t.return;try{sh(t)}catch(l){Ve(t,o,l)}break;case 5:var s=t.return;try{sh(t)}catch(l){Ve(t,s,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}var xk=Math.ceil,Dc=Nr.ReactCurrentDispatcher,Wp=Nr.ReactCurrentOwner,En=Nr.ReactCurrentBatchConfig,Te=0,lt=null,Je=null,ht=0,en=0,Mo=Ei(0),tt=0,Sa=null,Wi=0,Nu=0,qp=0,qs=null,zt=null,Gp=0,ns=1/0,sr=null,Bc=!1,ch=null,di=null,fl=!1,ti=null,Fc=0,Gs=0,uh=null,Gl=-1,Yl=0;function Ot(){return Te&6?Ge():Gl!==-1?Gl:Gl=Ge()}function fi(e){return e.mode&1?Te&2&&ht!==0?ht&-ht:ik.transition!==null?(Yl===0&&(Yl=Wv()),Yl):(e=je,e!==0||(e=window.event,e=e===void 0?16:Xv(e.type)),e):1}function On(e,t,n,r){if(50<Gs)throw Gs=0,uh=null,Error(ue(185));Fa(e,n,r),(!(Te&2)||e!==lt)&&(e===lt&&(!(Te&2)&&(Nu|=n),tt===4&&Zr(e,ht)),Gt(e,r),n===1&&Te===0&&!(t.mode&1)&&(ns=Ge()+500,Su&&Si()))}function Gt(e,t){var n=e.callbackNode;i3(e,t);var r=Sc(e,e===lt?ht:0);if(r===0)n!==null&&lm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lm(n),t===1)e.tag===0?rk(eg.bind(null,e)):vw(eg.bind(null,e)),X3(function(){!(Te&6)&&Si()}),n=null;else{switch(qv(r)){case 1:n=bp;break;case 4:n=Hv;break;case 16:n=Ec;break;case 536870912:n=Vv;break;default:n=Ec}n=g2(n,c2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function c2(e,t){if(Gl=-1,Yl=0,Te&6)throw Error(ue(327));var n=e.callbackNode;if(Ko()&&e.callbackNode!==n)return null;var r=Sc(e,e===lt?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Uc(e,r);else{t=r;var i=Te;Te|=2;var o=d2();(lt!==e||ht!==t)&&(sr=null,ns=Ge()+500,Di(e,t));do try{kk();break}catch(a){u2(e,a)}while(!0);Rp(),Dc.current=o,Te=i,Je!==null?t=0:(lt=null,ht=0,t=tt)}if(t!==0){if(t===2&&(i=$f(e),i!==0&&(r=i,t=dh(e,i))),t===1)throw n=Sa,Di(e,0),Zr(e,r),Gt(e,Ge()),n;if(t===6)Zr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ek(i)&&(t=Uc(e,r),t===2&&(o=$f(e),o!==0&&(r=o,t=dh(e,o))),t===1))throw n=Sa,Di(e,0),Zr(e,r),Gt(e,Ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ue(345));case 2:Ni(e,zt,sr);break;case 3:if(Zr(e,r),(r&130023424)===r&&(t=Gp+500-Ge(),10<t)){if(Sc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vf(Ni.bind(null,e,zt,sr),t);break}Ni(e,zt,sr);break;case 4:if(Zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-In(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xk(r/1960))-r,10<r){e.timeoutHandle=Vf(Ni.bind(null,e,zt,sr),r);break}Ni(e,zt,sr);break;case 5:Ni(e,zt,sr);break;default:throw Error(ue(329))}}}return Gt(e,Ge()),e.callbackNode===n?c2.bind(null,e):null}function dh(e,t){var n=qs;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=Uc(e,t),e!==2&&(t=zt,zt=n,t!==null&&fh(t)),e}function fh(e){zt===null?zt=e:zt.push.apply(zt,e)}function Ek(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~qp,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-In(t),r=1<<n;e[n]=-1,t&=~r}}function eg(e){if(Te&6)throw Error(ue(327));Ko();var t=Sc(e,0);if(!(t&1))return Gt(e,Ge()),null;var n=Uc(e,t);if(e.tag!==0&&n===2){var r=$f(e);r!==0&&(t=r,n=dh(e,r))}if(n===1)throw n=Sa,Di(e,0),Zr(e,t),Gt(e,Ge()),n;if(n===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ni(e,zt,sr),Gt(e,Ge()),null}function Yp(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(ns=Ge()+500,Su&&Si())}}function qi(e){ti!==null&&ti.tag===0&&!(Te&6)&&Ko();var t=Te;Te|=1;var n=En.transition,r=je;try{if(En.transition=null,je=1,e)return e()}finally{je=r,En.transition=n,Te=t,!(Te&6)&&Si()}}function Zp(){en=Mo.current,De(Mo)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J3(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Tp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ac();break;case 3:es(),De(Wt),De(Mt),Bp();break;case 5:Dp(r);break;case 4:es();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:jp(r.type._context);break;case 22:case 23:Zp()}n=n.return}if(lt=e,Je=e=hi(e.current,null),ht=en=t,tt=0,Sa=null,qp=Nu=Wi=0,zt=qs=null,Pi!==null){for(t=0;t<Pi.length;t++)if(n=Pi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Pi=null}return e}function u2(e,t){do{var n=Je;try{if(Rp(),Vl.current=$c,Oc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oc=!1}if(Vi=0,st=et=Ke=null,Vs=!1,ba=0,Wp.current=null,n===null||n.return===null){tt=1,Sa=t,Je=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Um(s);if(m!==null){m.flags&=-257,Km(m,s,a,o,t),m.mode&1&&Fm(o,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){Fm(o,c,t),Qp();break e}l=Error(ue(426))}}else if(Be&&a.mode&1){var x=Um(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Km(x,s,a,o,t),Pp(ts(l,a));break e}}o=l=ts(l,a),tt!==4&&(tt=2),qs===null?qs=[o]:qs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=qw(o,l,t);jm(o,p);break e;case 1:a=l;var w=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(di===null||!di.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=Gw(o,a,t);jm(o,k);break e}}o=o.return}while(o!==null)}h2(n)}catch(P){t=P,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function d2(){var e=Dc.current;return Dc.current=$c,e===null?$c:e}function Qp(){(tt===0||tt===3||tt===2)&&(tt=4),lt===null||!(Wi&268435455)&&!(Nu&268435455)||Zr(lt,ht)}function Uc(e,t){var n=Te;Te|=2;var r=d2();(lt!==e||ht!==t)&&(sr=null,Di(e,t));do try{Sk();break}catch(i){u2(e,i)}while(!0);if(Rp(),Te=n,Dc.current=r,Je!==null)throw Error(ue(261));return lt=null,ht=0,tt}function Sk(){for(;Je!==null;)f2(Je)}function kk(){for(;Je!==null&&!YS();)f2(Je)}function f2(e){var t=m2(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?h2(e):Je=t,Wp.current=null}function h2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yk(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Je=null;return}}else if(n=gk(n,t,en),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);tt===0&&(tt=5)}function Ni(e,t,n){var r=je,i=En.transition;try{En.transition=null,je=1,Ck(e,t,n,r)}finally{En.transition=i,je=r}return null}function Ck(e,t,n,r){do Ko();while(ti!==null);if(Te&6)throw Error(ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(o3(e,o),e===lt&&(Je=lt=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fl||(fl=!0,g2(Ec,function(){return Ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=En.transition,En.transition=null;var s=je;je=1;var a=Te;Te|=4,Wp.current=null,wk(e,n),a2(n,e),V3(zf),kc=!!Kf,zf=Kf=null,e.current=n,bk(n),ZS(),Te=a,je=s,En.transition=o}else e.current=n;if(fl&&(fl=!1,ti=e,Fc=i),o=e.pendingLanes,o===0&&(di=null),XS(n.stateNode),Gt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,e=ch,ch=null,e;return Fc&1&&e.tag!==0&&Ko(),o=e.pendingLanes,o&1?e===uh?Gs++:(Gs=0,uh=e):Gs=0,Si(),null}function Ko(){if(ti!==null){var e=qv(Fc),t=En.transition,n=je;try{if(En.transition=null,je=16>e?16:e,ti===null)var r=!1;else{if(e=ti,ti=null,Fc=0,Te&6)throw Error(ue(331));var i=Te;for(Te|=4,ge=e.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Ws(8,u,o)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var f=u.sibling,m=u.return;if(i2(u),u===c){ge=null;break}if(f!==null){f.return=m,ge=f;break}ge=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ws(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ge=p;break e}ge=o.return}}var w=e.current;for(ge=w;ge!==null;){s=ge;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ge=v;else e:for(s=w;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(P){Ve(a,a.return,P)}if(a===s){ge=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ge=k;break e}ge=a.return}}if(Te=i,Si(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(vu,e)}catch{}r=!0}return r}finally{je=n,En.transition=t}}return!1}function tg(e,t,n){t=ts(n,t),t=qw(e,t,1),e=ui(e,t,1),t=Ot(),e!==null&&(Fa(e,1,t),Gt(e,t))}function Ve(e,t,n){if(e.tag===3)tg(e,e,n);else for(;t!==null;){if(t.tag===3){tg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=ts(n,e),e=Gw(t,e,1),t=ui(t,e,1),e=Ot(),t!==null&&(Fa(t,1,e),Gt(t,e));break}}t=t.return}}function _k(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>Ge()-Gp?Di(e,0):qp|=n),Gt(e,t)}function p2(e,t){t===0&&(e.mode&1?(t=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):t=1);var n=Ot();e=kr(e,t),e!==null&&(Fa(e,t,n),Gt(e,n))}function Nk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p2(e,n)}function Ak(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(t),p2(e,n)}var m2;m2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vt=!1,mk(e,t,n);Vt=!!(e.flags&131072)}else Vt=!1,Be&&t.flags&1048576&&ww(t,Pc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var i=Qo(t,Mt.current);Uo(t,n),i=Up(null,t,r,e,i,n);var o=Kp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(r)?(o=!0,Mc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Op(t),i.updater=Cu,t.stateNode=i,i._reactInternals=t,Jf(t,r,e,n),t=th(null,t,r,!0,o,n)):(t.tag=0,Be&&o&&Mp(t),Lt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tk(r),e=Mn(r,e),i){case 0:t=eh(null,t,r,e,n);break e;case 1:t=Vm(null,t,r,e,n);break e;case 11:t=zm(null,t,r,e,n);break e;case 14:t=Hm(null,t,r,Mn(r.type,e),n);break e}throw Error(ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),eh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),Vm(e,t,r,i,n);case 3:e:{if(Jw(t),e===null)throw Error(ue(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Cw(e,t),jc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ts(Error(ue(423)),t),t=Wm(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(ue(424)),t),t=Wm(e,t,r,n,i);break e}else for(rn=ci(t.stateNode.containerInfo.firstChild),on=t,Be=!0,Ln=null,n=Sw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===i){t=Cr(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return _w(t),e===null&&Yf(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Hf(r,i)?s=null:o!==null&&Hf(r,o)&&(t.flags|=32),Qw(e,t),Lt(e,t,s,n),t.child;case 6:return e===null&&Yf(t),null;case 13:return Xw(e,t,n);case 4:return $p(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xo(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),zm(e,t,r,i,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Oe(Lc,r._currentValue),r._currentValue=s,o!==null)if(Dn(o.value,s)){if(o.children===i.children&&!Wt.current){t=Cr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=br(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zf(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uo(t,n),i=kn(i),r=r(i),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,i=Mn(r,t.pendingProps),i=Mn(r.type,i),Hm(e,t,r,i,n);case 15:return Yw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),ql(e,t),t.tag=1,qt(r)?(e=!0,Mc(t)):e=!1,Uo(t,n),Ww(t,r,i),Jf(t,r,i,n),th(null,t,r,!0,e,n);case 19:return e2(e,t,n);case 22:return Zw(e,t,n)}throw Error(ue(156,t.tag))};function g2(e,t){return zv(e,t)}function Mk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new Mk(e,t,n,r)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tk(e){if(typeof e=="function")return Jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yp)return 11;if(e===vp)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Jp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case wo:return Bi(n.children,i,o,t);case gp:s=8,i|=8;break;case Ef:return e=bn(12,n,t,i|2),e.elementType=Ef,e.lanes=o,e;case Sf:return e=bn(13,n,t,i),e.elementType=Sf,e.lanes=o,e;case kf:return e=bn(19,n,t,i),e.elementType=kf,e.lanes=o,e;case _v:return Au(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kv:s=10;break e;case Cv:s=9;break e;case yp:s=11;break e;case vp:s=14;break e;case Kr:s=16,r=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=bn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Bi(e,t,n,r){return e=bn(7,e,r,t),e.lanes=n,e}function Au(e,t,n,r){return e=bn(22,e,r,t),e.elementType=_v,e.lanes=n,e.stateNode={isHidden:!1},e}function Ed(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function Sd(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xp(e,t,n,r,i,o,s,a,l){return e=new Pk(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=bn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(o),e}function Lk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function y2(e){if(!e)return yi;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var n=e.type;if(qt(n))return yw(e,n,t)}return t}function v2(e,t,n,r,i,o,s,a,l){return e=Xp(n,r,!0,e,i,o,s,a,l),e.context=y2(null),n=e.current,r=Ot(),i=fi(n),o=br(r,i),o.callback=t??null,ui(n,o,i),e.current.lanes=i,Fa(e,i,r),Gt(e,r),e}function Mu(e,t,n,r){var i=t.current,o=Ot(),s=fi(i);return n=y2(n),t.context===null?t.context=n:t.pendingContext=n,t=br(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ui(i,t,s),e!==null&&(On(e,i,s,o),Hl(e,i,s)),s}function Kc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function e0(e,t){ng(e,t),(e=e.alternate)&&ng(e,t)}function Rk(){return null}var w2=typeof reportError=="function"?reportError:function(e){console.error(e)};function t0(e){this._internalRoot=e}Tu.prototype.render=t0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Mu(e,t,null,null)};Tu.prototype.unmount=t0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qi(function(){Mu(null,e,null,null)}),t[Sr]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yr.length&&t!==0&&t<Yr[n].priority;n++);Yr.splice(n,0,e),n===0&&Jv(e)}};function n0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rg(){}function jk(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Kc(s);o.call(c)}}var s=v2(t,r,e,0,null,!1,!1,"",rg);return e._reactRootContainer=s,e[Sr]=s.current,ma(e.nodeType===8?e.parentNode:e),qi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kc(l);a.call(c)}}var l=Xp(e,0,!1,null,null,!1,!1,"",rg);return e._reactRootContainer=l,e[Sr]=l.current,ma(e.nodeType===8?e.parentNode:e),qi(function(){Mu(t,l,n,r)}),l}function Lu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Kc(s);a.call(l)}}Mu(t,s,e,i)}else s=jk(n,t,e,i,r);return Kc(s)}Gv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rs(t.pendingLanes);n!==0&&(xp(t,n|1),Gt(t,Ge()),!(Te&6)&&(ns=Ge()+500,Si()))}break;case 13:qi(function(){var r=kr(e,1);if(r!==null){var i=Ot();On(r,e,1,i)}}),e0(e,1)}};Ep=function(e){if(e.tag===13){var t=kr(e,134217728);if(t!==null){var n=Ot();On(t,e,134217728,n)}e0(e,134217728)}};Yv=function(e){if(e.tag===13){var t=fi(e),n=kr(e,t);if(n!==null){var r=Ot();On(n,e,t,r)}e0(e,t)}};Zv=function(){return je};Qv=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};jf=function(e,t,n){switch(t){case"input":if(Nf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Eu(r);if(!i)throw Error(ue(90));Av(r),Nf(r,i)}}}break;case"textarea":Tv(e,n);break;case"select":t=n.value,t!=null&&$o(e,!!n.multiple,t,!1)}};$v=Yp;Dv=qi;var Ik={usingClientEntryPoint:!1,Events:[Ka,So,Eu,Iv,Ov,Yp]},Ss={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||Rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{vu=hl.inject(Ok),Xn=hl}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(t))throw Error(ue(200));return Lk(e,t,null,n)};an.createRoot=function(e,t){if(!n0(e))throw Error(ue(299));var n=!1,r="",i=w2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xp(e,1,!1,null,null,n,!1,r,i),e[Sr]=t.current,ma(e.nodeType===8?e.parentNode:e),new t0(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=Uv(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return qi(e)};an.hydrate=function(e,t,n){if(!Pu(t))throw Error(ue(200));return Lu(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!n0(e))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=w2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=v2(t,null,e,1,n??null,i,!1,o,s),e[Sr]=t.current,ma(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Tu(t)};an.render=function(e,t,n){if(!Pu(t))throw Error(ue(200));return Lu(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!Pu(e))throw Error(ue(40));return e._reactRootContainer?(qi(function(){Lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};an.unstable_batchedUpdates=Yp;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pu(n))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Lu(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function b2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b2)}catch(e){console.error(e)}}b2(),bv.exports=an;var Ru=bv.exports,ig=Ru;bf.createRoot=ig.createRoot,bf.hydrateRoot=ig.hydrateRoot;const $k="modulepreload",Dk=function(e){return"/"+e},og={},Bk=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Dk(l),l in og)return;og[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":$k,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var Gi=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hh={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||sg!==void 0&&sg,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=o!==void 0&&o||typeof self<"u"&&self||a!==void 0&&a,l="URLSearchParams"in a,c="Symbol"in a&&"iterator"in Symbol,u="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in a,f="ArrayBuffer"in a;if(f)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(b){return b&&m.indexOf(Object.prototype.toString.call(b))>-1};function y(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function x(b){return typeof b!="string"&&(b=String(b)),b}function p(b){var S={next:function(){var M=b.shift();return{done:M===void 0,value:M}}};return c&&(S[Symbol.iterator]=function(){return S}),S}function w(b){this.map={},b instanceof w?b.forEach(function(S,M){this.append(M,S)},this):Array.isArray(b)?b.forEach(function(S){this.append(S[0],S[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(S){this.append(S,b[S])},this)}function v(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function k(b){return new Promise(function(S,M){b.onload=function(){S(b.result)},b.onerror=function(){M(b.error)}})}function P(b){var S=new FileReader,M=k(S);return S.readAsArrayBuffer(b),M}function O(b){if(b.slice)return b.slice(0);var S=new Uint8Array(b.byteLength);return S.set(new Uint8Array(b)),S.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(b){var S;this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:u&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:d&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:l&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():f&&u&&(S=b)&&DataView.prototype.isPrototypeOf(S)?(this._bodyArrayBuffer=O(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f&&(ArrayBuffer.prototype.isPrototypeOf(b)||g(b))?this._bodyArrayBuffer=O(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var b=v(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=v(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(P)}),this.text=function(){var b,S,M,T=v(this);if(T)return T;if(this._bodyBlob)return b=this._bodyBlob,S=new FileReader,M=k(S),S.readAsText(b),M;if(this._bodyArrayBuffer)return Promise.resolve(function(_){for(var A=new Uint8Array(_),I=new Array(A.length),j=0;j<A.length;j++)I[j]=String.fromCharCode(A[j]);return I.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}w.prototype.append=function(b,S){b=y(b),S=x(S);var M=this.map[b];this.map[b]=M?M+", "+S:S},w.prototype.delete=function(b){delete this.map[y(b)]},w.prototype.get=function(b){return b=y(b),this.has(b)?this.map[b]:null},w.prototype.has=function(b){return this.map.hasOwnProperty(y(b))},w.prototype.set=function(b,S){this.map[y(b)]=x(S)},w.prototype.forEach=function(b,S){for(var M in this.map)this.map.hasOwnProperty(M)&&b.call(S,this.map[M],M,this)},w.prototype.keys=function(){var b=[];return this.forEach(function(S,M){b.push(M)}),p(b)},w.prototype.values=function(){var b=[];return this.forEach(function(S){b.push(S)}),p(b)},w.prototype.entries=function(){var b=[];return this.forEach(function(S,M){b.push([M,S])}),p(b)},c&&(w.prototype[Symbol.iterator]=w.prototype.entries);var B=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(b,S){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var M,T,_=(S=S||{}).body;if(b instanceof H){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,S.headers||(this.headers=new w(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,_||b._bodyInit==null||(_=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=S.credentials||this.credentials||"same-origin",!S.headers&&this.headers||(this.headers=new w(S.headers)),this.method=(M=S.method||this.method||"GET",T=M.toUpperCase(),B.indexOf(T)>-1?T:M),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_),!(this.method!=="GET"&&this.method!=="HEAD"||S.cache!=="no-store"&&S.cache!=="no-cache")){var A=/([?&])_=[^&]*/;A.test(this.url)?this.url=this.url.replace(A,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function D(b){var S=new FormData;return b.trim().split("&").forEach(function(M){if(M){var T=M.split("="),_=T.shift().replace(/\+/g," "),A=T.join("=").replace(/\+/g," ");S.append(decodeURIComponent(_),decodeURIComponent(A))}}),S}function K(b,S){if(!(this instanceof K))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new w(S.headers),this.url=S.url||"",this._initBody(b)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})},F.call(H.prototype),F.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},K.error=function(){var b=new K(null,{status:0,statusText:""});return b.type="error",b};var z=[301,302,303,307,308];K.redirect=function(b,S){if(z.indexOf(S)===-1)throw new RangeError("Invalid status code");return new K(null,{status:S,headers:{location:b}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(S,M){this.message=S,this.name=M;var T=Error(S);this.stack=T.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function E(b,S){return new Promise(function(M,T){var _=new H(b,S);if(_.signal&&_.signal.aborted)return T(new s.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function I(){A.abort()}A.onload=function(){var j,C,N={status:A.status,statusText:A.statusText,headers:(j=A.getAllResponseHeaders()||"",C=new w,j.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var $=R.split(":"),V=$.shift().trim();if(V){var U=$.join(":").trim();C.append(V,U)}}),C)};N.url="responseURL"in A?A.responseURL:N.headers.get("X-Request-URL");var L="response"in A?A.response:A.responseText;setTimeout(function(){M(new K(L,N))},0)},A.onerror=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},A.ontimeout=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},A.onabort=function(){setTimeout(function(){T(new s.DOMException("Aborted","AbortError"))},0)},A.open(_.method,function(j){try{return j===""&&a.location.href?a.location.href:j}catch{return j}}(_.url),!0),_.credentials==="include"?A.withCredentials=!0:_.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&(u?A.responseType="blob":f&&_.headers.get("Content-Type")&&_.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(A.responseType="arraybuffer")),!S||typeof S.headers!="object"||S.headers instanceof w?_.headers.forEach(function(j,C){A.setRequestHeader(C,j)}):Object.getOwnPropertyNames(S.headers).forEach(function(j){A.setRequestHeader(j,x(S.headers[j]))}),_.signal&&(_.signal.addEventListener("abort",I),A.onreadystatechange=function(){A.readyState===4&&_.signal.removeEventListener("abort",I)}),A.send(_._bodyInit===void 0?null:_._bodyInit)})}E.polyfill=!0,a.fetch||(a.fetch=E,a.Headers=w,a.Request=H,a.Response=K),s.Headers=w,s.Request=H,s.Response=K,s.fetch=E})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(hh,hh.exports);var x2=hh.exports;function E2(){throw new Error("setTimeout has not been defined")}function S2(){throw new Error("clearTimeout has not been defined")}var Or=E2,$r=S2;function k2(e){if(Or===setTimeout)return setTimeout(e,0);if((Or===E2||!Or)&&setTimeout)return Or=setTimeout,setTimeout(e,0);try{return Or(e,0)}catch{try{return Or.call(null,e,0)}catch{return Or.call(this,e,0)}}}typeof Gi.setTimeout=="function"&&(Or=setTimeout),typeof Gi.clearTimeout=="function"&&($r=clearTimeout);var Ri,pr=[],zo=!1,Ql=-1;function Fk(){zo&&Ri&&(zo=!1,Ri.length?pr=Ri.concat(pr):Ql=-1,pr.length&&C2())}function C2(){if(!zo){var e=k2(Fk);zo=!0;for(var t=pr.length;t;){for(Ri=pr,pr=[];++Ql<t;)Ri&&Ri[Ql].run();Ql=-1,t=pr.length}Ri=null,zo=!1,function(n){if($r===clearTimeout)return clearTimeout(n);if(($r===S2||!$r)&&clearTimeout)return $r=clearTimeout,clearTimeout(n);try{return $r(n)}catch{try{return $r.call(null,n)}catch{return $r.call(this,n)}}}(e)}}function _2(e,t){this.fun=e,this.array=t}_2.prototype.run=function(){this.fun.apply(null,this.array)};function eo(){}var Uk=eo,Kk=eo,zk=eo,Hk=eo,Vk=eo,Wk=eo,qk=eo,ho=Gi.performance||{},Gk=ho.now||ho.mozNow||ho.msNow||ho.oNow||ho.webkitNow||function(){return new Date().getTime()},Yk=new Date,kd,ag,Ye={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];pr.push(new _2(e,t)),pr.length!==1||zo||k2(C2)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Uk,addListener:Kk,once:zk,off:Hk,removeListener:Vk,removeAllListeners:Wk,emit:qk,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Gk.call(ho),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Yk)/1e3}},ph={exports:{}};function Zk(){if(ag)return kd;ag=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function s(a,l,c,u){var d=l>=1.5*c;return Math.round(a/c)+" "+u+(d?"s":"")}return kd=function(a,l){l=l||{};var c=typeof a;if(c==="string"&&a.length>0)return function(u){if(!((u=String(u)).length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]);switch((d[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(a);if(c==="number"&&isFinite(a))return l.long?function(u){var d=Math.abs(u);return d>=r?s(u,d,r,"day"):d>=n?s(u,d,n,"hour"):d>=t?s(u,d,t,"minute"):d>=e?s(u,d,e,"second"):u+" ms"}(a):function(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))},kd}var Qk=function(e){function t(i){let o,s,a,l=null;function c(...u){if(!c.enabled)return;const d=c,f=Number(new Date),m=f-(o||f);d.diff=m,d.prev=o,d.curr=f,o=f,u[0]=t.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(y,x)=>{if(y==="%%")return"%";g++;const p=t.formatters[x];if(typeof p=="function"){const w=u[g];y=p.call(d,w),u.splice(g,1),g--}return y}),t.formatArgs.call(d,u),(d.log||t.log).apply(d,u)}return c.namespace=i,c.useColors=t.useColors(),c.color=t.selectColor(i),c.extend=n,c.destroy=t.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(i)),a),set:u=>{l=u}}),typeof t.init=="function"&&t.init(c),c}function n(i,o){const s=t(this.namespace+(o===void 0?":":o)+i);return s.log=this.log,s}function r(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(i){return i instanceof Error?i.stack||i.message:i},t.disable=function(){const i=[...t.names.map(r),...t.skips.map(r).map(o=>"-"+o)].join(",");return t.enable(""),i},t.enable=function(i){let o;t.save(i),t.namespaces=i,t.names=[],t.skips=[];const s=(typeof i=="string"?i:"").split(/[\s,]+/),a=s.length;for(o=0;o<a;o++)s[o]&&((i=s[o].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))},t.enabled=function(i){if(i[i.length-1]==="*")return!0;let o,s;for(o=0,s=t.skips.length;o<s;o++)if(t.skips[o].test(i))return!1;for(o=0,s=t.names.length;o<s;o++)if(t.names[o].test(i))return!0;return!1},t.humanize=Zk(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(i){let o=0;for(let s=0;s<i.length;s++)o=(o<<5)-o+i.charCodeAt(s),o|=0;return t.colors[Math.abs(o)%t.colors.length]},t.enable(t.load()),t};(function(e,t){t.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(s=o))}),r.splice(s,0,i)},t.save=function(r){try{r?t.storage.setItem("debug",r):t.storage.removeItem("debug")}catch{}},t.load=function(){let r;try{r=t.storage.getItem("debug")}catch{}return!r&&Ye!==void 0&&"env"in Ye&&(r=Ye.env.DEBUG),r},t.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Qk(t);const{formatters:n}=e.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(ph,ph.exports);var It=ph.exports;const Jk=/\{[^{}]+\}/g;function Xk(e){var d,f;let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:i,bodySerializer:o,headers:s,requestInitExt:a,...l}={...e};a=typeof Ye=="object"&&Number.parseInt((f=(d=Ye==null?void 0:Ye.versions)==null?void 0:d.node)==null?void 0:f.substring(0,2))>=18&&Ye.versions.undici?a:void 0,t=cg(t);const c=[];async function u(m,g){const{baseUrl:y,fetch:x=r,Request:p=n,headers:w,params:v={},parseAs:k="json",querySerializer:P,bodySerializer:O=o??e5,body:F,...B}=g||{};y&&(t=cg(y));let H=typeof i=="function"?i:lg(i);P&&(H=typeof P=="function"?P:lg({...typeof i=="object"?i:{},...P}));const D=F===void 0?void 0:O(F),K=D===void 0||D instanceof FormData?{}:{"Content-Type":"application/json"},z={redirect:"follow",...l,...B,body:D,headers:t5(K,s,w,v.header)};let E,b,S,M=new n(function(_,A){var C;let I=`${A.baseUrl}${_}`;(C=A.params)!=null&&C.path&&(I=function(N,L){let R=N;for(const $ of N.match(Jk)??[]){let V=$.substring(1,$.length-1),U=!1,q="simple";if(V.endsWith("*")&&(U=!0,V=V.substring(0,V.length-1)),V.startsWith(".")?(q="label",V=V.substring(1)):V.startsWith(";")&&(q="matrix",V=V.substring(1)),!L||L[V]===void 0||L[V]===null)continue;const Y=L[V];Array.isArray(Y)?R=R.replace($,A2(V,Y,{style:q,explode:U})):R=typeof Y!="object"?q!=="matrix"?R.replace($,q==="label"?`.${encodeURIComponent(Y)}`:encodeURIComponent(Y)):R.replace($,`;${ju(V,Y)}`):R.replace($,N2(V,Y,{style:q,explode:U}))}return R}(I,A.params.path));let j=A.querySerializer(A.params.query??{});return j.startsWith("?")&&(j=j.substring(1)),j&&(I+=`?${j}`),I}(m,{baseUrl:t,params:v,querySerializer:H}),z);for(const _ in B)_ in M||(M[_]=B[_]);if(c.length){E=Math.random().toString(36).slice(2,11),b=Object.freeze({baseUrl:t,fetch:x,parseAs:k,querySerializer:H,bodySerializer:O});for(const _ of c)if(_&&typeof _=="object"&&typeof _.onRequest=="function"){const A=await _.onRequest({request:M,schemaPath:m,params:v,options:b,id:E});if(A){if(!(A instanceof n)){if(A instanceof Response){S=A;break}throw new Error("onRequest: must return new Request() or Response() when modifying the request")}M=A}}}if(!S){try{S=await x(M,a)}catch(_){let A=_;if(c.length)for(let I=c.length-1;I>=0;I--){const j=c[I];if(j&&typeof j=="object"&&typeof j.onError=="function"){const C=await j.onError({request:M,error:A,schemaPath:m,params:v,options:b,id:E});if(C){if(C instanceof Response){A=void 0,S=C;break}if(C instanceof Error){A=C;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(A)throw A}if(c.length)for(let _=c.length-1;_>=0;_--){const A=c[_];if(A&&typeof A=="object"&&typeof A.onResponse=="function"){const I=await A.onResponse({request:M,response:S,schemaPath:m,params:v,options:b,id:E});if(I){if(!(I instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");S=I}}}}if(S.status===204||S.headers.get("Content-Length")==="0")return S.ok?{data:void 0,response:S}:{error:void 0,response:S};if(S.ok)return k==="stream"?{data:S.body,response:S}:{data:await S[k](),response:S};let T=await S.text();try{T=JSON.parse(T)}catch{}return{error:T,response:S}}return{request:(m,g,y)=>u(g,{...y,method:m.toUpperCase()}),GET:(m,g)=>u(m,{...g,method:"GET"}),PUT:(m,g)=>u(m,{...g,method:"PUT"}),POST:(m,g)=>u(m,{...g,method:"POST"}),DELETE:(m,g)=>u(m,{...g,method:"DELETE"}),OPTIONS:(m,g)=>u(m,{...g,method:"OPTIONS"}),HEAD:(m,g)=>u(m,{...g,method:"HEAD"}),PATCH:(m,g)=>u(m,{...g,method:"PATCH"}),TRACE:(m,g)=>u(m,{...g,method:"TRACE"}),use(...m){for(const g of m)if(g){if(typeof g!="object"||!("onRequest"in g||"onResponse"in g||"onError"in g))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");c.push(g)}},eject(...m){for(const g of m){const y=c.indexOf(g);y!==-1&&c.splice(y,1)}}}}function ju(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${(n==null?void 0:n.allowReserved)===!0?t:encodeURIComponent(t)}`}function N2(e,t,n){if(!t||typeof t!="object")return"";const r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const a in t)r.push(a,n.allowReserved===!0?t[a]:encodeURIComponent(t[a]));const s=r.join(",");switch(n.style){case"form":return`${e}=${s}`;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return s}}for(const s in t){const a=n.style==="deepObject"?`${e}[${s}]`:s;r.push(ju(a,t[s],n))}const o=r.join(i);return n.style==="label"||n.style==="matrix"?`${i}${o}`:o}function A2(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const o={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",s=(n.allowReserved===!0?t:t.map(a=>encodeURIComponent(a))).join(o);switch(n.style){case"simple":return s;case"label":return`.${s}`;case"matrix":return`;${e}=${s}`;default:return`${e}=${s}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(const o of t)n.style==="simple"||n.style==="label"?i.push(n.allowReserved===!0?o:encodeURIComponent(o)):i.push(ju(e,o,n));return n.style==="label"||n.style==="matrix"?`${r}${i.join(r)}`:i.join(r)}function lg(e){return function(t){const n=[];if(t&&typeof t=="object")for(const r in t){const i=t[r];if(i!=null)if(Array.isArray(i)){if(i.length===0)continue;n.push(A2(r,i,{style:"form",explode:!0,...e==null?void 0:e.array,allowReserved:(e==null?void 0:e.allowReserved)||!1}))}else typeof i!="object"?n.push(ju(r,i,e)):n.push(N2(r,i,{style:"deepObject",explode:!0,...e==null?void 0:e.object,allowReserved:(e==null?void 0:e.allowReserved)||!1}))}return n.join("&")}}function e5(e){return e instanceof FormData?e:JSON.stringify(e)}function t5(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[i,o]of r)if(o===null)t.delete(i);else if(Array.isArray(o))for(const s of o)t.append(i,s);else o!==void 0&&t.set(i,o)}return t}function cg(e){return e.endsWith("/")?e.substring(0,e.length-1):e}var mh,ug,n5=class{constructor(e){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=e.batchSize,this.baseTimeoutMs=e.baseTimeoutMs,this.currentTimeoutMs=e.baseTimeoutMs,this.sendFn=e.sendFn}enqueue(e){this.batch.push(e),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const e=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(e),this.currentTimeoutMs=this.baseTimeoutMs}catch(t){console.error("Sender: Failed to send batch",t),this.batch=[...e,...this.batch],this.currentTimeoutMs=Math.min(2*this.currentTimeoutMs,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},r5=class{constructor(e){this.enabled=!1,this.properties={};const t=Xk({baseUrl:e});this.sender=new n5({batchSize:100,baseTimeoutMs:200,sendFn:async n=>{const r=await t.POST("/v1/events",{body:n});if(r.response.status!==200)throw new Error(r.error)}})}enable(){this.enabled=!0}setGlobalProperty(e,t){this.properties[e]=t}track(e,t){if(!this.enabled)return;const n={name:e,...this.properties,...t};this.sender.enqueue(n)}};Ye!==void 0&&Ye.env&&(mh=(ug=Ye.env.METAMASK_ANALYTICS_ENDPOINT)!=null?ug:Ye.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var dg,qe=new r5(mh??"https://mm-sdk-analytics.api.cx.metamask.io/"),Ha={exports:{}};dg=Ha,function(e){var t=Object.hasOwnProperty,n=Array.isArray?Array.isArray:function(E){return Object.prototype.toString.call(E)==="[object Array]"},r=typeof Ye=="object"&&typeof Ye.nextTick=="function",i=typeof Symbol=="function",o=typeof Reflect=="object",s=typeof setImmediate=="function"?setImmediate:setTimeout,a=i?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(E){var b=Object.getOwnPropertyNames(E);return b.push.apply(b,Object.getOwnPropertySymbols(E)),b}:Object.keys;function l(){this._events={},this._conf&&c.call(this,this._conf)}function c(E){E&&(this._conf=E,E.delimiter&&(this.delimiter=E.delimiter),E.maxListeners!==e&&(this._maxListeners=E.maxListeners),E.wildcard&&(this.wildcard=E.wildcard),E.newListener&&(this._newListener=E.newListener),E.removeListener&&(this._removeListener=E.removeListener),E.verboseMemoryLeak&&(this.verboseMemoryLeak=E.verboseMemoryLeak),E.ignoreErrors&&(this.ignoreErrors=E.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function u(E,b){var S="(node) warning: possible EventEmitter memory leak detected. "+E+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(S+=" Event name: "+b+"."),Ye!==void 0&&Ye.emitWarning){var M=new Error(S);M.name="MaxListenersExceededWarning",M.emitter=this,M.count=E,Ye.emitWarning(M)}else console.error(S),console.trace&&console.trace()}var d=function(E,b,S){var M=arguments.length;switch(M){case 0:return[];case 1:return[E];case 2:return[E,b];case 3:return[E,b,S];default:for(var T=new Array(M);M--;)T[M]=arguments[M];return T}};function f(E,b){for(var S={},M=E.length,T=0,_=0;_<M;_++)S[E[_]]=_<T?b[_]:e;return S}function m(E,b,S){var M,T;if(this._emitter=E,this._target=b,this._listeners={},this._listenersCount=0,(S.on||S.off)&&(M=S.on,T=S.off),b.addEventListener?(M=b.addEventListener,T=b.removeEventListener):b.addListener?(M=b.addListener,T=b.removeListener):b.on&&(M=b.on,T=b.off),!M&&!T)throw Error("target does not implement any known event API");if(typeof M!="function")throw TypeError("on method must be a function");if(typeof T!="function")throw TypeError("off method must be a function");this._on=M,this._off=T;var _=E._observers;_?_.push(this):E._observers=[this]}function g(E,b,S,M){var T=Object.assign({},b);if(!E)return T;if(typeof E!="object")throw TypeError("options must be an object");var _,A,I,j=Object.keys(E),C=j.length;function N(R){throw Error('Invalid "'+_+'" option value'+(R?". Reason: "+R:""))}for(var L=0;L<C;L++){if(_=j[L],!t.call(b,_))throw Error('Unknown "'+_+'" option');(A=E[_])!==e&&(I=S[_],T[_]=I?I(A,N):A)}return T}function y(E,b){return typeof E=="function"&&E.hasOwnProperty("prototype")||b("value must be a constructor"),E}function x(E){var b="value must be type of "+E.join("|"),S=E.length,M=E[0],T=E[1];return S===1?function(_,A){if(typeof _===M)return _;A(b)}:S===2?function(_,A){var I=typeof _;if(I===M||I===T)return _;A(b)}:function(_,A){for(var I=typeof _,j=S;j-- >0;)if(I===E[j])return _;A(b)}}Object.assign(m.prototype,{subscribe:function(E,b,S){var M=this,T=this._target,_=this._emitter,A=this._listeners,I=function(){var j=d.apply(null,arguments),C={data:j,name:b,original:E};S?S.call(T,C)!==!1&&_.emit.apply(_,[C.name].concat(j)):_.emit.apply(_,[b].concat(j))};if(A[E])throw Error("Event '"+E+"' is already listening");this._listenersCount++,_._newListener&&_._removeListener&&!M._onNewListener?(this._onNewListener=function(j){j===b&&A[E]===null&&(A[E]=I,M._on.call(T,E,I))},_.on("newListener",this._onNewListener),this._onRemoveListener=function(j){j===b&&!_.hasListeners(j)&&A[E]&&(A[E]=null,M._off.call(T,E,I))},A[E]=null,_.on("removeListener",this._onRemoveListener)):(A[E]=I,M._on.call(T,E,I))},unsubscribe:function(E){var b,S,M,T=this,_=this._listeners,A=this._emitter,I=this._off,j=this._target;if(E&&typeof E!="string")throw TypeError("event must be a string");function C(){T._onNewListener&&(A.off("newListener",T._onNewListener),A.off("removeListener",T._onRemoveListener),T._onNewListener=null,T._onRemoveListener=null);var N=k.call(A,T);A._observers.splice(N,1)}if(E){if(!(b=_[E]))return;I.call(j,E,b),delete _[E],--this._listenersCount||C()}else{for(M=(S=a(_)).length;M-- >0;)E=S[M],I.call(j,E,_[E]);this._listeners={},this._listenersCount=0,C()}}});var p=x(["function"]),w=x(["object","function"]);function v(E,b,S){var M,T,_,A=0,I=new E(function(j,C,N){function L(){T&&(T=null),A&&(clearTimeout(A),A=0)}S=g(S,{timeout:0,overload:!1},{timeout:function(V,U){return(typeof(V*=1)!="number"||V<0||!Number.isFinite(V))&&U("timeout must be a positive number"),V}}),M=!S.overload&&typeof E.prototype.cancel=="function"&&typeof N=="function";var R=function(V){L(),j(V)},$=function(V){L(),C(V)};M?b(R,$,N):(T=[function(V){$(V||Error("canceled"))}],b(R,$,function(V){if(_)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof V!="function")throw TypeError("onCancel callback must be a function");T.push(V)}),_=!0),S.timeout>0&&(A=setTimeout(function(){var V=Error("timeout");V.code="ETIMEDOUT",A=0,I.cancel(V),C(V)},S.timeout))});return M||(I.cancel=function(j){if(T){for(var C=T.length,N=1;N<C;N++)T[N](j);T[0](j),T=null}}),I}function k(E){var b=this._observers;if(!b)return-1;for(var S=b.length,M=0;M<S;M++)if(b[M]._target===E)return M;return-1}function P(E,b,S,M,T){if(!S)return null;if(M===0){var _=typeof b;if(_==="string"){var A,I,j=0,C=0,N=this.delimiter,L=N.length;if((I=b.indexOf(N))!==-1){A=new Array(5);do A[j++]=b.slice(C,I),C=I+L;while((I=b.indexOf(N,C))!==-1);A[j++]=b.slice(C),b=A,T=j}else b=[b],T=1}else _==="object"?T=b.length:(b=[b],T=1)}var R,$,V,U,q,Y,J,G=null,ce=b[M],fe=b[M+1];if(M===T)S._listeners&&(typeof S._listeners=="function"?(E&&E.push(S._listeners),G=[S]):(E&&E.push.apply(E,S._listeners),G=[S]));else{if(ce==="*"){for(I=(Y=a(S)).length;I-- >0;)(R=Y[I])!=="_listeners"&&(J=P(E,b,S[R],M+1,T))&&(G?G.push.apply(G,J):G=J);return G}if(ce==="**"){for((q=M+1===T||M+2===T&&fe==="*")&&S._listeners&&(G=P(E,b,S,T,T)),I=(Y=a(S)).length;I-- >0;)(R=Y[I])!=="_listeners"&&(R==="*"||R==="**"?(S[R]._listeners&&!q&&(J=P(E,b,S[R],T,T))&&(G?G.push.apply(G,J):G=J),J=P(E,b,S[R],M,T)):J=P(E,b,S[R],R===fe?M+2:M,T),J&&(G?G.push.apply(G,J):G=J));return G}S[ce]&&(G=P(E,b,S[ce],M+1,T))}if(($=S["*"])&&P(E,b,$,M+1,T),V=S["**"])if(M<T)for(V._listeners&&P(E,b,V,T,T),I=(Y=a(V)).length;I-- >0;)(R=Y[I])!=="_listeners"&&(R===fe?P(E,b,V[R],M+2,T):R===ce?P(E,b,V[R],M+1,T):((U={})[R]=V[R],P(E,b,{"**":U},M+1,T)));else V._listeners?P(E,b,V,T,T):V["*"]&&V["*"]._listeners&&P(E,b,V["*"],T,T);return G}function O(E,b,S){var M,T,_=0,A=0,I=this.delimiter,j=I.length;if(typeof E=="string")if((M=E.indexOf(I))!==-1){T=new Array(5);do T[_++]=E.slice(A,M),A=M+j;while((M=E.indexOf(I,A))!==-1);T[_++]=E.slice(A)}else T=[E],_=1;else T=E,_=E.length;if(_>1){for(M=0;M+1<_;M++)if(T[M]==="**"&&T[M+1]==="**")return}var C,N=this.listenerTree;for(M=0;M<_;M++)if(N=N[C=T[M]]||(N[C]={}),M===_-1)return N._listeners?(typeof N._listeners=="function"&&(N._listeners=[N._listeners]),S?N._listeners.unshift(b):N._listeners.push(b),!N._listeners.warned&&this._maxListeners>0&&N._listeners.length>this._maxListeners&&(N._listeners.warned=!0,u.call(this,N._listeners.length,C))):N._listeners=b,!0;return!0}function F(E,b,S,M){for(var T,_,A,I,j=a(E),C=j.length,N=E._listeners;C-- >0;)T=E[_=j[C]],A=_==="_listeners"?S:S?S.concat(_):[_],I=M||typeof _=="symbol",N&&b.push(I?A:A.join(this.delimiter)),typeof T=="object"&&F.call(this,T,b,A,I);return b}function B(E){for(var b,S,M,T=a(E),_=T.length;_-- >0;)(b=E[S=T[_]])&&(M=!0,S==="_listeners"||B(b)||delete E[S]);return M}function H(E,b,S){this.emitter=E,this.event=b,this.listener=S}function D(E,b,S){if(S===!0)T=!0;else if(S===!1)M=!0;else{if(!S||typeof S!="object")throw TypeError("options should be an object or true");var M=S.async,T=S.promisify,_=S.nextTick,A=S.objectify}if(M||_||T){var I=b,j=b._origin||b;if(_&&!r)throw Error("process.nextTick is not supported");T===e&&(T=b.constructor.name==="AsyncFunction"),b=function(){var C=arguments,N=this,L=this.event;return T?_?Promise.resolve():new Promise(function(R){s(R)}).then(function(){return N.event=L,I.apply(N,C)}):(_?Ye.nextTick:s)(function(){N.event=L,I.apply(N,C)})},b._async=!0,b._origin=j}return[b,A?new H(this,E,b):this]}function K(E){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,E)}H.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},K.EventEmitter2=K,K.prototype.listenTo=function(E,b,S){if(typeof E!="object")throw TypeError("target musts be an object");var M=this;function T(_){if(typeof _!="object")throw TypeError("events must be an object");var A,I=S.reducers,j=k.call(M,E);A=j===-1?new m(M,E,S):M._observers[j];for(var C,N=a(_),L=N.length,R=typeof I=="function",$=0;$<L;$++)C=N[$],A.subscribe(C,_[C]||C,R?I:I&&I[C])}return S=g(S,{on:e,off:e,reducers:e},{on:p,off:p,reducers:w}),n(b)?T(f(b)):T(typeof b=="string"?f(b.split(/\s+/)):b),this},K.prototype.stopListeningTo=function(E,b){var S=this._observers;if(!S)return!1;var M,T=S.length,_=!1;if(E&&typeof E!="object")throw TypeError("target should be an object");for(;T-- >0;)M=S[T],E&&M._target!==E||(M.unsubscribe(b),_=!0);return _},K.prototype.delimiter=".",K.prototype.setMaxListeners=function(E){E!==e&&(this._maxListeners=E,this._conf||(this._conf={}),this._conf.maxListeners=E)},K.prototype.getMaxListeners=function(){return this._maxListeners},K.prototype.event="",K.prototype.once=function(E,b,S){return this._once(E,b,!1,S)},K.prototype.prependOnceListener=function(E,b,S){return this._once(E,b,!0,S)},K.prototype._once=function(E,b,S,M){return this._many(E,1,b,S,M)},K.prototype.many=function(E,b,S,M){return this._many(E,b,S,!1,M)},K.prototype.prependMany=function(E,b,S,M){return this._many(E,b,S,!0,M)},K.prototype._many=function(E,b,S,M,T){var _=this;if(typeof S!="function")throw new Error("many only accepts instances of Function");function A(){return--b==0&&_.off(E,A),S.apply(this,arguments)}return A._origin=S,this._on(E,A,M,T)},K.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var E,b,S,M,T,_,A=arguments[0],I=this.wildcard;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(I&&(E=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(S=A.length,i){for(M=0;M<S;M++)if(typeof A[M]=="symbol"){_=!0;break}}_||(A=A.join(this.delimiter))}var j,C=arguments.length;if(this._all&&this._all.length)for(M=0,S=(j=this._all.slice()).length;M<S;M++)switch(this.event=A,C){case 1:j[M].call(this,A);break;case 2:j[M].call(this,A,arguments[1]);break;case 3:j[M].call(this,A,arguments[1],arguments[2]);break;default:j[M].apply(this,arguments)}if(I)j=[],P.call(this,j,E,this.listenerTree,0,S);else{if(typeof(j=this._events[A])=="function"){switch(this.event=A,C){case 1:j.call(this);break;case 2:j.call(this,arguments[1]);break;case 3:j.call(this,arguments[1],arguments[2]);break;default:for(b=new Array(C-1),T=1;T<C;T++)b[T-1]=arguments[T];j.apply(this,b)}return!0}j&&(j=j.slice())}if(j&&j.length){if(C>3)for(b=new Array(C-1),T=1;T<C;T++)b[T-1]=arguments[T];for(M=0,S=j.length;M<S;M++)switch(this.event=A,C){case 1:j[M].call(this);break;case 2:j[M].call(this,arguments[1]);break;case 3:j[M].call(this,arguments[1],arguments[2]);break;default:j[M].apply(this,b)}return!0}if(!this.ignoreErrors&&!this._all&&A==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},K.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var E,b,S,M,T,_,A=arguments[0],I=this.wildcard;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(I&&(E=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(M=A.length,i){for(T=0;T<M;T++)if(typeof A[T]=="symbol"){b=!0;break}}b||(A=A.join(this.delimiter))}var j,C=[],N=arguments.length;if(this._all)for(T=0,M=this._all.length;T<M;T++)switch(this.event=A,N){case 1:C.push(this._all[T].call(this,A));break;case 2:C.push(this._all[T].call(this,A,arguments[1]));break;case 3:C.push(this._all[T].call(this,A,arguments[1],arguments[2]));break;default:C.push(this._all[T].apply(this,arguments))}if(I?(j=[],P.call(this,j,E,this.listenerTree,0)):j=this._events[A],typeof j=="function")switch(this.event=A,N){case 1:C.push(j.call(this));break;case 2:C.push(j.call(this,arguments[1]));break;case 3:C.push(j.call(this,arguments[1],arguments[2]));break;default:for(S=new Array(N-1),_=1;_<N;_++)S[_-1]=arguments[_];C.push(j.apply(this,S))}else if(j&&j.length){if(j=j.slice(),N>3)for(S=new Array(N-1),_=1;_<N;_++)S[_-1]=arguments[_];for(T=0,M=j.length;T<M;T++)switch(this.event=A,N){case 1:C.push(j[T].call(this));break;case 2:C.push(j[T].call(this,arguments[1]));break;case 3:C.push(j[T].call(this,arguments[1],arguments[2]));break;default:C.push(j[T].apply(this,S))}}else if(!this.ignoreErrors&&!this._all&&A==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(C)},K.prototype.on=function(E,b,S){return this._on(E,b,!1,S)},K.prototype.prependListener=function(E,b,S){return this._on(E,b,!0,S)},K.prototype.onAny=function(E){return this._onAny(E,!1)},K.prototype.prependAny=function(E){return this._onAny(E,!0)},K.prototype.addListener=K.prototype.on,K.prototype._onAny=function(E,b){if(typeof E!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),b?this._all.unshift(E):this._all.push(E),this},K.prototype._on=function(E,b,S,M){if(typeof E=="function")return this._onAny(E,b),this;if(typeof b!="function")throw new Error("on only accepts instances of Function");this._events||l.call(this);var T,_=this;return M!==e&&(b=(T=D.call(this,E,b,M))[0],_=T[1]),this._newListener&&this.emit("newListener",E,b),this.wildcard?(O.call(this,E,b,S),_):(this._events[E]?(typeof this._events[E]=="function"&&(this._events[E]=[this._events[E]]),S?this._events[E].unshift(b):this._events[E].push(b),!this._events[E].warned&&this._maxListeners>0&&this._events[E].length>this._maxListeners&&(this._events[E].warned=!0,u.call(this,this._events[E].length,E))):this._events[E]=b,_)},K.prototype.off=function(E,b){if(typeof b!="function")throw new Error("removeListener only takes instances of Function");var S,M=[];if(this.wildcard){var T=typeof E=="string"?E.split(this.delimiter):E.slice();if(!(M=P.call(this,null,T,this.listenerTree,0)))return this}else{if(!this._events[E])return this;S=this._events[E],M.push({_listeners:S})}for(var _=0;_<M.length;_++){var A=M[_];if(S=A._listeners,n(S)){for(var I=-1,j=0,C=S.length;j<C;j++)if(S[j]===b||S[j].listener&&S[j].listener===b||S[j]._origin&&S[j]._origin===b){I=j;break}if(I<0)continue;return this.wildcard?A._listeners.splice(I,1):this._events[E].splice(I,1),S.length===0&&(this.wildcard?delete A._listeners:delete this._events[E]),this._removeListener&&this.emit("removeListener",E,b),this}(S===b||S.listener&&S.listener===b||S._origin&&S._origin===b)&&(this.wildcard?delete A._listeners:delete this._events[E],this._removeListener&&this.emit("removeListener",E,b))}return this.listenerTree&&B(this.listenerTree),this},K.prototype.offAny=function(E){var b,S=0,M=0;if(E&&this._all&&this._all.length>0){for(S=0,M=(b=this._all).length;S<M;S++)if(E===b[S])return b.splice(S,1),this._removeListener&&this.emit("removeListenerAny",E),this}else{if(b=this._all,this._removeListener)for(S=0,M=b.length;S<M;S++)this.emit("removeListenerAny",b[S]);this._all=[]}return this},K.prototype.removeListener=K.prototype.off,K.prototype.removeAllListeners=function(E){if(E===e)return!this._events||l.call(this),this;if(this.wildcard){var b,S=P.call(this,null,E,this.listenerTree,0);if(!S)return this;for(b=0;b<S.length;b++)S[b]._listeners=null;this.listenerTree&&B(this.listenerTree)}else this._events&&(this._events[E]=null);return this},K.prototype.listeners=function(E){var b,S,M,T,_,A=this._events;if(E===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!A)return[];for(T=(b=a(A)).length,M=[];T-- >0;)typeof(S=A[b[T]])=="function"?M.push(S):M.push.apply(M,S);return M}if(this.wildcard){if(!(_=this.listenerTree))return[];var I=[],j=typeof E=="string"?E.split(this.delimiter):E.slice();return P.call(this,I,j,_,0),I}return A&&(S=A[E])?typeof S=="function"?[S]:S:[]},K.prototype.eventNames=function(E){var b=this._events;return this.wildcard?F.call(this,this.listenerTree,[],null,E):b?a(b):[]},K.prototype.listenerCount=function(E){return this.listeners(E).length},K.prototype.hasListeners=function(E){if(this.wildcard){var b=[],S=typeof E=="string"?E.split(this.delimiter):E.slice();return P.call(this,b,S,this.listenerTree,0),b.length>0}var M=this._events,T=this._all;return!!(T&&T.length||M&&(E===e?a(M).length:M[E]))},K.prototype.listenersAny=function(){return this._all?this._all:[]},K.prototype.waitFor=function(E,b){var S=this,M=typeof b;return M==="number"?b={timeout:b}:M==="function"&&(b={filter:b}),v((b=g(b,{timeout:0,filter:e,handleError:!1,Promise,overload:!1},{filter:p,Promise:y})).Promise,function(T,_,A){function I(){var j=b.filter;if(!j||j.apply(S,arguments))if(S.off(E,I),b.handleError){var C=arguments[0];C?_(C):T(d.apply(null,arguments).slice(1))}else T(d.apply(null,arguments))}A(function(){S.off(E,I)}),S._on(E,I,!1)},{timeout:b.timeout,overload:b.overload})};var z=K.prototype;Object.defineProperties(K,{defaultMaxListeners:{get:function(){return z._maxListeners},set:function(E){if(typeof E!="number"||E<0||Number.isNaN(E))throw TypeError("n must be a non-negative number");z._maxListeners=E},enumerable:!0},once:{value:function(E,b,S){return v((S=g(S,{Promise,timeout:0,overload:!1},{Promise:y})).Promise,function(M,T,_){var A;if(typeof E.addEventListener=="function")return A=function(){M(d.apply(null,arguments))},_(function(){E.removeEventListener(b,A)}),void E.addEventListener(b,A,{once:!0});var I,j=function(){I&&E.removeListener("error",I),M(d.apply(null,arguments))};b!=="error"&&(I=function(C){E.removeListener(b,j),T(C)},E.once("error",I)),_(function(){I&&E.removeListener("error",I),E.removeListener(b,j)}),E.once(b,j)},{timeout:S.timeout,overload:S.overload})},writable:!0,configurable:!0}}),Object.defineProperties(z,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),dg.exports=K}();var Cd,i5=Ha.exports,o5=new Uint8Array(16);function s5(){if(!Cd&&!(Cd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cd(o5)}var a5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zc(e){return typeof e=="string"&&a5.test(e)}for(var ut=[],_d=0;_d<256;++_d)ut.push((_d+256).toString(16).substr(1));function M2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ut[e[t+0]]+ut[e[t+1]]+ut[e[t+2]]+ut[e[t+3]]+"-"+ut[e[t+4]]+ut[e[t+5]]+"-"+ut[e[t+6]]+ut[e[t+7]]+"-"+ut[e[t+8]]+ut[e[t+9]]+"-"+ut[e[t+10]]+ut[e[t+11]]+ut[e[t+12]]+ut[e[t+13]]+ut[e[t+14]]+ut[e[t+15]]).toLowerCase();if(!zc(n))throw TypeError("Stringified UUID is invalid");return n}function fg(e,t,n){function r(i,o,s,a){if(typeof i=="string"&&(i=function(u){u=unescape(encodeURIComponent(u));for(var d=[],f=0;f<u.length;++f)d.push(u.charCodeAt(f));return d}(i)),typeof o=="string"&&(o=function(u){if(!zc(u))throw TypeError("Invalid UUID");var d,f=new Uint8Array(16);return f[0]=(d=parseInt(u.slice(0,8),16))>>>24,f[1]=d>>>16&255,f[2]=d>>>8&255,f[3]=255&d,f[4]=(d=parseInt(u.slice(9,13),16))>>>8,f[5]=255&d,f[6]=(d=parseInt(u.slice(14,18),16))>>>8,f[7]=255&d,f[8]=(d=parseInt(u.slice(19,23),16))>>>8,f[9]=255&d,f[10]=(d=parseInt(u.slice(24,36),16))/1099511627776&255,f[11]=d/4294967296&255,f[12]=d>>>24&255,f[13]=d>>>16&255,f[14]=d>>>8&255,f[15]=255&d,f}(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),(l=n(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return M2(l)}try{r.name=e}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function hg(e){return 14+(e+64>>>9<<4)+1}function ni(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Iu(e,t,n,r,i,o){return ni((s=ni(ni(t,e),ni(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function yt(e,t,n,r,i,o,s){return Iu(t&n|~t&r,e,t,i,o,s)}function vt(e,t,n,r,i,o,s){return Iu(t&r|n&~r,e,t,i,o,s)}function wt(e,t,n,r,i,o,s){return Iu(t^n^r,e,t,i,o,s)}function bt(e,t,n,r,i,o,s){return Iu(n^(t|~r),e,t,i,o,s)}function Qr(e,t,n){var r=(e=e||{}).random||(e.rng||s5)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,M2(r)}function l5(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Nd(e,t){return e<<t|e>>>32-t}fg("v3",48,function(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(r){for(var i=[],o=32*r.length,s="0123456789abcdef",a=0;a<o;a+=8){var l=r[a>>5]>>>a%32&255,c=parseInt(s.charAt(l>>>4&15)+s.charAt(15&l),16);i.push(c)}return i}(function(r,i){r[i>>5]|=128<<i%32,r[hg(i)-1]=i;for(var o=1732584193,s=-271733879,a=-1732584194,l=271733878,c=0;c<r.length;c+=16){var u=o,d=s,f=a,m=l;o=yt(o,s,a,l,r[c],7,-680876936),l=yt(l,o,s,a,r[c+1],12,-389564586),a=yt(a,l,o,s,r[c+2],17,606105819),s=yt(s,a,l,o,r[c+3],22,-1044525330),o=yt(o,s,a,l,r[c+4],7,-176418897),l=yt(l,o,s,a,r[c+5],12,1200080426),a=yt(a,l,o,s,r[c+6],17,-1473231341),s=yt(s,a,l,o,r[c+7],22,-45705983),o=yt(o,s,a,l,r[c+8],7,1770035416),l=yt(l,o,s,a,r[c+9],12,-1958414417),a=yt(a,l,o,s,r[c+10],17,-42063),s=yt(s,a,l,o,r[c+11],22,-1990404162),o=yt(o,s,a,l,r[c+12],7,1804603682),l=yt(l,o,s,a,r[c+13],12,-40341101),a=yt(a,l,o,s,r[c+14],17,-1502002290),o=vt(o,s=yt(s,a,l,o,r[c+15],22,1236535329),a,l,r[c+1],5,-165796510),l=vt(l,o,s,a,r[c+6],9,-1069501632),a=vt(a,l,o,s,r[c+11],14,643717713),s=vt(s,a,l,o,r[c],20,-373897302),o=vt(o,s,a,l,r[c+5],5,-701558691),l=vt(l,o,s,a,r[c+10],9,38016083),a=vt(a,l,o,s,r[c+15],14,-660478335),s=vt(s,a,l,o,r[c+4],20,-405537848),o=vt(o,s,a,l,r[c+9],5,568446438),l=vt(l,o,s,a,r[c+14],9,-1019803690),a=vt(a,l,o,s,r[c+3],14,-187363961),s=vt(s,a,l,o,r[c+8],20,1163531501),o=vt(o,s,a,l,r[c+13],5,-1444681467),l=vt(l,o,s,a,r[c+2],9,-51403784),a=vt(a,l,o,s,r[c+7],14,1735328473),o=wt(o,s=vt(s,a,l,o,r[c+12],20,-1926607734),a,l,r[c+5],4,-378558),l=wt(l,o,s,a,r[c+8],11,-2022574463),a=wt(a,l,o,s,r[c+11],16,1839030562),s=wt(s,a,l,o,r[c+14],23,-35309556),o=wt(o,s,a,l,r[c+1],4,-1530992060),l=wt(l,o,s,a,r[c+4],11,1272893353),a=wt(a,l,o,s,r[c+7],16,-155497632),s=wt(s,a,l,o,r[c+10],23,-1094730640),o=wt(o,s,a,l,r[c+13],4,681279174),l=wt(l,o,s,a,r[c],11,-358537222),a=wt(a,l,o,s,r[c+3],16,-722521979),s=wt(s,a,l,o,r[c+6],23,76029189),o=wt(o,s,a,l,r[c+9],4,-640364487),l=wt(l,o,s,a,r[c+12],11,-421815835),a=wt(a,l,o,s,r[c+15],16,530742520),o=bt(o,s=wt(s,a,l,o,r[c+2],23,-995338651),a,l,r[c],6,-198630844),l=bt(l,o,s,a,r[c+7],10,1126891415),a=bt(a,l,o,s,r[c+14],15,-1416354905),s=bt(s,a,l,o,r[c+5],21,-57434055),o=bt(o,s,a,l,r[c+12],6,1700485571),l=bt(l,o,s,a,r[c+3],10,-1894986606),a=bt(a,l,o,s,r[c+10],15,-1051523),s=bt(s,a,l,o,r[c+1],21,-2054922799),o=bt(o,s,a,l,r[c+8],6,1873313359),l=bt(l,o,s,a,r[c+15],10,-30611744),a=bt(a,l,o,s,r[c+6],15,-1560198380),s=bt(s,a,l,o,r[c+13],21,1309151649),o=bt(o,s,a,l,r[c+4],6,-145523070),l=bt(l,o,s,a,r[c+11],10,-1120210379),a=bt(a,l,o,s,r[c+2],15,718787259),s=bt(s,a,l,o,r[c+9],21,-343485551),o=ni(o,u),s=ni(s,d),a=ni(a,f),l=ni(l,m)}return[o,s,a,l]}(function(r){if(r.length===0)return[];for(var i=8*r.length,o=new Uint32Array(hg(i)),s=0;s<i;s+=8)o[s>>5]|=(255&r[s/8])<<s%32;return o}(e),8*e.length))}),fg("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];a[l]=c}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=a[d][m];for(var g=16;g<80;++g)f[g]=Nd(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var y=n[0],x=n[1],p=n[2],w=n[3],v=n[4],k=0;k<80;++k){var P=Math.floor(k/20),O=Nd(y,5)+l5(P,x,p,w)+v+t[P]+f[k]>>>0;v=w,w=p,p=Nd(x,30)>>>0,x=y,y=O}n[0]=n[0]+y>>>0,n[1]=n[1]+x>>>0,n[2]=n[2]+p>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const Hn=Object.create(null);Hn.open="0",Hn.close="1",Hn.ping="2",Hn.pong="3",Hn.message="4",Hn.upgrade="5",Hn.noop="6";const Jl=Object.create(null);Object.keys(Hn).forEach(e=>{Jl[Hn[e]]=e});const c5={type:"error",data:"parser error"},T2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",P2=typeof ArrayBuffer=="function",L2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gh=({type:e,data:t},n,r)=>T2&&t instanceof Blob?n?r(t):pg(t,r):P2&&(t instanceof ArrayBuffer||L2(t))?n?r(t):pg(new Blob([t]),r):r(Hn[e]+(t||"")),pg=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mg(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ad;function u5(e,t){return T2&&e.data instanceof Blob?e.data.arrayBuffer().then(mg).then(t):P2&&(e.data instanceof ArrayBuffer||L2(e.data))?t(mg(e.data)):void gh(e,!1,n=>{Ad||(Ad=new TextEncoder),t(Ad.encode(n))})}const d5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Is=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<64;e++)Is[d5.charCodeAt(e)]=e;const f5=typeof ArrayBuffer=="function",yh=(e,t)=>{if(typeof e!="string")return{type:"message",data:R2(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:h5(e.substring(1),t)}:Jl[n]?e.length>1?{type:Jl[n],data:e.substring(1)}:{type:Jl[n]}:c5},h5=(e,t)=>{if(f5){const n=(r=>{let i,o,s,a,l,c=.75*r.length,u=r.length,d=0;r[r.length-1]==="="&&(c--,r[r.length-2]==="="&&c--);const f=new ArrayBuffer(c),m=new Uint8Array(f);for(i=0;i<u;i+=4)o=Is[r.charCodeAt(i)],s=Is[r.charCodeAt(i+1)],a=Is[r.charCodeAt(i+2)],l=Is[r.charCodeAt(i+3)],m[d++]=o<<2|s>>4,m[d++]=(15&s)<<4|a>>2,m[d++]=(3&a)<<6|63&l;return f})(e);return R2(n,t)}return{base64:!0,data:e}},R2=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,gg="";let Md;function Qe(e){if(e)return function(t){for(var n in Qe.prototype)t[n]=Qe.prototype[n];return t}(e)}Qe.prototype.on=Qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Qe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Qe.prototype.off=Qe.prototype.removeListener=Qe.prototype.removeAllListeners=Qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this},Qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Qe.prototype.emitReserved=Qe.prototype.emit,Qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function j2(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const p5=wn.setTimeout,m5=wn.clearTimeout;function Ou(e,t){t.useNativeTimers?(e.setTimeoutFn=p5.bind(wn),e.clearTimeoutFn=m5.bind(wn)):(e.setTimeoutFn=wn.setTimeout.bind(wn),e.clearTimeoutFn=wn.clearTimeout.bind(wn))}class g5 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Td extends Qe{constructor(t){super(),this.writable=!1,Ou(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new g5(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=yh(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=function(r){let i="";for(let o in r)r.hasOwnProperty(o)&&(i.length&&(i+="&"),i+=encodeURIComponent(o)+"="+encodeURIComponent(r[o]));return i}(t);return n.length?"?"+n:""}}const I2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),vh=64,y5={};let yg,vg=0,pl=0;function wg(e){let t="";do t=I2[e%vh]+t,e=Math.floor(e/vh);while(e>0);return t}function bg(){const e=wg(+new Date);return e!==yg?(vg=0,yg=e):e+"."+wg(vg++)}for(;pl<vh;pl++)y5[I2[pl]]=pl;let O2=!1;try{O2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const v5=O2;function $2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||v5))return new XMLHttpRequest}catch{}if(!t)try{return new wn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function w5(){}const b5=new $2({xdomain:!1}).responseType!=null;class tr extends Qe{constructor(t,n){super(),Ou(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=j2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new $2(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=tr.requestsCount++,tr.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(this.xhr!==void 0&&this.xhr!==null){if(this.xhr.onreadystatechange=w5,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete tr.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}tr.requestsCount=0,tr.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",xg):typeof addEventListener=="function"&&addEventListener("onpagehide"in wn?"pagehide":"unload",xg,!1));function xg(){for(let e in tr.requests)tr.requests.hasOwnProperty(e)&&tr.requests[e].abort()}const wh=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ml=wn.WebSocket||wn.MozWebSocket,Eg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";function x5(e,t){return e.type==="message"&&typeof e.data!="string"&&t[0]>=48&&t[0]<=54}const E5={websocket:class extends Td{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Eg?{}:j2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Eg?new ml(e,t,n):t?new ml(e,t):new ml(e)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;gh(n,this.supportsBinary,i=>{try{this.ws.send(i)}catch{}r&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=bg()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!ml}},webtransport:class extends Td{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=e.readable.getReader();let n;this.writer=e.writable.getWriter();const r=()=>{t.read().then(({done:o,value:s})=>{o||(n||s.byteLength!==1||s[0]!==54?(this.onPacket(function(a,l,c){Md||(Md=new TextDecoder);const u=l||a[0]<48||a[0]>54;return yh(u?a:Md.decode(a),c)}(s,n,"arraybuffer")),n=!1):n=!0,r())}).catch(o=>{})};r();const i=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write(new TextEncoder().encode(i)).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;u5(n,i=>{x5(n,i)&&this.writer.write(Uint8Array.of(54)),this.writer.write(i).then(()=>{r&&wh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}},polling:class extends Td{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=b5&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((t,n)=>{const r=t.split(gg),i=[];for(let o=0;o<r.length;o++){const s=yh(r[o],n);if(i.push(s),s.type==="error")break}return i})(e,this.socket.binaryType).forEach(t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)}),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,((t,n)=>{const r=t.length,i=new Array(r);let o=0;t.forEach((s,a)=>{gh(s,!1,l=>{i[a]=l,++o===r&&n(i.join(gg))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=bg()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new tr(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}},S5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,k5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bh(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=S5.exec(e||""),o={},s=14;for(;s--;)o[k5[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(a,l){const c=/\/{2,9}/g,u=l.replace(c,"/").split("/");return l.slice(0,1)!="/"&&l.length!==0||u.splice(0,1),l.slice(-1)=="/"&&u.splice(u.length-1,1),u}(0,o.path),o.queryKey=function(a,l){const c={};return l.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,d,f){d&&(c[d]=f)}),c}(0,o.query),o}let D2=class po extends Qe{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=bh(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=bh(n.host).host),Ou(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=function(r){let i={},o=r.split("&");for(let s=0,a=o.length;s<a;s++){let l=o[s].split("=");i[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return i}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new E5[t](r)}open(){let t;if(this.opts.rememberUpgrade&&po.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(this.transports.length===0)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;po.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;po.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const s=d=>{const f=new Error("probe error: "+d);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function l(){s("socket closed")}function c(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",po.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=typeof(n=i)=="string"?function(o){let s=0,a=0;for(let l=0,c=o.length;l<c;l++)s=o.charCodeAt(l),s<128?a+=1:s<2048?a+=2:s<55296||s>=57344?a+=3:(l++,a+=4);return a}(n):Math.ceil(1.33*(n.byteLength||n.size))),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}var n;return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;(r=r||{}).compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){po.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};D2.protocol=4;const C5=typeof ArrayBuffer=="function",_5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,B2=Object.prototype.toString,N5=typeof Blob=="function"||typeof Blob<"u"&&B2.call(Blob)==="[object BlobConstructor]",A5=typeof File=="function"||typeof File<"u"&&B2.call(File)==="[object FileConstructor]";function r0(e){return C5&&(e instanceof ArrayBuffer||_5(e))||N5&&e instanceof Blob||A5&&e instanceof File}function Xl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Xl(e[n]))return!0;return!1}if(r0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Xl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Xl(e[n]))return!0;return!1}function M5(e){const t=[],n=e.data,r=e;return r.data=xh(n,t),r.attachments=t.length,{packet:r,buffers:t}}function xh(e,t){if(!e)return e;if(r0(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=xh(e[r],t);return n}if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=xh(e[r],t));return n}return e}function T5(e,t){return e.data=Eh(e.data,t),delete e.attachments,e}function Eh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Eh(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Eh(e[n],t));return e}const P5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var _e;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(_e||(_e={}));function Sg(e){return Object.prototype.toString.call(e)==="[object Object]"}class i0 extends Qe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===_e.BINARY_EVENT;r||n.type===_e.BINARY_ACK?(n.type=r?_e.EVENT:_e.ACK,this.reconstructor=new L5(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else{if(!r0(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(_e[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===_e.BINARY_EVENT||r.type===_e.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(!i0.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case _e.CONNECT:return Sg(n);case _e.DISCONNECT:return n===void 0;case _e.CONNECT_ERROR:return typeof n=="string"||Sg(n);case _e.EVENT:case _e.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&P5.indexOf(n[0])===-1);case _e.ACK:case _e.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class L5{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=T5(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var R5=Object.freeze({__proto__:null,Decoder:i0,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==_e.EVENT&&e.type!==_e.ACK||!Xl(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===_e.EVENT?_e.BINARY_EVENT:_e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==_e.BINARY_EVENT&&e.type!==_e.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=M5(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},get PacketType(){return _e},protocol:5});function Pn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const j5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class F2 extends Qe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pn(t,"open",this.onopen.bind(this)),Pn(t,"packet",this.onpacket.bind(this)),Pn(t,"error",this.onerror.bind(this)),Pn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(j5.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:_e.EVENT,data:n,options:{}};if(r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,s=n.pop();this._registerAckCallback(o,s),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0)return void(this.acks[t]=n);const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...s)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...s])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{n.push((s,a)=>r?s?o(s):i(a):i(s)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>{if(r===this._queue[0])return i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:_e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case _e.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _e.EVENT:case _e.BINARY_EVENT:this.onevent(t);break;case _e.ACK:case _e.BINARY_ACK:this.onack(t);break;case _e.DISCONNECT:this.ondisconnect();break;case _e.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:_e.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function mo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}mo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},mo.prototype.reset=function(){this.attempts=0},mo.prototype.setMin=function(e){this.ms=e},mo.prototype.setMax=function(e){this.max=e},mo.prototype.setJitter=function(e){this.jitter=e};class Sh extends Qe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Ou(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new mo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||R5;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new D2(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Pn(n,"open",function(){r.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=Pn(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pn(t,"ping",this.onping.bind(this)),Pn(t,"data",this.ondata.bind(this)),Pn(t,"error",this.onerror.bind(this)),Pn(t,"close",this.onclose.bind(this)),Pn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){wh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new F2(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ks={};function ec(e,t){typeof e=="object"&&(t=e,e=void 0);const n=function(l,c="",u){let d=l;u=u||typeof location<"u"&&location,l==null&&(l=u.protocol+"//"+u.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l=l.charAt(1)==="/"?u.protocol+l:u.host+l),/^(https?|wss?):\/\//.test(l)||(l=u!==void 0?u.protocol+"//"+l:"https://"+l),d=bh(l)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";const f=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+f+":"+d.port+c,d.href=d.protocol+"://"+f+(u&&u.port===d.port?"":":"+d.port),d}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=ks[i]&&o in ks[i].nsps;let a;return t.forceNew||t["force new connection"]||t.multiplex===!1||s?a=new Sh(r,t):(ks[i]||(ks[i]=new Sh(r,t)),a=ks[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}function ne(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{l(r.next(c))}catch(u){o(u)}}function a(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}Object.assign(ec,{Manager:Sh,Socket:F2,io:ec,connect:ec}),typeof SuppressedError=="function"&&SuppressedError;var $t=Gi!==void 0?Gi:typeof self<"u"?self:typeof window<"u"?window:{},Wn=[],pn=[],I5=typeof Uint8Array<"u"?Uint8Array:Array,o0=!1;function U2(){o0=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)Wn[t]=e[t],pn[e.charCodeAt(t)]=t;pn[45]=62,pn[95]=63}function O5(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(Wn[(i=r)>>18&63]+Wn[i>>12&63]+Wn[i>>6&63]+Wn[63&i]);return o.join("")}function kg(e){var t;o0||U2();for(var n=e.length,r=n%3,i="",o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(O5(e,a,a+s>l?l:a+s));return r===1?(t=e[n-1],i+=Wn[t>>2],i+=Wn[t<<4&63],i+="=="):r===2&&(t=(e[n-2]<<8)+e[n-1],i+=Wn[t>>10],i+=Wn[t>>4&63],i+=Wn[t<<2&63],i+="="),o.push(i),o.join("")}function gl(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,m=e[t+d];for(d+=f,o=m&(1<<-u)-1,m>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,r),o-=c}return(m?-1:1)*s*Math.pow(2,o-r)}function K2(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,g=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+m]=255&a,m+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+m]=255&s,m+=g,s/=256,c-=8);e[n+m-g]|=128*y}var $5={}.toString,z2=Array.isArray||function(e){return $5.call(e)=="[object Array]"};oe.TYPED_ARRAY_SUPPORT=$t.TYPED_ARRAY_SUPPORT===void 0||$t.TYPED_ARRAY_SUPPORT;var D5=Hc();function Hc(){return oe.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function mr(e,t){if(Hc()<t)throw new RangeError("Invalid typed array length");return oe.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=oe.prototype:(e===null&&(e=new oe(t)),e.length=t),e}function oe(e,t,n){if(!(oe.TYPED_ARRAY_SUPPORT||this instanceof oe))return new oe(e,t,n);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return kh(this,e)}return H2(this,e,t,n)}function H2(e,t,n,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?function(i,o,s,a){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(a||0))throw new RangeError("'length' is out of bounds");return o=s===void 0&&a===void 0?new Uint8Array(o):a===void 0?new Uint8Array(o,s):new Uint8Array(o,s,a),oe.TYPED_ARRAY_SUPPORT?(i=o).__proto__=oe.prototype:i=Pd(i,o),i}(e,t,n,r):typeof t=="string"?function(i,o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!oe.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var a=0|W2(o,s),l=(i=mr(i,a)).write(o,s);return l!==a&&(i=i.slice(0,l)),i}(e,t,n):function(i,o){if(qn(o)){var s=0|s0(o.length);return(i=mr(i,s)).length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(a=o.length)!=a?mr(i,0):Pd(i,o);if(o.type==="Buffer"&&z2(o.data))return Pd(i,o.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function V2(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function kh(e,t){if(V2(t),e=mr(e,t<0?0:0|s0(t)),!oe.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Pd(e,t){var n=t.length<0?0:0|s0(t.length);e=mr(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function s0(e){if(e>=Hc())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hc().toString(16)+" bytes");return 0|e}function qn(e){return!(e==null||!e._isBuffer)}function W2(e,t){if(qn(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Vc(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z2(e).length;default:if(r)return Vc(e).length;t=(""+t).toLowerCase(),r=!0}}function B5(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return G5(this,t,n);case"utf8":case"utf-8":return G2(this,t,n);case"ascii":return W5(this,t,n);case"latin1":case"binary":return q5(this,t,n);case"base64":return V5(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y5(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function ki(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Cg(e,t,n,r,i){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof t=="string"&&(t=oe.from(t,r)),qn(t))return t.length===0?-1:_g(e,t,n,r,i);if(typeof t=="number")return t&=255,oe.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _g(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===l)return u*s}else u!==-1&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function F5(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function U5(e,t,n,r){return $u(Vc(t,e.length-n),e,n,r)}function q2(e,t,n,r){return $u(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(t),e,n,r)}function K5(e,t,n,r){return q2(e,t,n,r)}function z5(e,t,n,r){return $u(Z2(t),e,n,r)}function H5(e,t,n,r){return $u(function(i,o){for(var s,a,l,c=[],u=0;u<i.length&&!((o-=2)<0);++u)a=(s=i.charCodeAt(u))>>8,l=s%256,c.push(l),c.push(a);return c}(t,e.length-n),e,n,r)}function V5(e,t,n){return t===0&&n===e.length?kg(e):kg(e.slice(t,n))}function G2(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}u===null?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(f){var m=f.length;if(m<=Ng)return String.fromCharCode.apply(String,f);for(var g="",y=0;y<m;)g+=String.fromCharCode.apply(String,f.slice(y,y+=Ng));return g}(r)}oe.poolSize=8192,oe._augment=function(e){return e.__proto__=oe.prototype,e},oe.from=function(e,t,n){return H2(null,e,t,n)},oe.TYPED_ARRAY_SUPPORT&&(oe.prototype.__proto__=Uint8Array.prototype,oe.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&oe[Symbol.species]),oe.alloc=function(e,t,n){return function(r,i,o,s){return V2(i),i<=0?mr(r,i):o!==void 0?typeof s=="string"?mr(r,i).fill(o,s):mr(r,i).fill(o):mr(r,i)}(null,e,t,n)},oe.allocUnsafe=function(e){return kh(null,e)},oe.allocUnsafeSlow=function(e){return kh(null,e)},oe.isBuffer=Q2,oe.compare=function(e,t){if(!qn(e)||!qn(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},oe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},oe.concat=function(e,t){if(!z2(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return oe.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=oe.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!qn(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},oe.byteLength=W2,oe.prototype._isBuffer=!0,oe.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ki(this,t,t+1);return this},oe.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ki(this,t,t+3),ki(this,t+1,t+2);return this},oe.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ki(this,t,t+7),ki(this,t+1,t+6),ki(this,t+2,t+5),ki(this,t+3,t+4);return this},oe.prototype.toString=function(){var e=0|this.length;return e===0?"":arguments.length===0?G2(this,0,e):B5.apply(this,arguments)},oe.prototype.equals=function(e){if(!qn(e))throw new TypeError("Argument must be a Buffer");return this===e||oe.compare(this,e)===0},oe.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},oe.prototype.compare=function(e,t,n,r,i){if(!qn(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n),u=0;u<a;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},oe.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},oe.prototype.indexOf=function(e,t,n){return Cg(this,e,t,n,!0)},oe.prototype.lastIndexOf=function(e,t,n){return Cg(this,e,t,n,!1)},oe.prototype.write=function(e,t,n,r){if(t===void 0)r="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return F5(this,e,t,n);case"utf8":case"utf-8":return U5(this,e,t,n);case"ascii":return q2(this,e,t,n);case"latin1":case"binary":return K5(this,e,t,n);case"base64":return z5(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H5(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},oe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ng=4096;function W5(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function q5(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function G5(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Q5(e[o]);return i}function Y5(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function rt(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ft(e,t,n,r,i,o){if(!qn(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function yl(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function vl(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Y2(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ag(e,t,n,r,i){return i||Y2(e,0,n,4),K2(e,t,n,r,23,4),n+4}function Mg(e,t,n,r,i){return i||Y2(e,0,n,8),K2(e,t,n,r,52,8),n+8}oe.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),oe.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=oe.prototype;else{var i=t-e;n=new oe(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},oe.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||rt(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},oe.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||rt(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},oe.prototype.readUInt8=function(e,t){return t||rt(e,1,this.length),this[e]},oe.prototype.readUInt16LE=function(e,t){return t||rt(e,2,this.length),this[e]|this[e+1]<<8},oe.prototype.readUInt16BE=function(e,t){return t||rt(e,2,this.length),this[e]<<8|this[e+1]},oe.prototype.readUInt32LE=function(e,t){return t||rt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},oe.prototype.readUInt32BE=function(e,t){return t||rt(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},oe.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||rt(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},oe.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||rt(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},oe.prototype.readInt8=function(e,t){return t||rt(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},oe.prototype.readInt16LE=function(e,t){t||rt(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},oe.prototype.readInt16BE=function(e,t){t||rt(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},oe.prototype.readInt32LE=function(e,t){return t||rt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},oe.prototype.readInt32BE=function(e,t){return t||rt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},oe.prototype.readFloatLE=function(e,t){return t||rt(e,4,this.length),gl(this,e,!0,23,4)},oe.prototype.readFloatBE=function(e,t){return t||rt(e,4,this.length),gl(this,e,!1,23,4)},oe.prototype.readDoubleLE=function(e,t){return t||rt(e,8,this.length),gl(this,e,!0,52,8)},oe.prototype.readDoubleBE=function(e,t){return t||rt(e,8,this.length),gl(this,e,!1,52,8)},oe.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Ft(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},oe.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Ft(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},oe.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,1,255,0),oe.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},oe.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,2,65535,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):yl(this,e,t,!0),t+2},oe.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,2,65535,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):yl(this,e,t,!1),t+2},oe.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,4,4294967295,0),oe.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):vl(this,e,t,!0),t+4},oe.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,4,4294967295,0),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):vl(this,e,t,!1),t+4},oe.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Ft(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},oe.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Ft(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},oe.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,1,127,-128),oe.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},oe.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,2,32767,-32768),oe.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):yl(this,e,t,!0),t+2},oe.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,2,32767,-32768),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):yl(this,e,t,!1),t+2},oe.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,4,2147483647,-2147483648),oe.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):vl(this,e,t,!0),t+4},oe.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Ft(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),oe.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):vl(this,e,t,!1),t+4},oe.prototype.writeFloatLE=function(e,t,n){return Ag(this,e,t,!0,n)},oe.prototype.writeFloatBE=function(e,t,n){return Ag(this,e,t,!1,n)},oe.prototype.writeDoubleLE=function(e,t,n){return Mg(this,e,t,!0,n)},oe.prototype.writeDoubleBE=function(e,t,n){return Mg(this,e,t,!1,n)},oe.prototype.copy=function(e,t,n,r){if(n||(n=0),r||r===0||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!oe.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},oe.prototype.fill=function(e,t,n,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!oe.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof e=="number"&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0),typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{var s=qn(e)?e:Vc(new oe(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var Z5=/[^+\/0-9A-Za-z-_]/g;function Q5(e){return e<16?"0"+e.toString(16):e.toString(16)}function Vc(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z2(e){return function(t){var n,r,i,o,s,a;o0||U2();var l=t.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[l-2]==="="?2:t[l-1]==="="?1:0,a=new I5(3*l/4-s),i=s>0?l-4:l;var c=0;for(n=0,r=0;n<i;n+=4,r+=3)o=pn[t.charCodeAt(n)]<<18|pn[t.charCodeAt(n+1)]<<12|pn[t.charCodeAt(n+2)]<<6|pn[t.charCodeAt(n+3)],a[c++]=o>>16&255,a[c++]=o>>8&255,a[c++]=255&o;return s===2?(o=pn[t.charCodeAt(n)]<<2|pn[t.charCodeAt(n+1)]>>4,a[c++]=255&o):s===1&&(o=pn[t.charCodeAt(n)]<<10|pn[t.charCodeAt(n+1)]<<4|pn[t.charCodeAt(n+2)]>>2,a[c++]=o>>8&255,a[c++]=255&o),a}(function(t){if((t=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(t).replace(Z5,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function $u(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q2(e){return e!=null&&(!!e._isBuffer||Tg(e)||function(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Tg(t.slice(0,0))}(e))}function Tg(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var J5=Object.freeze({__proto__:null,Buffer:oe,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),oe.alloc(+e)},isBuffer:Q2,kMaxLength:D5}),xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:Gi!==void 0?Gi:typeof self<"u"?self:{};function Du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Va(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var go={},cn={},Ct={};function Wc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function J2(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function X2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function a0(e,...t){if(!X2(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function eb(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");Wc(e.outputLen),Wc(e.blockLen)}function tb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function nb(e,t){a0(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.isBytes=X2,Ct.number=Wc,Ct.bool=J2,Ct.bytes=a0,Ct.hash=eb,Ct.exists=tb,Ct.output=nb;const X5={number:Wc,bool:J2,bytes:a0,hash:eb,exists:tb,output:nb};Ct.default=X5,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapCipher=e.Hash=e.nextTick=e.isLE=e.createView=e.u32=e.u16=e.u8=void 0,e.bytesToHex=r,e.hexToBytes=s,e.hexToNumber=a,e.bytesToNumberBE=function(d){return a(r(d))},e.numberToBytesBE=function(d,f){return s(d.toString(16).padStart(2*f,"0"))},e.asyncLoop=async function(d,f,m){let g=Date.now();for(let y=0;y<d;y++){m(y);const x=Date.now()-g;x>=0&&x<f||(await(0,e.nextTick)(),g+=x)}},e.utf8ToBytes=l,e.bytesToUtf8=function(d){return new TextDecoder().decode(d)},e.toBytes=function(d){if(typeof d=="string")d=l(d);else{if(!(0,t.isBytes)(d))throw new Error("Uint8Array expected, got "+typeof d);d=u(d)}return d},e.concatBytes=function(...d){let f=0;for(let g=0;g<d.length;g++){const y=d[g];(0,t.bytes)(y),f+=y.length}const m=new Uint8Array(f);for(let g=0,y=0;g<d.length;g++){const x=d[g];m.set(x,y),y+=x.length}return m},e.checkOpts=function(d,f){if(f==null||typeof f!="object")throw new Error("options must be defined");return Object.assign(d,f)},e.equalBytes=function(d,f){if(d.length!==f.length)return!1;let m=0;for(let g=0;g<d.length;g++)m|=d[g]^f[g];return m===0},e.setBigUint64=c,e.u64Lengths=function(d,f){const m=new Uint8Array(16),g=(0,e.createView)(m);return c(g,0,BigInt(f?f.length:0),!0),c(g,8,BigInt(d.length),!0),m},e.isAligned32=function(d){return d.byteOffset%4==0},e.copyBytes=u,e.clean=function(...d){for(let f=0;f<d.length;f++)d[f].fill(0)};const t=Ct;if(e.u8=d=>new Uint8Array(d.buffer,d.byteOffset,d.byteLength),e.u16=d=>new Uint16Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/2)),e.u32=d=>new Uint32Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/4)),e.createView=d=>new DataView(d.buffer,d.byteOffset,d.byteLength),e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(d,f)=>f.toString(16).padStart(2,"0"));function r(d){(0,t.bytes)(d);let f="";for(let m=0;m<d.length;m++)f+=n[d[m]];return f}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(d){return d>=i._0&&d<=i._9?d-i._0:d>=i._A&&d<=i._F?d-(i._A-10):d>=i._a&&d<=i._f?d-(i._a-10):void 0}function s(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);const f=d.length,m=f/2;if(f%2)throw new Error("padded hex string expected, got unpadded hex of length "+f);const g=new Uint8Array(m);for(let y=0,x=0;y<m;y++,x+=2){const p=o(d.charCodeAt(x)),w=o(d.charCodeAt(x+1));if(p===void 0||w===void 0){const v=d[x]+d[x+1];throw new Error('hex string expected, got non-hex character "'+v+'" at index '+x)}g[y]=16*p+w}return g}function a(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);return BigInt(d===""?"0":`0x${d}`)}function l(d){if(typeof d!="string")throw new Error("string expected, got "+typeof d);return new Uint8Array(new TextEncoder().encode(d))}function c(d,f,m,g){if(typeof d.setBigUint64=="function")return d.setBigUint64(f,m,g);const y=BigInt(32),x=BigInt(4294967295),p=Number(m>>y&x),w=Number(m&x),v=g?4:0,k=g?0:4;d.setUint32(f+v,p,g),d.setUint32(f+k,w,g)}function u(d){return Uint8Array.from(d)}e.nextTick=async()=>{},e.Hash=class{},e.wrapCipher=(d,f)=>(Object.assign(f,d),f)}(cn);var ka={},it={};Object.defineProperty(it,"__esModule",{value:!0}),it.AEAD_TAG_LENGTH=it.XCHACHA20_NONCE_LENGTH=it.CURVE25519_PUBLIC_KEY_SIZE=it.ETH_PUBLIC_KEY_SIZE=it.UNCOMPRESSED_PUBLIC_KEY_SIZE=it.COMPRESSED_PUBLIC_KEY_SIZE=it.SECRET_KEY_LENGTH=void 0,it.SECRET_KEY_LENGTH=32,it.COMPRESSED_PUBLIC_KEY_SIZE=33,it.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,it.ETH_PUBLIC_KEY_SIZE=64,it.CURVE25519_PUBLIC_KEY_SIZE=32,it.XCHACHA20_NONCE_LENGTH=24,it.AEAD_TAG_LENGTH=16,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ephemeralKeySize=e.symmetricNonceLength=e.symmetricAlgorithm=e.isHkdfKeyCompressed=e.isEphemeralKeyCompressed=e.ellipticCurve=e.ECIES_CONFIG=void 0;var t=it;e.ECIES_CONFIG=new function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16},e.ellipticCurve=function(){return e.ECIES_CONFIG.ellipticCurve},e.isEphemeralKeyCompressed=function(){return e.ECIES_CONFIG.isEphemeralKeyCompressed},e.isHkdfKeyCompressed=function(){return e.ECIES_CONFIG.isHkdfKeyCompressed},e.symmetricAlgorithm=function(){return e.ECIES_CONFIG.symmetricAlgorithm},e.symmetricNonceLength=function(){return e.ECIES_CONFIG.symmetricNonceLength},e.ephemeralKeySize=function(){var n={secp256k1:e.ECIES_CONFIG.isEphemeralKeyCompressed?t.COMPRESSED_PUBLIC_KEY_SIZE:t.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:t.CURVE25519_PUBLIC_KEY_SIZE,ed25519:t.CURVE25519_PUBLIC_KEY_SIZE};if(e.ECIES_CONFIG.ellipticCurve in n)return n[e.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(ka);var Ld={},qc={},Bu={},rb={},l0={},wl={};Object.defineProperty(wl,"__esModule",{value:!0}),wl.crypto=void 0,wl.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.gcm=e.ctr=e.cbc=e.utils=void 0,e.randomBytes=i,e.getWebcryptoSubtle=o,e.managedNonce=function(u){return(0,n.number)(u.nonceLength),(d,...f)=>({encrypt(m,...g){const{nonceLength:y}=u,x=i(y),p=u(d,x,...f).encrypt(m,...g),w=(0,r.concatBytes)(x,p);return p.fill(0),w},decrypt(m,...g){const{nonceLength:y}=u,x=m.subarray(0,y),p=m.subarray(y);return u(d,x,...f).decrypt(p,...g)}})};const t=wl,n=Ct,r=cn;function i(u=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(u));if(t.crypto&&typeof t.crypto.randomBytes=="function")return t.crypto.randomBytes(u);throw new Error("crypto.getRandomValues must be defined")}function o(){if(t.crypto&&typeof t.crypto.subtle=="object"&&t.crypto.subtle!=null)return t.crypto.subtle;throw new Error("crypto.subtle must be defined")}e.utils={async encrypt(u,d,f,m){const g=o(),y=await g.importKey("raw",u,d,!0,["encrypt"]),x=await g.encrypt(f,y,m);return new Uint8Array(x)},async decrypt(u,d,f,m){const g=o(),y=await g.importKey("raw",u,d,!0,["decrypt"]),x=await g.decrypt(f,y,m);return new Uint8Array(x)}};const s="AES-CBC",a="AES-CTR",l="AES-GCM";function c(u){return(d,f,m)=>{(0,n.bytes)(d),(0,n.bytes)(f);const g={name:u,length:8*d.length},y=function(x,p,w){if(x===s)return{name:s,iv:p};if(x===a)return{name:a,counter:p,length:64};if(x===l)return w?{name:l,iv:p,additionalData:w}:{name:l,iv:p};throw new Error("unknown aes block mode")}(u,f,m);return{encrypt:x=>((0,n.bytes)(x),e.utils.encrypt(d,g,y,x)),decrypt:x=>((0,n.bytes)(x),e.utils.decrypt(d,g,y,x))}}}e.cbc=c(s),e.ctr=c(a),e.gcm=c(l)}(l0);var ib={},ot={},gr={},tn={};function Gc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ob(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function sb(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function c0(e,...t){if(!sb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ab(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gc(e.outputLen),Gc(e.blockLen)}function lb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cb(e,t){c0(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.isBytes=sb,tn.number=Gc,tn.bool=ob,tn.bytes=c0,tn.hash=ab,tn.exists=lb,tn.output=cb;const eC={number:Gc,bool:ob,bytes:c0,hash:ab,exists:lb,output:cb};tn.default=eC;var Ar={},bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.crypto=void 0,bl.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"},e.byteSwap32=function(c){for(let u=0;u<c.length;u++)c[u]=(0,e.byteSwap)(c[u])},e.bytesToHex=function(c){(0,n.bytes)(c);let u="";for(let d=0;d<c.length;d++)u+=r[c[d]];return u},e.hexToBytes=function(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);const u=c.length,d=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const f=new Uint8Array(d);for(let m=0,g=0;m<d;m++,g+=2){const y=o(c.charCodeAt(g)),x=o(c.charCodeAt(g+1));if(y===void 0||x===void 0){const p=c[g]+c[g+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+g)}f[m]=16*y+x}return f},e.asyncLoop=async function(c,u,d){let f=Date.now();for(let m=0;m<c;m++){d(m);const g=Date.now()-f;g>=0&&g<u||(await(0,e.nextTick)(),f+=g)}},e.utf8ToBytes=s,e.toBytes=a,e.concatBytes=function(...c){let u=0;for(let f=0;f<c.length;f++){const m=c[f];(0,n.bytes)(m),u+=m.length}const d=new Uint8Array(u);for(let f=0,m=0;f<c.length;f++){const g=c[f];d.set(g,m),m+=g.length}return d},e.checkOpts=function(c,u){if(u!==void 0&&l.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(c,u)},e.wrapConstructor=function(c){const u=f=>c().update(a(f)).digest(),d=c();return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=()=>c(),u},e.wrapConstructorWithOpts=function(c){const u=(f,m)=>c(m).update(a(f)).digest(),d=c({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>c(f),u},e.wrapXOFConstructorWithOpts=function(c){const u=(f,m)=>c(m).update(a(f)).digest(),d=c({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>c(f),u},e.randomBytes=function(c=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(c));if(t.crypto&&typeof t.crypto.randomBytes=="function")return t.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")};const t=bl,n=tn;e.u8=c=>new Uint8Array(c.buffer,c.byteOffset,c.byteLength),e.u32=c=>new Uint32Array(c.buffer,c.byteOffset,Math.floor(c.byteLength/4)),e.createView=c=>new DataView(c.buffer,c.byteOffset,c.byteLength),e.rotr=(c,u)=>c<<32-u|c>>>u,e.rotl=(c,u)=>c<<u|c>>>32-u>>>0,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,e.byteSwap=c=>c<<24&4278190080|c<<8&16711680|c>>>8&65280|c>>>24&255,e.byteSwapIfBE=e.isLE?c=>c:c=>(0,e.byteSwap)(c);const r=Array.from({length:256},(c,u)=>u.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(c){return c>=i._0&&c<=i._9?c-i._0:c>=i._A&&c<=i._F?c-(i._A-10):c>=i._a&&c<=i._f?c-(i._a-10):void 0}function s(c){if(typeof c!="string")throw new Error("utf8ToBytes expected string, got "+typeof c);return new Uint8Array(new TextEncoder().encode(c))}function a(c){return typeof c=="string"&&(c=s(c)),(0,n.bytes)(c),c}e.nextTick=async()=>{},e.Hash=class{clone(){return this._cloneInto()}};const l={}.toString}(Ar),Object.defineProperty(gr,"__esModule",{value:!0}),gr.HashMD=gr.Maj=gr.Chi=void 0;const Rd=tn,Cs=Ar;gr.Chi=(e,t,n)=>e&t^~e&n,gr.Maj=(e,t,n)=>e&t^e&n^t&n,gr.HashMD=class extends Cs.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Cs.createView)(this.buffer)}update(e){(0,Rd.exists)(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=(0,Cs.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const a=(0,Cs.createView)(e);for(;r<=i-o;o+=r)this.process(a,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Rd.exists)(this),(0,Rd.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;(function(u,d,f,m){if(typeof u.setBigUint64=="function")return u.setBigUint64(d,f,m);const g=BigInt(32),y=BigInt(4294967295),x=Number(f>>g&y),p=Number(f&y),w=m?4:0,v=m?0:4;u.setUint32(d+w,x,m),u.setUint32(d+v,p,m)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,Cs.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}};var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.add5L=be.add5H=be.add4H=be.add4L=be.add3H=be.add3L=be.rotlBL=be.rotlBH=be.rotlSL=be.rotlSH=be.rotr32L=be.rotr32H=be.rotrBL=be.rotrBH=be.rotrSL=be.rotrSH=be.shrSL=be.shrSH=be.toBig=void 0,be.fromBig=u0,be.split=ub,be.add=kb;const xl=BigInt(2**32-1),Ch=BigInt(32);function u0(e,t=!1){return t?{h:Number(e&xl),l:Number(e>>Ch&xl)}:{h:0|Number(e>>Ch&xl),l:0|Number(e&xl)}}function ub(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=u0(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const db=(e,t)=>BigInt(e>>>0)<<Ch|BigInt(t>>>0);be.toBig=db;const fb=(e,t,n)=>e>>>n;be.shrSH=fb;const hb=(e,t,n)=>e<<32-n|t>>>n;be.shrSL=hb;const pb=(e,t,n)=>e>>>n|t<<32-n;be.rotrSH=pb;const mb=(e,t,n)=>e<<32-n|t>>>n;be.rotrSL=mb;const gb=(e,t,n)=>e<<64-n|t>>>n-32;be.rotrBH=gb;const yb=(e,t,n)=>e>>>n-32|t<<64-n;be.rotrBL=yb;const vb=(e,t)=>t;be.rotr32H=vb;const wb=(e,t)=>e;be.rotr32L=wb;const bb=(e,t,n)=>e<<n|t>>>32-n;be.rotlSH=bb;const xb=(e,t,n)=>t<<n|e>>>32-n;be.rotlSL=xb;const Eb=(e,t,n)=>t<<n-32|e>>>64-n;be.rotlBH=Eb;const Sb=(e,t,n)=>e<<n-32|t>>>64-n;function kb(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}be.rotlBL=Sb;const Cb=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);be.add3L=Cb;const _b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;be.add3H=_b;const Nb=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);be.add4L=Nb;const Ab=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;be.add4H=Ab;const Mb=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);be.add5L=Mb;const Tb=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;be.add5H=Tb;const tC={fromBig:u0,split:ub,toBig:db,shrSH:fb,shrSL:hb,rotrSH:pb,rotrSL:mb,rotrBH:gb,rotrBL:yb,rotr32H:vb,rotr32L:wb,rotlSH:bb,rotlSL:xb,rotlBH:Eb,rotlBL:Sb,add:kb,add3L:Cb,add3H:_b,add4L:Nb,add4H:Ab,add5H:Tb,add5L:Mb};be.default=tC,Object.defineProperty(ot,"__esModule",{value:!0}),ot.sha384=ot.sha512_256=ot.sha512_224=ot.sha512=ot.SHA384=ot.SHA512_256=ot.SHA512_224=ot.SHA512=void 0;const nC=gr,xe=be,El=Ar,[rC,iC]=xe.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Tr=new Uint32Array(80),Pr=new Uint32Array(80);class Wa extends nC.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:m,Gl:g,Hh:y,Hl:x}=this;return[t,n,r,i,o,s,a,l,c,u,d,f,m,g,y,x]}set(t,n,r,i,o,s,a,l,c,u,d,f,m,g,y,x){this.Ah=0|t,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|s,this.Dh=0|a,this.Dl=0|l,this.Eh=0|c,this.El=0|u,this.Fh=0|d,this.Fl=0|f,this.Gh=0|m,this.Gl=0|g,this.Hh=0|y,this.Hl=0|x}process(t,n){for(let v=0;v<16;v++,n+=4)Tr[v]=t.getUint32(n),Pr[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const k=0|Tr[v-15],P=0|Pr[v-15],O=xe.default.rotrSH(k,P,1)^xe.default.rotrSH(k,P,8)^xe.default.shrSH(k,P,7),F=xe.default.rotrSL(k,P,1)^xe.default.rotrSL(k,P,8)^xe.default.shrSL(k,P,7),B=0|Tr[v-2],H=0|Pr[v-2],D=xe.default.rotrSH(B,H,19)^xe.default.rotrBH(B,H,61)^xe.default.shrSH(B,H,6),K=xe.default.rotrSL(B,H,19)^xe.default.rotrBL(B,H,61)^xe.default.shrSL(B,H,6),z=xe.default.add4L(F,K,Pr[v-7],Pr[v-16]),E=xe.default.add4H(z,O,D,Tr[v-7],Tr[v-16]);Tr[v]=0|E,Pr[v]=0|z}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:m,Fl:g,Gh:y,Gl:x,Hh:p,Hl:w}=this;for(let v=0;v<80;v++){const k=xe.default.rotrSH(d,f,14)^xe.default.rotrSH(d,f,18)^xe.default.rotrBH(d,f,41),P=xe.default.rotrSL(d,f,14)^xe.default.rotrSL(d,f,18)^xe.default.rotrBL(d,f,41),O=d&m^~d&y,F=f&g^~f&x,B=xe.default.add5L(w,P,F,iC[v],Pr[v]),H=xe.default.add5H(B,p,k,O,rC[v],Tr[v]),D=0|B,K=xe.default.rotrSH(r,i,28)^xe.default.rotrBH(r,i,34)^xe.default.rotrBH(r,i,39),z=xe.default.rotrSL(r,i,28)^xe.default.rotrBL(r,i,34)^xe.default.rotrBL(r,i,39),E=r&o^r&a^o&a,b=i&s^i&l^s&l;p=0|y,w=0|x,y=0|m,x=0|g,m=0|d,g=0|f,{h:d,l:f}=xe.default.add(0|c,0|u,0|H,0|D),c=0|a,u=0|l,a=0|o,l=0|s,o=0|r,s=0|i;const S=xe.default.add3L(D,z,b);r=xe.default.add3H(S,H,K,E),i=0|S}({h:r,l:i}=xe.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l:s}=xe.default.add(0|this.Bh,0|this.Bl,0|o,0|s),{h:a,l}=xe.default.add(0|this.Ch,0|this.Cl,0|a,0|l),{h:c,l:u}=xe.default.add(0|this.Dh,0|this.Dl,0|c,0|u),{h:d,l:f}=xe.default.add(0|this.Eh,0|this.El,0|d,0|f),{h:m,l:g}=xe.default.add(0|this.Fh,0|this.Fl,0|m,0|g),{h:y,l:x}=xe.default.add(0|this.Gh,0|this.Gl,0|y,0|x),{h:p,l:w}=xe.default.add(0|this.Hh,0|this.Hl,0|p,0|w),this.set(r,i,o,s,a,l,c,u,d,f,m,g,y,x,p,w)}roundClean(){Tr.fill(0),Pr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ot.SHA512=Wa;class Pb extends Wa{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}ot.SHA512_224=Pb;class Lb extends Wa{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}ot.SHA512_256=Lb;class Pg extends Wa{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}ot.SHA384=Pg,ot.sha512=(0,El.wrapConstructor)(()=>new Wa),ot.sha512_224=(0,El.wrapConstructor)(()=>new Pb),ot.sha512_256=(0,El.wrapConstructor)(()=>new Lb),ot.sha384=(0,El.wrapConstructor)(()=>new Pg);var _h={},To={},Re={},Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.notImplemented=Se.bitMask=void 0,Se.isBytes=Yc,Se.abytes=Zc,Se.abool=function(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)},Se.bytesToHex=jd,Se.numberToHexUnpadded=Lg,Se.hexToNumber=Id,Se.hexToBytes=nc,Se.bytesToNumberBE=function(e){return Id(jd(e))},Se.bytesToNumberLE=function(e){return Zc(e),Id(jd(Uint8Array.from(e).reverse()))},Se.numberToBytesBE=jg,Se.numberToBytesLE=function(e,t){return jg(e,t).reverse()},Se.numberToVarBytesBE=function(e){return nc(Lg(e))},Se.ensureBytes=function(e,t,n){let r;if(typeof t=="string")try{r=nc(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!Yc(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r},Se.concatBytes=Ig,Se.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0},Se.utf8ToBytes=function(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))},Se.inRange=Og,Se.aInRange=function(e,t,n,r){if(!Og(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)},Se.bitLen=function(e){let t;for(t=0;e>Nh;e>>=tc,t+=1);return t},Se.bitGet=function(e,t){return e>>BigInt(t)&tc},Se.bitSet=function(e,t,n){return e|(n?tc:Nh)<<BigInt(t)},Se.createHmacDrbg=function(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=$d(e),i=$d(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=$d())=>{i=a($g([0]),u),r=a(),u.length!==0&&(i=a($g([1]),u),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<t;){r=a();const f=r.slice();d.push(f),u+=r.length}return Ig(...d)};return(u,d)=>{let f;for(s(),l(u);!(f=d(c()));)l();return s(),f}},Se.validateObject=function(e,t,n={}){const r=(i,o,s)=>{const a=aC[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(s&&l===void 0||a(l,e)))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e},Se.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}};const Nh=BigInt(0),tc=BigInt(1),oC=BigInt(2);function Yc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Zc(e){if(!Yc(e))throw new Error("Uint8Array expected")}const sC=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jd(e){Zc(e);let t="";for(let n=0;n<e.length;n++)t+=sC[e[n]];return t}function Lg(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Id(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const ir={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Rg(e){return e>=ir._0&&e<=ir._9?e-ir._0:e>=ir._A&&e<=ir._F?e-(ir._A-10):e>=ir._a&&e<=ir._f?e-(ir._a-10):void 0}function nc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Rg(e.charCodeAt(o)),a=Rg(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=16*s+a}return r}function jg(e,t){return nc(e.toString(16).padStart(2*t,"0"))}function Ig(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Zc(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const Od=e=>typeof e=="bigint"&&Nh<=e;function Og(e,t,n){return Od(e)&&Od(t)&&Od(n)&&t<=e&&e<n}Se.bitMask=e=>(oC<<BigInt(e-1))-tc;const $d=e=>new Uint8Array(e),$g=e=>Uint8Array.from(e),aC={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Yc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};Se.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Re,"__esModule",{value:!0}),Re.isNegativeLE=void 0,Re.mod=Jt,Re.pow=Rb,Re.pow2=function(e,t,n){let r=e;for(;t-- >at;)r*=r,r%=n;return r},Re.invert=Sl,Re.tonelliShanks=jb,Re.FpSqrt=Fg,Re.validateField=function(e){const t=cC.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Zt.validateObject)(e,t)},Re.FpPow=Ug,Re.FpInvertBatch=Kg,Re.FpDiv=function(e,t,n){return e.mul(t,typeof n=="bigint"?Sl(n,e.ORDER):e.inv(n))},Re.FpLegendre=zg,Re.FpIsSquare=function(e){const t=zg(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},Re.nLength=Dd,Re.Field=function(e,t,n=!1,r={}){if(e<=at)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Dd(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Fg(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,Zt.bitMask)(i),ZERO:at,ONE:Ie,create:l=>Jt(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof l);return at<=l&&l<e},is0:l=>l===at,isOdd:l=>(l&Ie)===Ie,neg:l=>Jt(-l,e),eql:(l,c)=>l===c,sqr:l=>Jt(l*l,e),add:(l,c)=>Jt(l+c,e),sub:(l,c)=>Jt(l-c,e),mul:(l,c)=>Jt(l*c,e),pow:(l,c)=>Ug(a,l,c),div:(l,c)=>Jt(l*Sl(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Sl(l,e),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>Kg(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?(0,Zt.numberToBytesLE)(l,o):(0,Zt.numberToBytesBE)(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?(0,Zt.bytesToNumberLE)(l):(0,Zt.bytesToNumberBE)(l)}});return Object.freeze(a)},Re.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},Re.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},Re.hashToPrivateScalar=function(e,t,n=!1){const r=(e=(0,Zt.ensureBytes)("privateHash",e)).length,i=Dd(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return Jt(n?(0,Zt.bytesToNumberLE)(e):(0,Zt.bytesToNumberBE)(e),t-Ie)+Ie},Re.getFieldBytesLength=Mh,Re.getMinHashLength=Hg,Re.mapHashToField=function(e,t,n=!1){const r=e.length,i=Mh(t),o=Hg(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=Jt(n?(0,Zt.bytesToNumberBE)(e):(0,Zt.bytesToNumberLE)(e),t-Ie)+Ie;return n?(0,Zt.numberToBytesLE)(s,i):(0,Zt.numberToBytesBE)(s,i)};const Zt=Se,at=BigInt(0),Ie=BigInt(1),Jr=BigInt(2),lC=BigInt(3),Ah=BigInt(4),Dg=BigInt(5),Bg=BigInt(8);function Jt(e,t){const n=e%t;return n>=at?n:t+n}function Rb(e,t,n){if(n<=at||t<at)throw new Error("Expected power/modulo > 0");if(n===Ie)return at;let r=Ie;for(;t>at;)t&Ie&&(r=r*e%n),e=e*e%n,t>>=Ie;return r}function Sl(e,t){if(e===at||t<=at)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Jt(e,t),r=t,i=at,o=Ie;for(;n!==at;){const s=r%n,a=i-o*(r/n);r=n,n=s,i=o,o=a}if(r!==Ie)throw new Error("invert: does not exist");return Jt(i,t)}function jb(e){const t=(e-Ie)/Jr;let n,r,i;for(n=e-Ie,r=0;n%Jr===at;n/=Jr,r++);for(i=Jr;i<e&&Rb(i,t,e)!==e-Ie;i++);if(r===1){const s=(e+Ie)/Ah;return function(a,l){const c=a.pow(l,s);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(n+Ie)/Jr;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,c=s.pow(s.mul(s.ONE,i),n),u=s.pow(a,o),d=s.pow(a,n);for(;!s.eql(d,s.ONE);){if(s.eql(d,s.ZERO))return s.ZERO;let f=1;for(let g=s.sqr(d);f<l&&!s.eql(g,s.ONE);f++)g=s.sqr(g);const m=s.pow(c,Ie<<BigInt(l-f-1));c=s.sqr(m),u=s.mul(u,m),d=s.mul(d,c),l=f}return u}}function Fg(e){if(e%Ah===lC){const t=(e+Ie)/Ah;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%Bg===Dg){const t=(e-Dg)/Bg;return function(n,r){const i=n.mul(r,Jr),o=n.pow(i,t),s=n.mul(r,o),a=n.mul(n.mul(s,Jr),o),l=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return jb(e)}BigInt(9),BigInt(16),Re.isNegativeLE=(e,t)=>(Jt(e,t)&Ie)===Ie;const cC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ug(e,t,n){if(n<at)throw new Error("Expected power > 0");if(n===at)return e.ONE;if(n===Ie)return t;let r=e.ONE,i=t;for(;n>at;)n&Ie&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ie;return r}function Kg(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function zg(e){const t=(e-Ie)/Jr;return(n,r)=>n.pow(r,t)}function Dd(e,t){const n=t!==void 0?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Mh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Hg(e){const t=Mh(e);return t+Math.ceil(t/2)}Object.defineProperty(To,"__esModule",{value:!0}),To.wNAF=function(e,t){const n=(o,s)=>{const a=s.negate();return o?a:s},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},i=o=>(r(o),{windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,s){let a=e.ZERO,l=o;for(;s>uC;)s&Bd&&(a=a.add(l)),l=l.double(),s>>=Bd;return a},precomputeWindow(o,s){const{windows:a,windowSize:l}=i(s),c=[];let u=o,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let m=1;m<l;m++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(o,s,a){const{windows:l,windowSize:c}=i(o);let u=e.ZERO,d=e.BASE;const f=BigInt(2**o-1),m=2**o,g=BigInt(o);for(let y=0;y<l;y++){const x=y*c;let p=Number(a&f);a>>=g,p>c&&(p-=m,a+=Bd);const w=x,v=x+Math.abs(p)-1,k=y%2!=0,P=p<0;p===0?d=d.add(n(k,s[w])):u=u.add(n(P,s[v]))}return{p:u,f:d}},wNAFCached(o,s,a){const l=qg.get(o)||1;let c=Fd.get(o);return c||(c=this.precomputeWindow(o,l),l!==1&&Fd.set(o,a(c))),this.wNAF(l,c,s)},setWindowSize(o,s){r(s),qg.set(o,s),Fd.delete(o)}}},To.pippenger=function(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((u,d)=>{if(!t.isValid(u))throw new Error(`wrong scalar at index ${d}`)}),n.forEach((u,d)=>{if(!(u instanceof e))throw new Error(`wrong point at index ${d}`)});const i=(0,Wg.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/o)*o;let c=e.ZERO;for(let u=l;u>=0;u-=o){a.fill(e.ZERO);for(let f=0;f<r.length;f++){const m=r[f],g=Number(m>>BigInt(u)&BigInt(s));a[g]=a[g].add(n[f])}let d=e.ZERO;for(let f=a.length-1,m=e.ZERO;f>0;f--)m=m.add(a[f]),d=d.add(m);if(c=c.add(d),u!==0)for(let f=0;f<o;f++)c=c.double()}return c},To.validateBasic=function(e){return(0,Vg.validateField)(e.Fp),(0,Wg.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Vg.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};const Vg=Re,Wg=Se,uC=BigInt(0),Bd=BigInt(1),Fd=new WeakMap,qg=new WeakMap;Object.defineProperty(_h,"__esModule",{value:!0}),_h.twistedEdwards=function(e){const t=function(E){const b=(0,Ud.validateBasic)(E);return Ut.validateObject(E,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...b})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=kl<<BigInt(8*a)-Kt,u=n.create,d=(0,Gg.Field)(t.n,t.nBitLength),f=t.uvRatio||((E,b)=>{try{return{isValid:!0,value:n.sqrt(E*n.inv(b))}}catch{return{isValid:!1,value:Nn}}}),m=t.adjustScalarBytes||(E=>E),g=t.domain||((E,b,S)=>{if((0,Qt.abool)("phflag",S),b.length||S)throw new Error("Contexts/pre-hash are not supported");return E});function y(E,b){Ut.aInRange("coordinate "+E,b,Nn,c)}function x(E){if(!(E instanceof v))throw new Error("ExtendedPoint expected")}const p=(0,Qt.memoized)((E,b)=>{const{ex:S,ey:M,ez:T}=E,_=E.is0();b==null&&(b=_?dC:n.inv(T));const A=u(S*b),I=u(M*b),j=u(T*b);if(_)return{x:Nn,y:Kt};if(j!==Kt)throw new Error("invZ was invalid");return{x:A,y:I}}),w=(0,Qt.memoized)(E=>{const{a:b,d:S}=t;if(E.is0())throw new Error("bad point: ZERO");const{ex:M,ey:T,ez:_,et:A}=E,I=u(M*M),j=u(T*T),C=u(_*_),N=u(C*C),L=u(I*b);if(u(C*u(L+j))!==u(N+u(S*u(I*j))))throw new Error("bad point: equation left != right (1)");if(u(M*T)!==u(_*A))throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(b,S,M,T){this.ex=b,this.ey=S,this.ez=M,this.et=T,y("x",b),y("y",S),y("z",M),y("t",T),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof v)throw new Error("extended point not allowed");const{x:S,y:M}=b||{};return y("x",S),y("y",M),new v(S,M,Kt,u(S*M))}static normalizeZ(b){const S=n.invertBatch(b.map(M=>M.ez));return b.map((M,T)=>M.toAffine(S[T])).map(v.fromAffine)}static msm(b,S){return(0,Ud.pippenger)(v,d,b,S)}_setWindowSize(b){O.setWindowSize(this,b)}assertValidity(){w(this)}equals(b){x(b);const{ex:S,ey:M,ez:T}=this,{ex:_,ey:A,ez:I}=b,j=u(S*I),C=u(_*T),N=u(M*I),L=u(A*T);return j===C&&N===L}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:b}=t,{ex:S,ey:M,ez:T}=this,_=u(S*S),A=u(M*M),I=u(kl*u(T*T)),j=u(b*_),C=S+M,N=u(u(C*C)-_-A),L=j+A,R=L-I,$=j-A,V=u(N*R),U=u(L*$),q=u(N*$),Y=u(R*L);return new v(V,U,Y,q)}add(b){x(b);const{a:S,d:M}=t,{ex:T,ey:_,ez:A,et:I}=this,{ex:j,ey:C,ez:N,et:L}=b;if(S===BigInt(-1)){const te=u((_-T)*(C+j)),re=u((_+T)*(C-j)),se=u(re-te);if(se===Nn)return this.double();const de=u(A*kl*L),he=u(I*kl*N),pe=he+de,ve=re+te,we=he-de,Ae=u(pe*se),Tt=u(ve*we),oo=u(pe*we),Zu=u(se*ve);return new v(Ae,Tt,Zu,oo)}const R=u(T*j),$=u(_*C),V=u(I*M*L),U=u(A*N),q=u((T+_)*(j+C)-R-$),Y=U-V,J=U+V,G=u($-S*R),ce=u(q*Y),fe=u(J*G),X=u(q*G),ie=u(Y*J);return new v(ce,fe,ie,X)}subtract(b){return this.add(b.negate())}wNAF(b){return O.wNAFCached(this,b,v.normalizeZ)}multiply(b){const S=b;Ut.aInRange("scalar",S,Kt,r);const{p:M,f:T}=this.wNAF(S);return v.normalizeZ([M,T])[0]}multiplyUnsafe(b){const S=b;return Ut.aInRange("scalar",S,Nn,r),S===Nn?P:this.equals(P)||S===Kt?this:this.equals(k)?this.wNAF(S).p:O.unsafeLadder(this,S)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return O.unsafeLadder(this,r).is0()}toAffine(b){return p(this,b)}clearCofactor(){const{h:b}=t;return b===Kt?this:this.multiplyUnsafe(b)}static fromHex(b,S=!1){const{d:M,a:T}=t,_=n.BYTES;b=(0,Qt.ensureBytes)("pointHex",b,_),(0,Qt.abool)("zip215",S);const A=b.slice(),I=b[_-1];A[_-1]=-129&I;const j=Ut.bytesToNumberLE(A),C=S?c:n.ORDER;Ut.aInRange("pointHex.y",j,Nn,C);const N=u(j*j),L=u(N-Kt),R=u(M*N-T);let{isValid:$,value:V}=f(L,R);if(!$)throw new Error("Point.fromHex: invalid y coordinate");const U=(V&Kt)===Kt,q=(128&I)!=0;if(!S&&V===Nn&&q)throw new Error("Point.fromHex: x=0 and x_0=1");return q!==U&&(V=u(-V)),v.fromAffine({x:V,y:j})}static fromPrivateKey(b){return H(b).point}toRawBytes(){const{x:b,y:S}=this.toAffine(),M=Ut.numberToBytesLE(S,n.BYTES);return M[M.length-1]|=b&Kt?128:0,M}toHex(){return Ut.bytesToHex(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,Kt,u(t.Gx*t.Gy)),v.ZERO=new v(Nn,Kt,Kt,Nn);const{BASE:k,ZERO:P}=v,O=(0,Ud.wNAF)(v,8*a);function F(E){return(0,Gg.mod)(E,r)}function B(E){return F(Ut.bytesToNumberLE(E))}function H(E){const b=a;E=(0,Qt.ensureBytes)("private key",E,b);const S=(0,Qt.ensureBytes)("hashed private key",o(E),2*b),M=m(S.slice(0,b)),T=S.slice(b,2*b),_=B(M),A=k.multiply(_),I=A.toRawBytes();return{head:M,prefix:T,scalar:_,point:A,pointBytes:I}}function D(E=new Uint8Array,...b){const S=Ut.concatBytes(...b);return B(o(g(S,(0,Qt.ensureBytes)("context",E),!!i)))}const K=fC;return k._setWindowSize(8),{CURVE:t,getPublicKey:function(E){return H(E).pointBytes},sign:function(E,b,S={}){E=(0,Qt.ensureBytes)("message",E),i&&(E=i(E));const{prefix:M,scalar:T,pointBytes:_}=H(b),A=D(S.context,M,E),I=k.multiply(A).toRawBytes(),j=F(A+D(S.context,I,_,E)*T);Ut.aInRange("signature.s",j,Nn,r);const C=Ut.concatBytes(I,Ut.numberToBytesLE(j,n.BYTES));return(0,Qt.ensureBytes)("result",C,2*a)},verify:function(E,b,S,M=K){const{context:T,zip215:_}=M,A=n.BYTES;E=(0,Qt.ensureBytes)("signature",E,2*A),b=(0,Qt.ensureBytes)("message",b),_!==void 0&&(0,Qt.abool)("zip215",_),i&&(b=i(b));const I=Ut.bytesToNumberLE(E.slice(A,2*A));let j,C,N;try{j=v.fromHex(S,_),C=v.fromHex(E.slice(0,A),_),N=k.multiplyUnsafe(I)}catch{return!1}if(!_&&j.isSmallOrder())return!1;const L=D(T,C.toRawBytes(),j.toRawBytes(),b);return C.add(j.multiplyUnsafe(L)).subtract(N).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:H,randomPrivateKey:()=>s(n.BYTES),precompute:(E=8,b=v.BASE)=>(b._setWindowSize(E),b.multiply(BigInt(3)),b)}}};const Ud=To,Gg=Re,Ut=Se,Qt=Se,Nn=BigInt(0),Kt=BigInt(1),kl=BigInt(2),dC=BigInt(8),fC={zip215:!0};var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.expand_message_xmd=Ib,Hr.expand_message_xof=Ob,Hr.hash_to_field=Kd,Hr.isogenyMap=function(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,s,a,l]=n.map(c=>c.reduce((u,d)=>e.add(e.mul(u,r),d)));return r=e.div(o,s),i=e.mul(i,e.div(a,l)),{x:r,y:i}}},Hr.createHasher=function(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=Kd(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),l=s.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const o=Kd(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=e.fromAffine(t(r)).clearCofactor();return i.assertValidity(),i}}};const hC=Re,kt=Se,pC=kt.bytesToNumberBE;function Vr(e,t){if(Ca(e),Ca(t),e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function mC(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Ca(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Ib(e,t,n,r){(0,kt.abytes)(e),(0,kt.abytes)(t),Ca(n),t.length>255&&(t=r((0,kt.concatBytes)((0,kt.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,kt.concatBytes)(t,Vr(t.length,1)),l=Vr(0,o),c=Vr(n,2),u=new Array(s),d=r((0,kt.concatBytes)(l,e,c,Vr(0,1),a));u[0]=r((0,kt.concatBytes)(d,Vr(1,1),a));for(let f=1;f<=s;f++){const m=[mC(d,u[f-1]),Vr(f+1,1),a];u[f]=r((0,kt.concatBytes)(...m))}return(0,kt.concatBytes)(...u).slice(0,n)}function Ob(e,t,n,r,i){if((0,kt.abytes)(e),(0,kt.abytes)(t),Ca(n),t.length>255){const o=Math.ceil(2*r/8);t=i.create({dkLen:o}).update((0,kt.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(Vr(n,2)).update(t).update(Vr(t.length,1)).digest()}function Kd(e,t,n){(0,kt.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:s,expand:a,DST:l}=n;(0,kt.abytes)(e),Ca(t);const c=typeof l=="string"?(0,kt.utf8ToBytes)(l):l,u=r.toString(2).length,d=Math.ceil((u+i)/8),f=t*o*d;let m;if(a==="xmd")m=Ib(e,c,f,s);else if(a==="xof")m=Ob(e,c,f,i,s);else{if(a!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');m=e}const g=new Array(t);for(let y=0;y<t;y++){const x=new Array(o);for(let p=0;p<o;p++){const w=d*(p+y*o),v=m.subarray(w,w+d);x[p]=(0,hC.mod)(pC(v),r)}g[y]=x}return g}var Th={};Object.defineProperty(Th,"__esModule",{value:!0}),Th.montgomery=function(e){const t=function(y){return(0,Lr.validateObject)(y,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...y})}(e),{P:n}=t,r=y=>(0,Yg.mod)(y,n),i=t.montgomeryBits,o=Math.ceil(i/8),s=t.nByteLength,a=t.adjustScalarBytes||(y=>y),l=t.powPminus2||(y=>(0,Yg.pow)(y,n-BigInt(2),n));function c(y,x,p){const w=r(y*(x-p));return[x=r(x-w),p=r(p+w)]}const u=(t.a-BigInt(2))/BigInt(4);function d(y){return(0,Lr.numberToBytesLE)(r(y),o)}function f(y,x){const p=function(k){const P=(0,Lr.ensureBytes)("u coordinate",k,o);return s===32&&(P[31]&=127),(0,Lr.bytesToNumberLE)(P)}(x),w=function(k){const P=(0,Lr.ensureBytes)("scalar",k),O=P.length;if(O!==o&&O!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${O}`);return(0,Lr.bytesToNumberLE)(a(P))}(y),v=function(k,P){(0,Lr.aInRange)("u",k,ao,n),(0,Lr.aInRange)("scalar",P,ao,n);const O=P,F=k;let B,H=zd,D=ao,K=k,z=zd,E=ao;for(let S=BigInt(i-1);S>=ao;S--){const M=O>>S&zd;E^=M,B=c(E,H,K),H=B[0],K=B[1],B=c(E,D,z),D=B[0],z=B[1],E=M;const T=H+D,_=r(T*T),A=H-D,I=r(A*A),j=_-I,C=K+z,N=r((K-z)*T),L=r(C*A),R=N+L,$=N-L;K=r(R*R),z=r(F*r($*$)),H=r(_*I),D=r(j*(_+r(u*j)))}B=c(E,H,K),H=B[0],K=B[1],B=c(E,D,z),D=B[0],z=B[1];const b=l(D);return r(H*b)}(p,w);if(v===ao)throw new Error("Invalid private or public key received");return d(v)}const m=d(t.Gu);function g(y){return f(y,m)}return{scalarMult:f,scalarMultBase:g,getSharedSecret:(y,x)=>f(y,x),getPublicKey:y=>g(y),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}};const Yg=Re,Lr=Se,ao=BigInt(0),zd=BigInt(1);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=O,e.edwardsToMontgomeryPriv=function(N){const L=k.hash(N.subarray(0,32));return k.adjustScalarBytes(L).subarray(0,32)};const t=ot,n=Ar,r=_h,i=Hr,o=Re,s=Th,a=Se,l=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),d=BigInt(1),f=BigInt(2),m=BigInt(3),g=BigInt(5),y=BigInt(8);function x(N){const L=BigInt(10),R=BigInt(20),$=BigInt(40),V=BigInt(80),U=l,q=N*N%U*N%U,Y=(0,o.pow2)(q,f,U)*q%U,J=(0,o.pow2)(Y,d,U)*N%U,G=(0,o.pow2)(J,g,U)*J%U,ce=(0,o.pow2)(G,L,U)*G%U,fe=(0,o.pow2)(ce,R,U)*ce%U,X=(0,o.pow2)(fe,$,U)*fe%U,ie=(0,o.pow2)(X,V,U)*X%U,te=(0,o.pow2)(ie,V,U)*X%U,re=(0,o.pow2)(te,L,U)*G%U;return{pow_p_5_8:(0,o.pow2)(re,f,U)*N%U,b2:q}}function p(N){return N[0]&=248,N[31]&=127,N[31]|=64,N}function w(N,L){const R=l,$=(0,o.mod)(L*L*L,R),V=x(N*(0,o.mod)($*$*L,R)).pow_p_5_8;let U=(0,o.mod)(N*$*V,R);const q=(0,o.mod)(L*U*U,R),Y=U,J=(0,o.mod)(U*c,R),G=q===N,ce=q===(0,o.mod)(-N,R),fe=q===(0,o.mod)(-N*c,R);return G&&(U=Y),(ce||fe)&&(U=J),(0,o.isNegativeLE)(U,R)&&(U=(0,o.mod)(-U,R)),{isValid:G||ce,value:U}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const v=(0,o.Field)(l,void 0,!0),k={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:v,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:y,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t.sha512,randomBytes:n.randomBytes,adjustScalarBytes:p,uvRatio:w};function P(N,L,R){if(L.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([R?1:0,L.length]),L,N)}function O(N){const{y:L}=e.ed25519.ExtendedPoint.fromHex(N),R=BigInt(1);return v.toBytes(v.create((R+L)*v.inv(R-L)))}e.ed25519=(0,r.twistedEdwards)(k),e.ed25519ctx=(0,r.twistedEdwards)({...k,domain:P}),e.ed25519ph=(0,r.twistedEdwards)(Object.assign({},k,{domain:P,prehash:t.sha512})),e.x25519=(0,s.montgomery)({P:l,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:N=>{const L=l,{pow_p_5_8:R,b2:$}=x(N);return(0,o.mod)((0,o.pow2)(R,m,L)*$,L)},adjustScalarBytes:p,randomBytes:n.randomBytes}),e.edwardsToMontgomery=O;const F=(v.ORDER+m)/y,B=v.pow(f,F),H=v.sqrt(v.neg(v.ONE)),D=(0,o.FpSqrtEven)(v,v.neg(BigInt(486664))),K=(0,i.createHasher)(e.ed25519.ExtendedPoint,N=>function(L){const{xMn:R,xMd:$,yMn:V,yMd:U}=function(ie){const te=(v.ORDER-g)/y,re=BigInt(486662);let se=v.sqr(ie);se=v.mul(se,f);let de=v.add(se,v.ONE),he=v.neg(re),pe=v.sqr(de),ve=v.mul(pe,de),we=v.mul(se,re);we=v.mul(we,he),we=v.add(we,pe),we=v.mul(we,he);let Ae=v.sqr(ve);pe=v.sqr(Ae),Ae=v.mul(Ae,ve),Ae=v.mul(Ae,we),pe=v.mul(pe,Ae);let Tt=v.pow(pe,te);Tt=v.mul(Tt,Ae);let oo=v.mul(Tt,H);pe=v.sqr(Tt),pe=v.mul(pe,ve);let Zu=v.eql(pe,we),Y0=v.cmov(oo,Tt,Zu),nS=v.mul(he,se),ps=v.mul(Tt,ie);ps=v.mul(ps,B);let rS=v.mul(ps,H),iS=v.mul(we,se);pe=v.sqr(ps),pe=v.mul(pe,ve);let oS=v.eql(pe,iS),sS=v.cmov(rS,ps,oS);pe=v.sqr(Y0),pe=v.mul(pe,ve);let Qu=v.eql(pe,we),aS=v.cmov(nS,he,Qu),ms=v.cmov(sS,Y0,Qu),lS=v.isOdd(ms);return ms=v.cmov(ms,v.neg(ms),Qu!==lS),{xMn:aS,xMd:de,yMn:ms,yMd:d}}(L);let q=v.mul(R,U);q=v.mul(q,D);let Y=v.mul($,V),J=v.sub(R,$),G=v.add(R,$),ce=v.mul(Y,G),fe=v.eql(ce,v.ZERO);q=v.cmov(q,v.ZERO,fe),Y=v.cmov(Y,v.ONE,fe),J=v.cmov(J,v.ONE,fe),G=v.cmov(G,v.ONE,fe);const X=v.invertBatch([Y,G]);return{x:v.mul(q,X[0]),y:v.mul(J,X[1])}}(N[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:v.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512});function z(N){if(!(N instanceof C))throw new Error("RistrettoPoint expected")}e.hashToCurve=K.hashToCurve,e.encodeToCurve=K.encodeToCurve;const E=c,b=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),S=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),M=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),T=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),_=N=>w(d,N),A=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),I=N=>e.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(N)&A);function j(N){const{d:L}=e.ed25519.CURVE,R=e.ed25519.CURVE.Fp.ORDER,$=e.ed25519.CURVE.Fp.create,V=$(E*N*N),U=$((V+d)*M);let q=BigInt(-1);const Y=$((q-L*V)*$(V+L));let{isValid:J,value:G}=w(U,Y),ce=$(G*N);(0,o.isNegativeLE)(ce,R)||(ce=$(-ce)),J||(G=ce),J||(q=V);const fe=$(q*(V-d)*T-Y),X=G*G,ie=$((G+G)*Y),te=$(fe*b),re=$(d-X),se=$(d+X);return new e.ed25519.ExtendedPoint($(ie*se),$(re*te),$(te*se),$(ie*re))}class C{constructor(L){this.ep=L}static fromAffine(L){return new C(e.ed25519.ExtendedPoint.fromAffine(L))}static hashToCurve(L){L=(0,a.ensureBytes)("ristrettoHash",L,64);const R=j(I(L.slice(0,32))),$=j(I(L.slice(32,64)));return new C(R.add($))}static fromHex(L){L=(0,a.ensureBytes)("ristrettoHex",L,32);const{a:R,d:$}=e.ed25519.CURVE,V=e.ed25519.CURVE.Fp.ORDER,U=e.ed25519.CURVE.Fp.create,q="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",Y=I(L);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(Y,32),L)||(0,o.isNegativeLE)(Y,V))throw new Error(q);const J=U(Y*Y),G=U(d+R*J),ce=U(d-R*J),fe=U(G*G),X=U(ce*ce),ie=U(R*$*fe-X),{isValid:te,value:re}=_(U(ie*X)),se=U(re*ce),de=U(re*se*ie);let he=U((Y+Y)*se);(0,o.isNegativeLE)(he,V)&&(he=U(-he));const pe=U(G*de),ve=U(he*pe);if(!te||(0,o.isNegativeLE)(ve,V)||pe===u)throw new Error(q);return new C(new e.ed25519.ExtendedPoint(he,pe,d,ve))}toRawBytes(){let{ex:L,ey:R,ez:$,et:V}=this.ep;const U=e.ed25519.CURVE.Fp.ORDER,q=e.ed25519.CURVE.Fp.create,Y=q(q($+R)*q($-R)),J=q(L*R),G=q(J*J),{value:ce}=_(q(Y*G)),fe=q(ce*Y),X=q(ce*J),ie=q(fe*X*V);let te;if((0,o.isNegativeLE)(V*ie,U)){let se=q(R*E),de=q(L*E);L=se,R=de,te=q(fe*S)}else te=X;(0,o.isNegativeLE)(L*ie,U)&&(R=q(-R));let re=q(($-R)*te);return(0,o.isNegativeLE)(re,U)&&(re=q(-re)),(0,a.numberToBytesLE)(re,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(L){z(L);const{ex:R,ey:$}=this.ep,{ex:V,ey:U}=L.ep,q=e.ed25519.CURVE.Fp.create,Y=q(R*U)===q($*V),J=q($*U)===q(R*V);return Y||J}add(L){return z(L),new C(this.ep.add(L.ep))}subtract(L){return z(L),new C(this.ep.subtract(L.ep))}multiply(L){return new C(this.ep.multiply(L))}multiplyUnsafe(L){return new C(this.ep.multiplyUnsafe(L))}double(){return new C(this.ep.double())}negate(){return new C(this.ep.negate())}}e.RistrettoPoint=(C.BASE||(C.BASE=new C(e.ed25519.ExtendedPoint.BASE)),C.ZERO||(C.ZERO=new C(e.ed25519.ExtendedPoint.ZERO)),C),e.hashToRistretto255=(N,L)=>{const R=L.DST,$=typeof R=="string"?(0,n.utf8ToBytes)(R):R,V=(0,i.expand_message_xmd)(N,$,64,t.sha512);return C.hashToCurve(V)},e.hash_to_ristretto255=e.hashToRistretto255})(ib);var $b={},yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.sha224=yr.sha256=yr.SHA256=void 0;const Hd=gr,fn=Ar,gC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jr=new Uint32Array(64);class d0 extends Hd.HashMD{constructor(){super(64,32,8,!1),this.A=0|Rr[0],this.B=0|Rr[1],this.C=0|Rr[2],this.D=0|Rr[3],this.E=0|Rr[4],this.F=0|Rr[5],this.G=0|Rr[6],this.H=0|Rr[7]}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|s,this.G=0|a,this.H=0|l}process(t,n){for(let d=0;d<16;d++,n+=4)jr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=jr[d-15],m=jr[d-2],g=(0,fn.rotr)(f,7)^(0,fn.rotr)(f,18)^f>>>3,y=(0,fn.rotr)(m,17)^(0,fn.rotr)(m,19)^m>>>10;jr[d]=y+jr[d-7]+g+jr[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=u+((0,fn.rotr)(a,6)^(0,fn.rotr)(a,11)^(0,fn.rotr)(a,25))+(0,Hd.Chi)(a,l,c)+gC[d]+jr[d]|0,m=((0,fn.rotr)(r,2)^(0,fn.rotr)(r,13)^(0,fn.rotr)(r,22))+(0,Hd.Maj)(r,i,o)|0;u=c,c=l,l=a,a=s+f|0,s=o,o=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){jr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}yr.SHA256=d0;class yC extends d0{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}yr.sha256=(0,fn.wrapConstructor)(()=>new d0),yr.sha224=(0,fn.wrapConstructor)(()=>new yC);var rc={},f0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=tn,n=Ar;class r extends n.Hash{constructor(o,s){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(o);const a=(0,n.toBytes)(s);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(a.length>l?o.create().update(a).digest():a);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=o.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),c.fill(0)}update(o){return(0,t.exists)(this),this.iHash.update(o),this}digestInto(o){(0,t.exists)(this),(0,t.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:l,destroyed:c,blockLen:u,outputLen:d}=this;return o.finished=l,o.destroyed=c,o.blockLen=u,o.outputLen=d,o.oHash=s._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r,e.hmac=(i,o,s)=>new r(i,o).update(s).digest(),e.hmac.create=(i,o)=>new r(i,o)})(f0);var h0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=void 0,e.weierstrassPoints=m,e.weierstrass=function(y){const x=function(L){const R=(0,t.validateBasic)(L);return r.validateObject(R,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...R})}(y),{Fp:p,n:w}=x,v=p.BYTES+1,k=2*p.BYTES+1;function P(L){return n.mod(L,w)}function O(L){return n.invert(L,w)}const{ProjectivePoint:F,normPrivateKeyToScalar:B,weierstrassEquation:H,isWithinCurveOrder:D}=m({...x,toBytes(L,R,$){const V=R.toAffine(),U=p.toBytes(V.x),q=r.concatBytes;return(0,i.abool)("isCompressed",$),$?q(Uint8Array.from([R.hasEvenY()?2:3]),U):q(Uint8Array.from([4]),U,p.toBytes(V.y))},fromBytes(L){const R=L.length,$=L[0],V=L.subarray(1);if(R!==v||$!==2&&$!==3){if(R===k&&$===4)return{x:p.fromBytes(V.subarray(0,p.BYTES)),y:p.fromBytes(V.subarray(p.BYTES,2*p.BYTES))};throw new Error(`Point of length ${R} was invalid. Expected ${v} compressed bytes or ${k} uncompressed bytes`)}{const U=r.bytesToNumberBE(V);if(!r.inRange(U,c,p.ORDER))throw new Error("Point is not on curve");const q=H(U);let Y;try{Y=p.sqrt(q)}catch(J){const G=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+G)}return(1&$)==1!=((Y&c)===c)&&(Y=p.neg(Y)),{x:U,y:Y}}}}),K=L=>r.bytesToHex(r.numberToBytesBE(L,x.nByteLength));function z(L){return L>w>>c}const E=(L,R,$)=>r.bytesToNumberBE(L.slice(R,$));class b{constructor(R,$,V){this.r=R,this.s=$,this.recovery=V,this.assertValidity()}static fromCompact(R){const $=x.nByteLength;return R=(0,i.ensureBytes)("compactSignature",R,2*$),new b(E(R,0,$),E(R,$,2*$))}static fromDER(R){const{r:$,s:V}=e.DER.toSig((0,i.ensureBytes)("DER",R));return new b($,V)}assertValidity(){r.aInRange("r",this.r,c,w),r.aInRange("s",this.s,c,w)}addRecoveryBit(R){return new b(this.r,this.s,R)}recoverPublicKey(R){const{r:$,s:V,recovery:U}=this,q=_((0,i.ensureBytes)("msgHash",R));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const Y=U===2||U===3?$+x.n:$;if(Y>=p.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=1&U?"03":"02",G=F.fromHex(J+K(Y)),ce=O(Y),fe=P(-q*ce),X=P(V*ce),ie=F.BASE.multiplyAndAddUnsafe(G,fe,X);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return z(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,P(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return K(this.r)+K(this.s)}}const S={isValidPrivateKey(L){try{return B(L),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const L=n.getMinHashLength(x.n);return n.mapHashToField(x.randomBytes(L),x.n)},precompute:(L=8,R=F.BASE)=>(R._setWindowSize(L),R.multiply(BigInt(3)),R)};function M(L){const R=r.isBytes(L),$=typeof L=="string",V=(R||$)&&L.length;return R?V===v||V===k:$?V===2*v||V===2*k:L instanceof F}const T=x.bits2int||function(L){const R=r.bytesToNumberBE(L),$=8*L.length-x.nBitLength;return $>0?R>>BigInt($):R},_=x.bits2int_modN||function(L){return P(T(L))},A=r.bitMask(x.nBitLength);function I(L){return r.aInRange(`num < 2^${x.nBitLength}`,L,l,A),r.numberToBytesBE(L,x.nByteLength)}function j(L,R,$=C){if(["recovered","canonical"].some(te=>te in $))throw new Error("sign() legacy options not supported");const{hash:V,randomBytes:U}=x;let{lowS:q,prehash:Y,extraEntropy:J}=$;q==null&&(q=!0),L=(0,i.ensureBytes)("msgHash",L),o($),Y&&(L=(0,i.ensureBytes)("prehashed msgHash",V(L)));const G=_(L),ce=B(R),fe=[I(ce),I(G)];if(J!=null&&J!==!1){const te=J===!0?U(p.BYTES):J;fe.push((0,i.ensureBytes)("extraEntropy",te))}const X=r.concatBytes(...fe),ie=G;return{seed:X,k2sig:function(te){const re=T(te);if(!D(re))return;const se=O(re),de=F.BASE.multiply(re).toAffine(),he=P(de.x);if(he===l)return;const pe=P(se*P(ie+he*ce));if(pe===l)return;let ve=(de.x===he?0:2)|Number(de.y&c),we=pe;return q&&z(pe)&&(we=function(Ae){return z(Ae)?P(-Ae):Ae}(pe),ve^=1),new b(he,we,ve)}}}const C={lowS:x.lowS,prehash:!1},N={lowS:x.lowS,prehash:!1};return F.BASE._setWindowSize(8),{CURVE:x,getPublicKey:function(L,R=!0){return F.fromPrivateKey(L).toRawBytes(R)},getSharedSecret:function(L,R,$=!0){if(M(L))throw new Error("first arg must be private key");if(!M(R))throw new Error("second arg must be public key");return F.fromHex(R).multiply(B(L)).toRawBytes($)},sign:function(L,R,$=C){const{seed:V,k2sig:U}=j(L,R,$),q=x;return r.createHmacDrbg(q.hash.outputLen,q.nByteLength,q.hmac)(V,U)},verify:function(L,R,$,V=N){var de;const U=L;if(R=(0,i.ensureBytes)("msgHash",R),$=(0,i.ensureBytes)("publicKey",$),"strict"in V)throw new Error("options.strict was renamed to lowS");o(V);const{lowS:q,prehash:Y}=V;let J,G;try{if(typeof U=="string"||r.isBytes(U))try{J=b.fromDER(U)}catch(he){if(!(he instanceof e.DER.Err))throw he;J=b.fromCompact(U)}else{if(typeof U!="object"||typeof U.r!="bigint"||typeof U.s!="bigint")throw new Error("PARSE");{const{r:he,s:pe}=U;J=new b(he,pe)}}G=F.fromHex($)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&J.hasHighS())return!1;Y&&(R=x.hash(R));const{r:ce,s:fe}=J,X=_(R),ie=O(fe),te=P(X*ie),re=P(ce*ie),se=(de=F.BASE.multiplyAndAddUnsafe(G,te,re))==null?void 0:de.toAffine();return se?P(se.x)===ce:!1},ProjectivePoint:F,Signature:b,utils:S}},e.SWUFpSqrtRatio=g,e.mapToCurveSimpleSWU=function(y,x){if(n.validateField(y),!y.isValid(x.A)||!y.isValid(x.B)||!y.isValid(x.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const p=g(y,x.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return w=>{let v,k,P,O,F,B,H,D;v=y.sqr(w),v=y.mul(v,x.Z),k=y.sqr(v),k=y.add(k,v),P=y.add(k,y.ONE),P=y.mul(P,x.B),O=y.cmov(x.Z,y.neg(k),!y.eql(k,y.ZERO)),O=y.mul(O,x.A),k=y.sqr(P),B=y.sqr(O),F=y.mul(B,x.A),k=y.add(k,F),k=y.mul(k,P),B=y.mul(B,O),F=y.mul(B,x.B),k=y.add(k,F),H=y.mul(v,P);const{isValid:K,value:z}=p(k,B);D=y.mul(v,w),D=y.mul(D,z),H=y.cmov(H,P,K),D=y.cmov(D,z,K);const E=y.isOdd(w)===y.isOdd(D);return D=y.cmov(y.neg(D),D,E),H=y.div(H,O),{x:H,y:D}}};const t=To,n=Re,r=Se,i=Se;function o(y){y.lowS!==void 0&&(0,i.abool)("lowS",y.lowS),y.prehash!==void 0&&(0,i.abool)("prehash",y.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(y=""){super(y)}},_tlv:{encode:(y,x)=>{const{Err:p}=e.DER;if(y<0||y>256)throw new p("tlv.encode: wrong tag");if(1&x.length)throw new p("tlv.encode: unpadded data");const w=x.length/2,v=r.numberToHexUnpadded(w);if(v.length/2&128)throw new p("tlv.encode: long form length too big");const k=w>127?r.numberToHexUnpadded(v.length/2|128):"";return`${r.numberToHexUnpadded(y)}${k}${v}${x}`},decode(y,x){const{Err:p}=e.DER;let w=0;if(y<0||y>256)throw new p("tlv.encode: wrong tag");if(x.length<2||x[w++]!==y)throw new p("tlv.decode: wrong tlv");const v=x[w++];let k=0;if(128&v){const O=127&v;if(!O)throw new p("tlv.decode(long): indefinite length not supported");if(O>4)throw new p("tlv.decode(long): byte length is too big");const F=x.subarray(w,w+O);if(F.length!==O)throw new p("tlv.decode: length bytes not complete");if(F[0]===0)throw new p("tlv.decode(long): zero leftmost byte");for(const B of F)k=k<<8|B;if(w+=O,k<128)throw new p("tlv.decode(long): not minimal encoding")}else k=v;const P=x.subarray(w,w+k);if(P.length!==k)throw new p("tlv.decode: wrong value length");return{v:P,l:x.subarray(w+k)}}},_int:{encode(y){const{Err:x}=e.DER;if(y<l)throw new x("integer: negative integers are not allowed");let p=r.numberToHexUnpadded(y);if(8&Number.parseInt(p[0],16)&&(p="00"+p),1&p.length)throw new x("unexpected assertion");return p},decode(y){const{Err:x}=e.DER;if(128&y[0])throw new x("Invalid signature integer: negative");if(y[0]===0&&!(128&y[1]))throw new x("Invalid signature integer: unnecessary leading zero");return s(y)}},toSig(y){const{Err:x,_int:p,_tlv:w}=e.DER,v=typeof y=="string"?a(y):y;r.abytes(v);const{v:k,l:P}=w.decode(48,v);if(P.length)throw new x("Invalid signature: left bytes after parsing");const{v:O,l:F}=w.decode(2,k),{v:B,l:H}=w.decode(2,F);if(H.length)throw new x("Invalid signature: left bytes after parsing");return{r:p.decode(O),s:p.decode(B)}},hexFromSig(y){const{_tlv:x,_int:p}=e.DER,w=`${x.encode(2,p.encode(y.r))}${x.encode(2,p.encode(y.s))}`;return x.encode(48,w)}};const l=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(3),f=BigInt(4);function m(y){const x=function(E){const b=(0,t.validateBasic)(E);r.validateObject(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:S,Fp:M,a:T}=b;if(S){if(!M.eql(T,M.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof S!="object"||typeof S.beta!="bigint"||typeof S.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...b})}(y),{Fp:p}=x,w=n.Field(x.n,x.nBitLength),v=x.toBytes||((E,b,S)=>{const M=b.toAffine();return r.concatBytes(Uint8Array.from([4]),p.toBytes(M.x),p.toBytes(M.y))}),k=x.fromBytes||(E=>{const b=E.subarray(1);return{x:p.fromBytes(b.subarray(0,p.BYTES)),y:p.fromBytes(b.subarray(p.BYTES,2*p.BYTES))}});function P(E){const{a:b,b:S}=x,M=p.sqr(E),T=p.mul(M,E);return p.add(p.add(T,p.mul(E,b)),S)}if(!p.eql(p.sqr(x.Gy),P(x.Gx)))throw new Error("bad generator point: equation left != right");function O(E){const{allowedPrivateKeyLengths:b,nByteLength:S,wrapPrivateKey:M,n:T}=x;if(b&&typeof E!="bigint"){if(r.isBytes(E)&&(E=r.bytesToHex(E)),typeof E!="string"||!b.includes(E.length))throw new Error("Invalid key");E=E.padStart(2*S,"0")}let _;try{_=typeof E=="bigint"?E:r.bytesToNumberBE((0,i.ensureBytes)("private key",E,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof E}`)}return M&&(_=n.mod(_,T)),r.aInRange("private key",_,c,T),_}function F(E){if(!(E instanceof D))throw new Error("ProjectivePoint expected")}const B=(0,i.memoized)((E,b)=>{const{px:S,py:M,pz:T}=E;if(p.eql(T,p.ONE))return{x:S,y:M};const _=E.is0();b==null&&(b=_?p.ONE:p.inv(T));const A=p.mul(S,b),I=p.mul(M,b),j=p.mul(T,b);if(_)return{x:p.ZERO,y:p.ZERO};if(!p.eql(j,p.ONE))throw new Error("invZ was invalid");return{x:A,y:I}}),H=(0,i.memoized)(E=>{if(E.is0()){if(x.allowInfinityPoint&&!p.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:b,y:S}=E.toAffine();if(!p.isValid(b)||!p.isValid(S))throw new Error("bad point: x or y not FE");const M=p.sqr(S),T=P(b);if(!p.eql(M,T))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class D{constructor(b,S,M){if(this.px=b,this.py=S,this.pz=M,b==null||!p.isValid(b))throw new Error("x required");if(S==null||!p.isValid(S))throw new Error("y required");if(M==null||!p.isValid(M))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:S,y:M}=b||{};if(!b||!p.isValid(S)||!p.isValid(M))throw new Error("invalid affine point");if(b instanceof D)throw new Error("projective point not allowed");const T=_=>p.eql(_,p.ZERO);return T(S)&&T(M)?D.ZERO:new D(S,M,p.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const S=p.invertBatch(b.map(M=>M.pz));return b.map((M,T)=>M.toAffine(S[T])).map(D.fromAffine)}static fromHex(b){const S=D.fromAffine(k((0,i.ensureBytes)("pointHex",b)));return S.assertValidity(),S}static fromPrivateKey(b){return D.BASE.multiply(O(b))}static msm(b,S){return(0,t.pippenger)(D,w,b,S)}_setWindowSize(b){z.setWindowSize(this,b)}assertValidity(){H(this)}hasEvenY(){const{y:b}=this.toAffine();if(p.isOdd)return!p.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){F(b);const{px:S,py:M,pz:T}=this,{px:_,py:A,pz:I}=b,j=p.eql(p.mul(S,I),p.mul(_,T)),C=p.eql(p.mul(M,I),p.mul(A,T));return j&&C}negate(){return new D(this.px,p.neg(this.py),this.pz)}double(){const{a:b,b:S}=x,M=p.mul(S,d),{px:T,py:_,pz:A}=this;let I=p.ZERO,j=p.ZERO,C=p.ZERO,N=p.mul(T,T),L=p.mul(_,_),R=p.mul(A,A),$=p.mul(T,_);return $=p.add($,$),C=p.mul(T,A),C=p.add(C,C),I=p.mul(b,C),j=p.mul(M,R),j=p.add(I,j),I=p.sub(L,j),j=p.add(L,j),j=p.mul(I,j),I=p.mul($,I),C=p.mul(M,C),R=p.mul(b,R),$=p.sub(N,R),$=p.mul(b,$),$=p.add($,C),C=p.add(N,N),N=p.add(C,N),N=p.add(N,R),N=p.mul(N,$),j=p.add(j,N),R=p.mul(_,A),R=p.add(R,R),N=p.mul(R,$),I=p.sub(I,N),C=p.mul(R,L),C=p.add(C,C),C=p.add(C,C),new D(I,j,C)}add(b){F(b);const{px:S,py:M,pz:T}=this,{px:_,py:A,pz:I}=b;let j=p.ZERO,C=p.ZERO,N=p.ZERO;const L=x.a,R=p.mul(x.b,d);let $=p.mul(S,_),V=p.mul(M,A),U=p.mul(T,I),q=p.add(S,M),Y=p.add(_,A);q=p.mul(q,Y),Y=p.add($,V),q=p.sub(q,Y),Y=p.add(S,T);let J=p.add(_,I);return Y=p.mul(Y,J),J=p.add($,U),Y=p.sub(Y,J),J=p.add(M,T),j=p.add(A,I),J=p.mul(J,j),j=p.add(V,U),J=p.sub(J,j),N=p.mul(L,Y),j=p.mul(R,U),N=p.add(j,N),j=p.sub(V,N),N=p.add(V,N),C=p.mul(j,N),V=p.add($,$),V=p.add(V,$),U=p.mul(L,U),Y=p.mul(R,Y),V=p.add(V,U),U=p.sub($,U),U=p.mul(L,U),Y=p.add(Y,U),$=p.mul(V,Y),C=p.add(C,$),$=p.mul(J,Y),j=p.mul(q,j),j=p.sub(j,$),$=p.mul(q,V),N=p.mul(J,N),N=p.add(N,$),new D(j,C,N)}subtract(b){return this.add(b.negate())}is0(){return this.equals(D.ZERO)}wNAF(b){return z.wNAFCached(this,b,D.normalizeZ)}multiplyUnsafe(b){r.aInRange("scalar",b,l,x.n);const S=D.ZERO;if(b===l)return S;if(b===c)return this;const{endo:M}=x;if(!M)return z.unsafeLadder(this,b);let{k1neg:T,k1:_,k2neg:A,k2:I}=M.splitScalar(b),j=S,C=S,N=this;for(;_>l||I>l;)_&c&&(j=j.add(N)),I&c&&(C=C.add(N)),N=N.double(),_>>=c,I>>=c;return T&&(j=j.negate()),A&&(C=C.negate()),C=new D(p.mul(C.px,M.beta),C.py,C.pz),j.add(C)}multiply(b){const{endo:S,n:M}=x;let T,_;if(r.aInRange("scalar",b,c,M),S){const{k1neg:A,k1:I,k2neg:j,k2:C}=S.splitScalar(b);let{p:N,f:L}=this.wNAF(I),{p:R,f:$}=this.wNAF(C);N=z.constTimeNegate(A,N),R=z.constTimeNegate(j,R),R=new D(p.mul(R.px,S.beta),R.py,R.pz),T=N.add(R),_=L.add($)}else{const{p:A,f:I}=this.wNAF(b);T=A,_=I}return D.normalizeZ([T,_])[0]}multiplyAndAddUnsafe(b,S,M){const T=D.BASE,_=(I,j)=>j!==l&&j!==c&&I.equals(T)?I.multiply(j):I.multiplyUnsafe(j),A=_(this,S).add(_(b,M));return A.is0()?void 0:A}toAffine(b){return B(this,b)}isTorsionFree(){const{h:b,isTorsionFree:S}=x;if(b===c)return!0;if(S)return S(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:S}=x;return b===c?this:S?S(D,this):this.multiplyUnsafe(x.h)}toRawBytes(b=!0){return(0,i.abool)("isCompressed",b),this.assertValidity(),v(D,this,b)}toHex(b=!0){return(0,i.abool)("isCompressed",b),r.bytesToHex(this.toRawBytes(b))}}D.BASE=new D(x.Gx,x.Gy,p.ONE),D.ZERO=new D(p.ZERO,p.ONE,p.ZERO);const K=x.nBitLength,z=(0,t.wNAF)(D,x.endo?Math.ceil(K/2):K);return{CURVE:x,ProjectivePoint:D,normPrivateKeyToScalar:O,weierstrassEquation:P,isWithinCurveOrder:function(E){return r.inRange(E,c,x.n)}}}function g(y,x){const p=y.ORDER;let w=l;for(let E=p-c;E%u===l;E/=u)w+=c;const v=w,k=u<<v-c-c,P=k*u,O=(p-c)/P,F=(O-c)/u,B=P-c,H=k,D=y.pow(x,O),K=y.pow(x,(O+c)/u);let z=(E,b)=>{let S=D,M=y.pow(b,B),T=y.sqr(M);T=y.mul(T,b);let _=y.mul(E,T);_=y.pow(_,F),_=y.mul(_,M),M=y.mul(_,b),T=y.mul(_,E);let A=y.mul(T,M);_=y.pow(A,H);let I=y.eql(_,y.ONE);M=y.mul(T,K),_=y.mul(A,S),T=y.cmov(M,T,I),A=y.cmov(_,A,I);for(let j=v;j>c;j--){let C=j-u;C=u<<C-c;let N=y.pow(A,C);const L=y.eql(N,y.ONE);M=y.mul(T,S),S=y.mul(S,S),N=y.mul(A,S),T=y.cmov(M,T,L),A=y.cmov(N,A,L)}return{isValid:I,value:T}};if(y.ORDER%f===d){const E=(y.ORDER-d)/f,b=y.sqrt(y.neg(x));z=(S,M)=>{let T=y.sqr(M);const _=y.mul(S,M);T=y.mul(T,_);let A=y.pow(T,E);A=y.mul(A,_);const I=y.mul(A,b),j=y.mul(y.sqr(A),M),C=y.eql(j,S);return{isValid:C,value:y.cmov(I,A,C)}}}return z}})(h0),Object.defineProperty(rc,"__esModule",{value:!0}),rc.getHash=Qg,rc.createCurve=function(e,t){const n=r=>(0,wC.weierstrass)({...e,...Qg(r)});return Object.freeze({...n(t),create:n})};const vC=f0,Zg=Ar,wC=h0;function Qg(e){return{hash:e,hmac:(t,...n)=>(0,vC.hmac)(e,t,(0,Zg.concatBytes)(...n)),randomBytes:Zg.randomBytes}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const t=yr,n=Ar,r=rc,i=Hr,o=Re,s=Se,a=h0,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),d=BigInt(2),f=(M,T)=>(M+T/d)/T;function m(M){const T=l,_=BigInt(3),A=BigInt(6),I=BigInt(11),j=BigInt(22),C=BigInt(23),N=BigInt(44),L=BigInt(88),R=M*M*M%T,$=R*R*M%T,V=(0,o.pow2)($,_,T)*$%T,U=(0,o.pow2)(V,_,T)*$%T,q=(0,o.pow2)(U,d,T)*R%T,Y=(0,o.pow2)(q,I,T)*q%T,J=(0,o.pow2)(Y,j,T)*Y%T,G=(0,o.pow2)(J,N,T)*J%T,ce=(0,o.pow2)(G,L,T)*G%T,fe=(0,o.pow2)(ce,N,T)*J%T,X=(0,o.pow2)(fe,_,T)*$%T,ie=(0,o.pow2)(X,C,T)*Y%T,te=(0,o.pow2)(ie,A,T)*R%T,re=(0,o.pow2)(te,d,T);if(!g.eql(g.sqr(re),M))throw new Error("Cannot find square root");return re}const g=(0,o.Field)(l,void 0,void 0,{sqrt:m});e.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const T=c,_=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),A=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),I=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=_,C=BigInt("0x100000000000000000000000000000000"),N=f(j*M,T),L=f(-A*M,T);let R=(0,o.mod)(M-N*_-L*I,T),$=(0,o.mod)(-N*A-L*j,T);const V=R>C,U=$>C;if(V&&(R=T-R),U&&($=T-$),R>C||$>C)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:V,k1:R,k2neg:U,k2:$}}}},t.sha256);const y=BigInt(0),x={};function p(M,...T){let _=x[M];if(_===void 0){const A=(0,t.sha256)(Uint8Array.from(M,I=>I.charCodeAt(0)));_=(0,s.concatBytes)(A,A),x[M]=_}return(0,t.sha256)((0,s.concatBytes)(_,...T))}const w=M=>M.toRawBytes(!0).slice(1),v=M=>(0,s.numberToBytesBE)(M,32),k=M=>(0,o.mod)(M,l),P=M=>(0,o.mod)(M,c),O=e.secp256k1.ProjectivePoint,F=(M,T,_)=>O.BASE.multiplyAndAddUnsafe(M,T,_);function B(M){let T=e.secp256k1.utils.normPrivateKeyToScalar(M),_=O.fromPrivateKey(T);return{scalar:_.hasEvenY()?T:P(-T),bytes:w(_)}}function H(M){(0,s.aInRange)("x",M,u,l);const T=k(M*M);let _=m(k(T*M+BigInt(7)));_%d!==y&&(_=k(-_));const A=new O(M,_,u);return A.assertValidity(),A}const D=s.bytesToNumberBE;function K(...M){return P(D(p("BIP0340/challenge",...M)))}function z(M,T,_){const A=(0,s.ensureBytes)("signature",M,64),I=(0,s.ensureBytes)("message",T),j=(0,s.ensureBytes)("publicKey",_,32);try{const C=H(D(j)),N=D(A.subarray(0,32));if(!(0,s.inRange)(N,u,l))return!1;const L=D(A.subarray(32,64));if(!(0,s.inRange)(L,u,c))return!1;const R=K(v(N),w(C),I),$=F(C,L,P(-R));return!(!$||!$.hasEvenY()||$.toAffine().x!==N)}catch{return!1}}e.schnorr={getPublicKey:function(M){return B(M).bytes},sign:function(M,T,_=(0,n.randomBytes)(32)){const A=(0,s.ensureBytes)("message",M),{bytes:I,scalar:j}=B(T),C=(0,s.ensureBytes)("auxRand",_,32),N=v(j^D(p("BIP0340/aux",C))),L=p("BIP0340/nonce",N,I,A),R=P(D(L));if(R===y)throw new Error("sign failed: k is zero");const{bytes:$,scalar:V}=B(R),U=K($,I,A),q=new Uint8Array(64);if(q.set($,0),q.set(v(P(V+U*j)),32),!z(q,A,I))throw new Error("sign: Invalid signature produced");return q},verify:z,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:H,pointToBytes:w,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:p,mod:o.mod}};const E=(0,i.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(T=>BigInt(T)))),b=(0,a.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}),S=(0,i.createHasher)(e.secp256k1.ProjectivePoint,M=>{const{x:T,y:_}=b(g.create(M[0]));return E(T,_)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256});e.hashToCurve=S.hashToCurve,e.encodeToCurve=S.encodeToCurve})($b);var Ph={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHex=e.remove0x=void 0;var t=cn;e.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},e.decodeHex=function(n){return(0,t.hexToBytes)((0,e.remove0x)(n))}})(Ph),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hexToPublicKey=e.convertPublicKeyFormat=e.getSharedPoint=e.getPublicKey=e.isValidPrivateKey=e.getValidSecret=void 0;var t=l0,n=ib,r=$b,i=ka,o=it,s=Ph;function a(u,d,f,m){if(u==="secp256k1")return d(r.secp256k1);if(u==="x25519")return f(n.x25519);if(u==="ed25519")return m(n.ed25519);throw new Error("Not implemented")}e.getValidSecret=function(){var u;do u=(0,t.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,e.isValidPrivateKey)(u));return u},e.isValidPrivateKey=function(u){return a((0,i.ellipticCurve)(),function(d){return d.utils.isValidPrivateKey(u)},function(){return!0},function(){return!0})},e.getPublicKey=function(u){return a((0,i.ellipticCurve)(),function(d){return d.getPublicKey(u)},function(d){return d.getPublicKey(u)},function(d){return d.getPublicKey(u)})},e.getSharedPoint=function(u,d,f){return a((0,i.ellipticCurve)(),function(m){return m.getSharedSecret(u,d,f)},function(m){return m.getSharedSecret(u,d)},function(m){return c(m,u,d)})},e.convertPublicKeyFormat=function(u,d){return a((0,i.ellipticCurve)(),function(f){return f.getSharedSecret(BigInt(1),u,d)},function(){return u},function(){return u})},e.hexToPublicKey=function(u){var d=(0,s.decodeHex)(u);return a((0,i.ellipticCurve)(),function(){return l(d)},function(){return d},function(){return d})};var l=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var d=new Uint8Array(1+u.length);return d.set([4]),d.set(u,1),d}return u},c=function(u,d,f){var m=u.utils.getExtendedPublicKey(d).scalar;return u.ExtendedPoint.fromHex(f).multiply(m).toRawBytes()}}(rb);var Db={},Po={};Object.defineProperty(Po,"__esModule",{value:!0}),Po.hkdf=void 0,Po.extract=Fb,Po.expand=Ub;const Lh=tn,Jg=Ar,Bb=f0;function Fb(e,t,n){return(0,Lh.hash)(e),n===void 0&&(n=new Uint8Array(e.outputLen)),(0,Bb.hmac)(e,(0,Jg.toBytes)(n),(0,Jg.toBytes)(t))}const Vd=new Uint8Array([0]),Xg=new Uint8Array;function Ub(e,t,n,r=32){if((0,Lh.hash)(e),(0,Lh.number)(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=Xg);const o=new Uint8Array(i*e.outputLen),s=Bb.hmac.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let c=0;c<i;c++)Vd[0]=c+1,a.update(c===0?Xg:l).update(n).update(Vd).digestInto(l),o.set(l,e.outputLen*c),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),Vd.fill(0),o.slice(0,r)}Po.hkdf=(e,t,n,r,i)=>Ub(e,Fb(e,t,n),r,i),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSharedKey=e.deriveKey=void 0;var t=cn,n=Po,r=yr;e.deriveKey=function(i,o,s){return(0,n.hkdf)(r.sha256,i,o,s,32)},e.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,e.deriveKey)(t.concatBytes.apply(void 0,i))}}(Db);var ey={},Ho={},He={},ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.polyval=ji.ghash=void 0,ji._toGHASHKey=Kb;const Ii=Ct,Rt=cn,lr=16,p0=new Uint8Array(16),Gn=(0,Rt.u32)(p0),mn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function Kb(e){e.reverse();const t=1&e[15];let n=0;for(let r=0;r<e.length;r++){const i=e[r];e[r]=i>>>1|n,n=(1&i)<<7}return e[0]^=225&-t,e}class zb{constructor(t,n){this.blockLen=lr,this.outputLen=lr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=(0,Rt.toBytes)(t),(0,Ii.bytes)(t,16);const r=(0,Rt.createView)(t);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const l=[];for(let p=0;p<128;p++)l.push({s0:mn(i),s1:mn(o),s2:mn(s),s3:mn(a)}),{s0:i,s1:o,s2:s,s3:a}={s3:(d=s)<<31|(f=a)>>>1,s2:(u=o)<<31|d>>>1,s1:(c=i)<<31|u>>>1,s0:c>>>1^225<<24&-(1&f)};var c,u,d,f;const m=(p=>p>65536?8:p>1024?4:2)(n||1024);if(![1,2,4,8].includes(m))throw new Error(`ghash: wrong window size=${m}, should be 2, 4 or 8`);this.W=m;const g=128/m,y=this.windowSize=2**m,x=[];for(let p=0;p<g;p++)for(let w=0;w<y;w++){let v=0,k=0,P=0,O=0;for(let F=0;F<m;F++){if(!(w>>>m-F-1&1))continue;const{s0:B,s1:H,s2:D,s3:K}=l[m*p+F];v^=B,k^=H,P^=D,O^=K}x.push({s0:v,s1:k,s2:P,s3:O})}this.t=x}_updateBlock(t,n,r,i){t^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let l=0,c=0,u=0,d=0;const f=(1<<o)-1;let m=0;for(const g of[t,n,r,i])for(let y=0;y<4;y++){const x=g>>>8*y&255;for(let p=8/o-1;p>=0;p--){const w=x>>>o*p&f,{s0:v,s1:k,s2:P,s3:O}=s[m*a+w];l^=v,c^=k,u^=P,d^=O,m+=1}}this.s0=l,this.s1=c,this.s2=u,this.s3=d}update(t){t=(0,Rt.toBytes)(t),(0,Ii.exists)(this);const n=(0,Rt.u32)(t),r=Math.floor(t.length/lr),i=t.length%lr;for(let o=0;o<r;o++)this._updateBlock(n[4*o+0],n[4*o+1],n[4*o+2],n[4*o+3]);return i&&(p0.set(t.subarray(r*lr)),this._updateBlock(Gn[0],Gn[1],Gn[2],Gn[3]),(0,Rt.clean)(Gn)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){(0,Ii.exists)(this),(0,Ii.output)(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Rt.u32)(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t}digest(){const t=new Uint8Array(lr);return this.digestInto(t),this.destroy(),t}}class bC extends zb{constructor(t,n){t=(0,Rt.toBytes)(t);const r=Kb((0,Rt.copyBytes)(t));super(r,n),(0,Rt.clean)(r)}update(t){t=(0,Rt.toBytes)(t),(0,Ii.exists)(this);const n=(0,Rt.u32)(t),r=t.length%lr,i=Math.floor(t.length/lr);for(let o=0;o<i;o++)this._updateBlock(mn(n[4*o+3]),mn(n[4*o+2]),mn(n[4*o+1]),mn(n[4*o+0]));return r&&(p0.set(t.subarray(i*lr)),this._updateBlock(mn(Gn[3]),mn(Gn[2]),mn(Gn[1]),mn(Gn[0])),(0,Rt.clean)(Gn)),this}digestInto(t){(0,Ii.exists)(this),(0,Ii.output)(t,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Rt.u32)(t);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,t.reverse()}}function ty(e){const t=(r,i)=>e(i,r.length).update((0,Rt.toBytes)(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,i)=>e(r,i),t}ji.ghash=ty((e,t)=>new zb(e,t)),ji.polyval=ty((e,t)=>new bC(e,t)),Object.defineProperty(He,"__esModule",{value:!0}),He.unsafe=He.aeskwp=He.aeskw=He.siv=He.gcm=He.cfb=He.cbc=He.ecb=He.ctr=void 0,He.expandKeyLE=jn,He.expandKeyDecLE=_a;const Ne=Ct,Rh=ji,le=cn,Yt=16,Cl=new Uint8Array(Yt),xC=283;function m0(e){return e<<1^xC&-(e>>7)}function Lo(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=m0(e);return n}const jh=(()=>{const e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=m0(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,le.clean)(e),t})(),EC=jh.map((e,t)=>jh.indexOf(t)),SC=e=>e<<24|e>>>8,Wd=e=>e<<8|e>>>24,Qc=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Hb(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),r=n.map(Wd),i=r.map(Wd),o=i.map(Wd),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const d=256*c+u;s[d]=n[c]^r[u],a[d]=i[c]^o[u],l[d]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const g0=Hb(jh,e=>Lo(e,3)<<24|e<<16|e<<8|Lo(e,2)),Vb=Hb(EC,e=>Lo(e,11)<<24|Lo(e,13)<<16|Lo(e,9)<<8|Lo(e,14)),kC=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=m0(n))e[t]=n;return e})();function jn(e){(0,Ne.bytes)(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=g0,r=[];(0,le.isAligned32)(e)||r.push(e=(0,le.copyBytes)(e));const i=(0,le.u32)(e),o=i.length,s=l=>Zn(n,l,l,l,l),a=new Uint32Array(t+28);a.set(i);for(let l=o;l<a.length;l++){let c=a[l-1];l%o==0?c=s(SC(c))^kC[l/o-1]:o>6&&l%o==4&&(c=s(c)),a[l]=a[l-o]^c}return(0,le.clean)(...r),a}function _a(e){const t=jn(e),n=t.slice(),r=t.length,{sbox2:i}=g0,{T0:o,T1:s,T2:a,T3:l}=Vb;for(let c=0;c<r;c+=4)for(let u=0;u<4;u++)n[c+u]=t[r-c-4+u];(0,le.clean)(t);for(let c=4;c<r-4;c++){const u=n[c],d=Zn(i,u,u,u,u);n[c]=o[255&d]^s[d>>>8&255]^a[d>>>16&255]^l[d>>>24]}return n}function ri(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function Zn(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function jt(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=g0;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const d=e[l++]^ri(s,a,t,n,r,i),f=e[l++]^ri(s,a,n,r,i,t),m=e[l++]^ri(s,a,r,i,t,n),g=e[l++]^ri(s,a,i,t,n,r);t=d,n=f,r=m,i=g}return{s0:e[l++]^Zn(o,t,n,r,i),s1:e[l++]^Zn(o,n,r,i,t),s2:e[l++]^Zn(o,r,i,t,n),s3:e[l++]^Zn(o,i,t,n,r)}}function Na(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=Vb;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const d=e[l++]^ri(s,a,t,i,r,n),f=e[l++]^ri(s,a,n,t,i,r),m=e[l++]^ri(s,a,r,n,t,i),g=e[l++]^ri(s,a,i,r,n,t);t=d,n=f,r=m,i=g}return{s0:e[l++]^Zn(o,t,i,r,n),s1:e[l++]^Zn(o,n,t,i,r),s2:e[l++]^Zn(o,r,n,t,i),s3:e[l++]^Zn(o,i,r,n,t)}}function Vo(e,t){if(t===void 0)return new Uint8Array(e);if((0,Ne.bytes)(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);if(!(0,le.isAligned32)(t))throw new Error("unaligned dst");return t}function Wb(e,t,n,r){(0,Ne.bytes)(t,Yt),(0,Ne.bytes)(n);const i=n.length;r=Vo(i,r);const o=t,s=(0,le.u32)(o);let{s0:a,s1:l,s2:c,s3:u}=jt(e,s[0],s[1],s[2],s[3]);const d=(0,le.u32)(n),f=(0,le.u32)(r);for(let g=0;g+4<=d.length;g+=4){f[g+0]=d[g+0]^a,f[g+1]=d[g+1]^l,f[g+2]=d[g+2]^c,f[g+3]=d[g+3]^u;let y=1;for(let x=o.length-1;x>=0;x--)y=y+(255&o[x])|0,o[x]=255&y,y>>>=8;({s0:a,s1:l,s2:c,s3:u}=jt(e,s[0],s[1],s[2],s[3]))}const m=Yt*Math.floor(d.length/4);if(m<i){const g=new Uint32Array([a,l,c,u]),y=(0,le.u8)(g);for(let x=m,p=0;x<i;x++,p++)r[x]=n[x]^y[p];(0,le.clean)(g)}return r}function Ro(e,t,n,r,i){(0,Ne.bytes)(n,Yt),(0,Ne.bytes)(r),i=Vo(r.length,i);const o=n,s=(0,le.u32)(o),a=(0,le.createView)(o),l=(0,le.u32)(r),c=(0,le.u32)(i),u=t?0:12,d=r.length;let f=a.getUint32(u,t),{s0:m,s1:g,s2:y,s3:x}=jt(e,s[0],s[1],s[2],s[3]);for(let w=0;w+4<=l.length;w+=4)c[w+0]=l[w+0]^m,c[w+1]=l[w+1]^g,c[w+2]=l[w+2]^y,c[w+3]=l[w+3]^x,f=f+1>>>0,a.setUint32(u,f,t),{s0:m,s1:g,s2:y,s3:x}=jt(e,s[0],s[1],s[2],s[3]);const p=Yt*Math.floor(l.length/4);if(p<d){const w=new Uint32Array([m,g,y,x]),v=(0,le.u8)(w);for(let k=p,P=0;k<d;k++,P++)i[k]=r[k]^v[P];(0,le.clean)(w)}return i}function ny(e){if((0,Ne.bytes)(e),e.length%Yt!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function ry(e,t,n){(0,Ne.bytes)(e);let r=e.length;const i=r%Yt;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,le.isAligned32)(e)||(e=(0,le.copyBytes)(e));const o=(0,le.u32)(e);if(t){let a=Yt-i;a||(a=Yt),r+=a}const s=Vo(r,n);return{b:o,o:(0,le.u32)(s),out:s}}function iy(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function oy(e){const t=new Uint8Array(16),n=(0,le.u32)(t);t.set(e);const r=Yt-e.length;for(let i=Yt-r;i<Yt;i++)t[i]=r;return n}function qb(e,t,n,r,i){const o=i==null?0:i.length,s=e.create(n,r.length+o);i&&s.update(i),s.update(r);const a=new Uint8Array(16),l=(0,le.createView)(a);i&&(0,le.setBigUint64)(l,0,BigInt(8*o),t),(0,le.setBigUint64)(l,8,BigInt(8*r.length),t),s.update(a);const c=s.digest();return(0,le.clean)(a),c}He.ctr=(0,le.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(r,i){if((0,Ne.bytes)(r),i!==void 0&&((0,Ne.bytes)(i),!(0,le.isAligned32)(i)))throw new Error("unaligned destination");const o=jn(e),s=(0,le.copyBytes)(t),a=[o,s];(0,le.isAligned32)(r)||a.push(r=(0,le.copyBytes)(r));const l=Wb(o,s,r,i);return(0,le.clean)(...a),l}return(0,Ne.bytes)(e),(0,Ne.bytes)(t,Yt),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),He.ecb=(0,le.wrapCipher)({blockSize:16},function(e,t={}){(0,Ne.bytes)(e);const n=!t.disablePadding;return{encrypt(r,i){const{b:o,o:s,out:a}=ry(r,n,i),l=jn(e);let c=0;for(;c+4<=o.length;){const{s0:u,s1:d,s2:f,s3:m}=jt(l,o[c+0],o[c+1],o[c+2],o[c+3]);s[c++]=u,s[c++]=d,s[c++]=f,s[c++]=m}if(n){const u=oy(r.subarray(4*c)),{s0:d,s1:f,s2:m,s3:g}=jt(l,u[0],u[1],u[2],u[3]);s[c++]=d,s[c++]=f,s[c++]=m,s[c++]=g}return(0,le.clean)(l),a},decrypt(r,i){ny(r);const o=_a(e),s=Vo(r.length,i),a=[o];(0,le.isAligned32)(r)||a.push(r=(0,le.copyBytes)(r));const l=(0,le.u32)(r),c=(0,le.u32)(s);for(let u=0;u+4<=l.length;){const{s0:d,s1:f,s2:m,s3:g}=Na(o,l[u+0],l[u+1],l[u+2],l[u+3]);c[u++]=d,c[u++]=f,c[u++]=m,c[u++]=g}return(0,le.clean)(...a),iy(s,n)}}}),He.cbc=(0,le.wrapCipher)({blockSize:16,nonceLength:16},function(e,t,n={}){(0,Ne.bytes)(e),(0,Ne.bytes)(t,16);const r=!n.disablePadding;return{encrypt(i,o){const s=jn(e),{b:a,o:l,out:c}=ry(i,r,o);let u=t;const d=[s];(0,le.isAligned32)(u)||d.push(u=(0,le.copyBytes)(u));const f=(0,le.u32)(u);let m=f[0],g=f[1],y=f[2],x=f[3],p=0;for(;p+4<=a.length;)m^=a[p+0],g^=a[p+1],y^=a[p+2],x^=a[p+3],{s0:m,s1:g,s2:y,s3:x}=jt(s,m,g,y,x),l[p++]=m,l[p++]=g,l[p++]=y,l[p++]=x;if(r){const w=oy(i.subarray(4*p));m^=w[0],g^=w[1],y^=w[2],x^=w[3],{s0:m,s1:g,s2:y,s3:x}=jt(s,m,g,y,x),l[p++]=m,l[p++]=g,l[p++]=y,l[p++]=x}return(0,le.clean)(...d),c},decrypt(i,o){ny(i);const s=_a(e);let a=t;const l=[s];(0,le.isAligned32)(a)||l.push(a=(0,le.copyBytes)(a));const c=(0,le.u32)(a),u=Vo(i.length,o);(0,le.isAligned32)(i)||l.push(i=(0,le.copyBytes)(i));const d=(0,le.u32)(i),f=(0,le.u32)(u);let m=c[0],g=c[1],y=c[2],x=c[3];for(let p=0;p+4<=d.length;){const w=m,v=g,k=y,P=x;m=d[p+0],g=d[p+1],y=d[p+2],x=d[p+3];const{s0:O,s1:F,s2:B,s3:H}=Na(s,m,g,y,x);f[p++]=O^w,f[p++]=F^v,f[p++]=B^k,f[p++]=H^P}return(0,le.clean)(...l),iy(u,r)}}}),He.cfb=(0,le.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(r,i,o){(0,Ne.bytes)(r);const s=r.length;o=Vo(s,o);const a=jn(e);let l=t;const c=[a];(0,le.isAligned32)(l)||c.push(l=(0,le.copyBytes)(l)),(0,le.isAligned32)(r)||c.push(r=(0,le.copyBytes)(r));const u=(0,le.u32)(r),d=(0,le.u32)(o),f=i?d:u,m=(0,le.u32)(l);let g=m[0],y=m[1],x=m[2],p=m[3];for(let v=0;v+4<=u.length;){const{s0:k,s1:P,s2:O,s3:F}=jt(a,g,y,x,p);d[v+0]=u[v+0]^k,d[v+1]=u[v+1]^P,d[v+2]=u[v+2]^O,d[v+3]=u[v+3]^F,g=f[v++],y=f[v++],x=f[v++],p=f[v++]}const w=Yt*Math.floor(u.length/4);if(w<s){({s0:g,s1:y,s2:x,s3:p}=jt(a,g,y,x,p));const v=(0,le.u8)(new Uint32Array([g,y,x,p]));for(let k=w,P=0;k<s;k++,P++)o[k]=r[k]^v[P];(0,le.clean)(v)}return(0,le.clean)(...c),o}return(0,Ne.bytes)(e),(0,Ne.bytes)(t,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),He.gcm=(0,le.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){if((0,Ne.bytes)(e),(0,Ne.bytes)(t),n!==void 0&&(0,Ne.bytes)(n),t.length<8)throw new Error("aes/gcm: invalid nonce length");function r(o,s,a){const l=qb(Rh.ghash,!1,o,a,n);for(let c=0;c<s.length;c++)l[c]^=s[c];return l}function i(){const o=jn(e),s=Cl.slice(),a=Cl.slice();if(Ro(o,!1,a,a,s),t.length===12)a.set(t);else{const l=Cl.slice(),c=(0,le.createView)(l);(0,le.setBigUint64)(c,8,BigInt(8*t.length),!1);const u=Rh.ghash.create(s).update(t).update(l);u.digestInto(a),u.destroy()}return{xk:o,authKey:s,counter:a,tagMask:Ro(o,!1,a,Cl)}}return{encrypt(o){(0,Ne.bytes)(o);const{xk:s,authKey:a,counter:l,tagMask:c}=i(),u=new Uint8Array(o.length+16),d=[s,a,l,c];(0,le.isAligned32)(o)||d.push(o=(0,le.copyBytes)(o)),Ro(s,!1,l,o,u);const f=r(a,c,u.subarray(0,u.length-16));return d.push(f),u.set(f,o.length),(0,le.clean)(...d),u},decrypt(o){if((0,Ne.bytes)(o),o.length<16)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s,authKey:a,counter:l,tagMask:c}=i(),u=[s,a,c,l];(0,le.isAligned32)(o)||u.push(o=(0,le.copyBytes)(o));const d=o.subarray(0,-16),f=o.subarray(-16),m=r(a,c,d);if(u.push(m),!(0,le.equalBytes)(m,f))throw new Error("aes/gcm: invalid ghash tag");const g=Ro(s,!1,l,d);return(0,le.clean)(...u),g}}});const _l=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};function Gb(e){return e!=null&&typeof e=="object"&&(e instanceof Uint32Array||e.constructor.name==="Uint32Array")}function Yb(e,t){if((0,Ne.bytes)(t,16),!Gb(e))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,le.u32)(t);let{s0:r,s1:i,s2:o,s3:s}=jt(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,t}function Zb(e,t){if((0,Ne.bytes)(t,16),!Gb(e))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,le.u32)(t);let{s0:r,s1:i,s2:o,s3:s}=Na(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,t}He.siv=(0,le.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){const r=_l("AAD",0,68719476736),i=_l("plaintext",0,2**36),o=_l("nonce",12,12),s=_l("ciphertext",16,2**36+16);function a(){const u=jn(e),d=new Uint8Array(e.length),f=new Uint8Array(16),m=[u,d];let g=t;(0,le.isAligned32)(g)||m.push(g=(0,le.copyBytes)(g));const y=(0,le.u32)(g);let x=0,p=y[0],w=y[1],v=y[2],k=0;for(const O of[f,d].map(le.u32)){const F=(0,le.u32)(O);for(let B=0;B<F.length;B+=2){const{s0:H,s1:D}=jt(u,x,p,w,v);F[B+0]=H,F[B+1]=D,x=++k}}const P={authKey:f,encKey:jn(d)};return(0,le.clean)(...m),P}function l(u,d,f){const m=qb(Rh.polyval,!0,d,f,n);for(let v=0;v<12;v++)m[v]^=t[v];m[15]&=127;const g=(0,le.u32)(m);let y=g[0],x=g[1],p=g[2],w=g[3];return{s0:y,s1:x,s2:p,s3:w}=jt(u,y,x,p,w),g[0]=y,g[1]=x,g[2]=p,g[3]=w,m}function c(u,d,f){let m=(0,le.copyBytes)(d);m[15]|=128;const g=Ro(u,!0,m,f);return(0,le.clean)(m),g}return(0,Ne.bytes)(e,16,24,32),(0,Ne.bytes)(t),o(t.length),n!==void 0&&((0,Ne.bytes)(n),r(n.length)),{encrypt(u){(0,Ne.bytes)(u),i(u.length);const{encKey:d,authKey:f}=a(),m=l(d,f,u),g=[d,f,m];(0,le.isAligned32)(u)||g.push(u=(0,le.copyBytes)(u));const y=new Uint8Array(u.length+16);return y.set(m,u.length),y.set(c(d,m,u)),(0,le.clean)(...g),y},decrypt(u){(0,Ne.bytes)(u),s(u.length);const d=u.subarray(-16),{encKey:f,authKey:m}=a(),g=[f,m];(0,le.isAligned32)(u)||g.push(u=(0,le.copyBytes)(u));const y=c(f,d,u.subarray(0,-16)),x=l(f,m,y);if(g.push(x),!(0,le.equalBytes)(d,x))throw(0,le.clean)(...g),new Error("invalid polyval tag");return(0,le.clean)(...g),y}}});const Jc={encrypt(e,t){if(t.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=jn(e);if(t.length===16)Yb(n,t);else{const r=(0,le.u32)(t);let i=r[0],o=r[1];for(let s=0,a=1;s<6;s++)for(let l=2;l<r.length;l+=2,a++){const{s0:c,s1:u,s2:d,s3:f}=jt(n,i,o,r[l],r[l+1]);i=c,o=u^Qc(a),r[l]=d,r[l+1]=f}r[0]=i,r[1]=o}n.fill(0)},decrypt(e,t){if(t.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=_a(e),r=t.length/8-1;if(r===1)Zb(n,t);else{const i=(0,le.u32)(t);let o=i[0],s=i[1];for(let a=0,l=6*r;a<6;a++)for(let c=2*r;c>=1;c-=2,l--){s^=Qc(l);const{s0:u,s1:d,s2:f,s3:m}=Na(n,o,s,i[c],i[c+1]);o=u,s=d,i[c]=f,i[c+1]=m}i[0]=o,i[1]=s}n.fill(0)}},sy=new Uint8Array(8).fill(166);He.aeskw=(0,le.wrapCipher)({blockSize:8},e=>({encrypt(t){if((0,Ne.bytes)(t),!t.length||t.length%8!=0)throw new Error("invalid plaintext length");if(t.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,le.concatBytes)(sy,t);return Jc.encrypt(e,n),n},decrypt(t){if((0,Ne.bytes)(t),t.length%8!=0||t.length<24)throw new Error("invalid ciphertext length");const n=(0,le.copyBytes)(t);if(Jc.decrypt(e,n),!(0,le.equalBytes)(n.subarray(0,8),sy))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const ay=2790873510;He.aeskwp=(0,le.wrapCipher)({blockSize:8},e=>({encrypt(t){if((0,Ne.bytes)(t),!t.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(t.length/8),r=new Uint8Array(8+n);r.set(t,8);const i=(0,le.u32)(r);return i[0]=ay,i[1]=Qc(t.length),Jc.encrypt(e,r),r},decrypt(t){if((0,Ne.bytes)(t),t.length<16)throw new Error("invalid ciphertext length");const n=(0,le.copyBytes)(t),r=(0,le.u32)(n);Jc.decrypt(e,n);const i=Qc(r[1])>>>0,o=8*Math.ceil(i/8);if(r[0]!==ay||n.length-8!==o)throw new Error("integrity check failed");for(let s=i;s<o;s++)if(n[8+s]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),He.unsafe={expandKeyLE:jn,expandKeyDecLE:_a,encrypt:jt,decrypt:Na,encryptBlock:Yb,decryptBlock:Zb,ctrCounter:Wb,ctr32:Ro},Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.aes256cbc=Ho.aes256gcm=void 0;var ly=He;Ho.aes256gcm=function(e,t,n){return(0,ly.gcm)(e,t,n)},Ho.aes256cbc=function(e,t,n){return(0,ly.cbc)(e,t)};var Xc={},Qb={},jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo.sigma=void 0,jo.rotl=function(e,t){return e<<t|e>>>32-t},jo.createCipher=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=(0,hn.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return(0,or.number)(i),(0,or.number)(s),(0,or.bool)(o),(0,or.bool)(n),(a,l,c,u,d=0)=>{(0,or.bytes)(a),(0,or.bytes)(l),(0,or.bytes)(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),(0,or.bytes)(u),(0,or.number)(d),d<0||d>=cy)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const m=[];let g,y,x=a.length;if(x===32)m.push(g=(0,hn.copyBytes)(a)),y=Xb;else{if(x!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${x}`);g=new Uint8Array(32),g.set(a),g.set(a,16),y=NC,m.push(g)}qd(l)||m.push(l=(0,hn.copyBytes)(l));const p=(0,hn.u32)(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,p,(0,hn.u32)(l.subarray(0,16)),p),l=l.subarray(16)}const w=16-i;if(w!==l.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const k=new Uint8Array(12);k.set(l,o?0:12-l.length),l=k,m.push(l)}const v=(0,hn.u32)(l);return function(k,P,O,F,B,H,D,K){const z=B.length,E=new Uint8Array(Nl),b=(0,hn.u32)(E),S=qd(B)&&qd(H),M=S?(0,hn.u32)(B):uy,T=S?(0,hn.u32)(H):uy;for(let _=0;_<z;D++){if(k(P,O,F,b,D,K),D>=cy)throw new Error("arx: counter overflow");const A=Math.min(Nl,z-_);if(S&&A===Nl){const I=_/4;if(_%4!=0)throw new Error("arx: invalid block position");for(let j,C=0;C<AC;C++)j=I+C,T[j]=M[j]^b[C];_+=Nl}else{for(let I,j=0;j<A;j++)I=_+j,H[I]=B[I]^E[j];_+=A}}}(e,y,p,v,c,u,d,s),(0,hn.clean)(...m),u}};const or=Ct,hn=cn,Jb=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),CC=Jb("expand 16-byte k"),_C=Jb("expand 32-byte k"),NC=(0,hn.u32)(CC),Xb=(0,hn.u32)(_C);function qd(e){return e.byteOffset%4==0}jo.sigma=Xb.slice();const Nl=64,AC=16,cy=2**32-1,uy=new Uint32Array;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.poly1305=void 0,Ys.wrapConstructorWithKey=ex;const Al=Ct,Os=cn,ct=(e,t)=>255&e[t++]|(255&e[t++])<<8;class MC{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=(0,Os.toBytes)(t),(0,Al.bytes)(t,32);const n=ct(t,0),r=ct(t,2),i=ct(t,4),o=ct(t,6),s=ct(t,8),a=ct(t,10),l=ct(t,12),c=ct(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|a<<2),this.r[7]=8065&(a>>>11|l<<5),this.r[8]=8191&(l>>>8|c<<8),this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ct(t,16+2*u)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],u=s[3],d=s[4],f=s[5],m=s[6],g=s[7],y=s[8],x=s[9],p=ct(t,n+0),w=ct(t,n+2),v=ct(t,n+4),k=ct(t,n+6),P=ct(t,n+8),O=ct(t,n+10),F=ct(t,n+12),B=ct(t,n+14);let H=o[0]+(8191&p),D=o[1]+(8191&(p>>>13|w<<3)),K=o[2]+(8191&(w>>>10|v<<6)),z=o[3]+(8191&(v>>>7|k<<9)),E=o[4]+(8191&(k>>>4|P<<12)),b=o[5]+(P>>>1&8191),S=o[6]+(8191&(P>>>14|O<<2)),M=o[7]+(8191&(O>>>11|F<<5)),T=o[8]+(8191&(F>>>8|B<<8)),_=o[9]+(B>>>5|i),A=0,I=A+H*a+D*(5*x)+K*(5*y)+z*(5*g)+E*(5*m);A=I>>>13,I&=8191,I+=b*(5*f)+S*(5*d)+M*(5*u)+T*(5*c)+_*(5*l),A+=I>>>13,I&=8191;let j=A+H*l+D*a+K*(5*x)+z*(5*y)+E*(5*g);A=j>>>13,j&=8191,j+=b*(5*m)+S*(5*f)+M*(5*d)+T*(5*u)+_*(5*c),A+=j>>>13,j&=8191;let C=A+H*c+D*l+K*a+z*(5*x)+E*(5*y);A=C>>>13,C&=8191,C+=b*(5*g)+S*(5*m)+M*(5*f)+T*(5*d)+_*(5*u),A+=C>>>13,C&=8191;let N=A+H*u+D*c+K*l+z*a+E*(5*x);A=N>>>13,N&=8191,N+=b*(5*y)+S*(5*g)+M*(5*m)+T*(5*f)+_*(5*d),A+=N>>>13,N&=8191;let L=A+H*d+D*u+K*c+z*l+E*a;A=L>>>13,L&=8191,L+=b*(5*x)+S*(5*y)+M*(5*g)+T*(5*m)+_*(5*f),A+=L>>>13,L&=8191;let R=A+H*f+D*d+K*u+z*c+E*l;A=R>>>13,R&=8191,R+=b*a+S*(5*x)+M*(5*y)+T*(5*g)+_*(5*m),A+=R>>>13,R&=8191;let $=A+H*m+D*f+K*d+z*u+E*c;A=$>>>13,$&=8191,$+=b*l+S*a+M*(5*x)+T*(5*y)+_*(5*g),A+=$>>>13,$&=8191;let V=A+H*g+D*m+K*f+z*d+E*u;A=V>>>13,V&=8191,V+=b*c+S*l+M*a+T*(5*x)+_*(5*y),A+=V>>>13,V&=8191;let U=A+H*y+D*g+K*m+z*f+E*d;A=U>>>13,U&=8191,U+=b*u+S*c+M*l+T*a+_*(5*x),A+=U>>>13,U&=8191;let q=A+H*x+D*y+K*g+z*m+E*f;A=q>>>13,q&=8191,q+=b*d+S*u+M*c+T*l+_*a,A+=q>>>13,q&=8191,A=(A<<2)+A|0,A=A+I|0,I=8191&A,A>>>=13,j+=A,o[0]=I,o[1]=j,o[2]=C,o[3]=N,o[4]=L,o[5]=R,o[6]=$,o[7]=V,o[8]=U,o[9]=q}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=5*i,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(1^i)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let s=t[0]+n[0];t[0]=65535&s;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=65535&s;(0,Os.clean)(r)}update(t){(0,Al.exists)(this);const{buffer:n,blockLen:r}=this,i=(t=(0,Os.toBytes)(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-o;o+=r)this.process(t,o)}return this}destroy(){(0,Os.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(t){(0,Al.exists)(this),(0,Al.output)(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function ex(e){const t=(r,i)=>e(i).update((0,Os.toBytes)(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}Ys.poly1305=ex(e=>new MC(e)),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.xchacha20poly1305=e.chacha20poly1305=e._poly1305_aead=e.chacha12=e.chacha8=e.xchacha20=e.chacha20=e.chacha20orig=void 0,e.hchacha=s;const t=jo,n=Ct,r=Ys,i=cn;function o(d,f,m,g,y,x=20){let p=d[0],w=d[1],v=d[2],k=d[3],P=f[0],O=f[1],F=f[2],B=f[3],H=f[4],D=f[5],K=f[6],z=f[7],E=y,b=m[0],S=m[1],M=m[2],T=p,_=w,A=v,I=k,j=P,C=O,N=F,L=B,R=H,$=D,V=K,U=z,q=E,Y=b,J=S,G=M;for(let fe=0;fe<x;fe+=2)T=T+j|0,q=(0,t.rotl)(q^T,16),R=R+q|0,j=(0,t.rotl)(j^R,12),T=T+j|0,q=(0,t.rotl)(q^T,8),R=R+q|0,j=(0,t.rotl)(j^R,7),_=_+C|0,Y=(0,t.rotl)(Y^_,16),$=$+Y|0,C=(0,t.rotl)(C^$,12),_=_+C|0,Y=(0,t.rotl)(Y^_,8),$=$+Y|0,C=(0,t.rotl)(C^$,7),A=A+N|0,J=(0,t.rotl)(J^A,16),V=V+J|0,N=(0,t.rotl)(N^V,12),A=A+N|0,J=(0,t.rotl)(J^A,8),V=V+J|0,N=(0,t.rotl)(N^V,7),I=I+L|0,G=(0,t.rotl)(G^I,16),U=U+G|0,L=(0,t.rotl)(L^U,12),I=I+L|0,G=(0,t.rotl)(G^I,8),U=U+G|0,L=(0,t.rotl)(L^U,7),T=T+C|0,G=(0,t.rotl)(G^T,16),V=V+G|0,C=(0,t.rotl)(C^V,12),T=T+C|0,G=(0,t.rotl)(G^T,8),V=V+G|0,C=(0,t.rotl)(C^V,7),_=_+N|0,q=(0,t.rotl)(q^_,16),U=U+q|0,N=(0,t.rotl)(N^U,12),_=_+N|0,q=(0,t.rotl)(q^_,8),U=U+q|0,N=(0,t.rotl)(N^U,7),A=A+L|0,Y=(0,t.rotl)(Y^A,16),R=R+Y|0,L=(0,t.rotl)(L^R,12),A=A+L|0,Y=(0,t.rotl)(Y^A,8),R=R+Y|0,L=(0,t.rotl)(L^R,7),I=I+j|0,J=(0,t.rotl)(J^I,16),$=$+J|0,j=(0,t.rotl)(j^$,12),I=I+j|0,J=(0,t.rotl)(J^I,8),$=$+J|0,j=(0,t.rotl)(j^$,7);let ce=0;g[ce++]=p+T|0,g[ce++]=w+_|0,g[ce++]=v+A|0,g[ce++]=k+I|0,g[ce++]=P+j|0,g[ce++]=O+C|0,g[ce++]=F+N|0,g[ce++]=B+L|0,g[ce++]=H+R|0,g[ce++]=D+$|0,g[ce++]=K+V|0,g[ce++]=z+U|0,g[ce++]=E+q|0,g[ce++]=b+Y|0,g[ce++]=S+J|0,g[ce++]=M+G|0}function s(d,f,m,g){let y=d[0],x=d[1],p=d[2],w=d[3],v=f[0],k=f[1],P=f[2],O=f[3],F=f[4],B=f[5],H=f[6],D=f[7],K=m[0],z=m[1],E=m[2],b=m[3];for(let M=0;M<20;M+=2)y=y+v|0,K=(0,t.rotl)(K^y,16),F=F+K|0,v=(0,t.rotl)(v^F,12),y=y+v|0,K=(0,t.rotl)(K^y,8),F=F+K|0,v=(0,t.rotl)(v^F,7),x=x+k|0,z=(0,t.rotl)(z^x,16),B=B+z|0,k=(0,t.rotl)(k^B,12),x=x+k|0,z=(0,t.rotl)(z^x,8),B=B+z|0,k=(0,t.rotl)(k^B,7),p=p+P|0,E=(0,t.rotl)(E^p,16),H=H+E|0,P=(0,t.rotl)(P^H,12),p=p+P|0,E=(0,t.rotl)(E^p,8),H=H+E|0,P=(0,t.rotl)(P^H,7),w=w+O|0,b=(0,t.rotl)(b^w,16),D=D+b|0,O=(0,t.rotl)(O^D,12),w=w+O|0,b=(0,t.rotl)(b^w,8),D=D+b|0,O=(0,t.rotl)(O^D,7),y=y+k|0,b=(0,t.rotl)(b^y,16),H=H+b|0,k=(0,t.rotl)(k^H,12),y=y+k|0,b=(0,t.rotl)(b^y,8),H=H+b|0,k=(0,t.rotl)(k^H,7),x=x+P|0,K=(0,t.rotl)(K^x,16),D=D+K|0,P=(0,t.rotl)(P^D,12),x=x+P|0,K=(0,t.rotl)(K^x,8),D=D+K|0,P=(0,t.rotl)(P^D,7),p=p+O|0,z=(0,t.rotl)(z^p,16),F=F+z|0,O=(0,t.rotl)(O^F,12),p=p+O|0,z=(0,t.rotl)(z^p,8),F=F+z|0,O=(0,t.rotl)(O^F,7),w=w+v|0,E=(0,t.rotl)(E^w,16),B=B+E|0,v=(0,t.rotl)(v^B,12),w=w+v|0,E=(0,t.rotl)(E^w,8),B=B+E|0,v=(0,t.rotl)(v^B,7);let S=0;g[S++]=y,g[S++]=x,g[S++]=p,g[S++]=w,g[S++]=K,g[S++]=z,g[S++]=E,g[S++]=b}e.chacha20orig=(0,t.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),e.chacha20=(0,t.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),e.xchacha20=(0,t.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:s,allowShortKeys:!1}),e.chacha8=(0,t.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),e.chacha12=(0,t.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const a=new Uint8Array(16),l=(d,f)=>{d.update(f);const m=f.length%16;m&&d.update(a.subarray(m))},c=new Uint8Array(32);function u(d,f,m,g,y){const x=d(f,m,c),p=r.poly1305.create(x);y&&l(p,y),l(p,g);const w=new Uint8Array(16),v=(0,i.createView)(w);(0,i.setBigUint64)(v,0,BigInt(y?y.length:0),!0),(0,i.setBigUint64)(v,8,BigInt(g.length),!0),p.update(w);const k=p.digest();return(0,i.clean)(x,w),k}e._poly1305_aead=d=>(f,m,g)=>((0,n.bytes)(f,32),(0,n.bytes)(m),{encrypt(y,x){const p=y.length,w=p+16;x?(0,n.bytes)(x,w):x=new Uint8Array(w),d(f,m,y,x,1);const v=u(d,f,m,x.subarray(0,-16),g);return x.set(v,p),(0,i.clean)(v),x},decrypt(y,x){const p=y.length,w=p-16;if(p<16)throw new Error("encrypted data must be at least 16 bytes");x?(0,n.bytes)(x,w):x=new Uint8Array(w);const v=y.subarray(0,-16),k=y.subarray(-16),P=u(d,f,m,v,g);if(!(0,i.equalBytes)(k,P))throw new Error("invalid tag");return d(f,m,v,x,1),(0,i.clean)(P),x}}),e.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,e._poly1305_aead)(e.chacha20)),e.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,e._poly1305_aead)(e.xchacha20))}(Qb),Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.xchacha20=void 0;var lo,dy,_s,TC=Qb;Xc.xchacha20=function(e,t,n){return(0,TC.xchacha20poly1305)(e,t,n)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.aesDecrypt=e.aesEncrypt=e.symDecrypt=e.symEncrypt=void 0;var t=cn,n=l0,r=Ho,i=Xc,o=ka,s=it;function a(u,d,f,m){var g=(0,o.symmetricAlgorithm)();if(g==="aes-256-gcm")return u(r.aes256gcm,d,f,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,m);if(g==="xchacha20")return u(i.xchacha20,d,f,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,m);if(g==="aes-256-cbc")return u(r.aes256cbc,d,f,16,0);throw new Error("Not implemented")}function l(u,d,f,m,g,y){var x=(0,n.randomBytes)(m),p=u(d,x,y).encrypt(f);if(g===0)return(0,t.concatBytes)(x,p);var w=p.length-g,v=p.subarray(0,w),k=p.subarray(w);return(0,t.concatBytes)(x,k,v)}function c(u,d,f,m,g,y){var x=f.subarray(0,m),p=u(d,Uint8Array.from(x),y),w=f.subarray(m);if(g===0)return p.decrypt(w);var v=w.subarray(0,g),k=w.subarray(g);return p.decrypt((0,t.concatBytes)(k,v))}e.symEncrypt=function(u,d,f){return a(l,u,d,f)},e.symDecrypt=function(u,d,f){return a(c,u,d,f)},e.aesEncrypt=e.symEncrypt,e.aesDecrypt=e.symDecrypt}(ey),lo=Bu,dy=xn&&xn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),_s=xn&&xn.__exportStar||function(e,t){for(var n in e)n==="default"||Object.prototype.hasOwnProperty.call(t,n)||dy(t,e,n)},Object.defineProperty(lo,"__esModule",{value:!0}),_s(rb,lo),_s(Db,lo),_s(Ph,lo),_s(ey,lo);var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.PublicKey=void 0;var fy=cn,Ml=Bu,PC=function(){function e(t){this.data=(0,Ml.convertPublicKeyFormat)(t,!0)}return e.fromHex=function(t){return new e((0,Ml.hexToPublicKey)(t))},Object.defineProperty(e.prototype,"uncompressed",{get:function(){return oe.from((0,Ml.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"compressed",{get:function(){return oe.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(t){return t===void 0&&(t=!0),(0,fy.bytesToHex)(t?this.data:this.uncompressed)},e.prototype.decapsulate=function(t,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=t.multiply(this,n);return(0,Ml.getSharedKey)(r,i)},e.prototype.equals=function(t){return(0,fy.equalBytes)(this.data,t.data)},e}();Aa.PublicKey=PC,Object.defineProperty(qc,"__esModule",{value:!0}),qc.PrivateKey=void 0;var hy=cn,co=Bu,LC=Aa,RC=function(){function e(t){if(t===void 0)this.data=(0,co.getValidSecret)();else{if(!(0,co.isValidPrivateKey)(t))throw new Error("Invalid private key");this.data=t}this.publicKey=new LC.PublicKey((0,co.getPublicKey)(this.data))}return e.fromHex=function(t){return new e((0,co.decodeHex)(t))},Object.defineProperty(e.prototype,"secret",{get:function(){return oe.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(){return(0,hy.bytesToHex)(this.data)},e.prototype.encapsulate=function(t,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(t,n);return(0,co.getSharedKey)(r,i)},e.prototype.multiply=function(t,n){return n===void 0&&(n=!1),(0,co.getSharedPoint)(this.data,t.compressed,n)},e.prototype.equals=function(t){return(0,hy.equalBytes)(this.data,t.data)},e}();qc.PrivateKey=RC,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.PrivateKey=void 0;var t=qc;Object.defineProperty(e,"PrivateKey",{enumerable:!0,get:function(){return t.PrivateKey}});var n=Aa;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(Ld),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.PublicKey=e.PrivateKey=e.ECIES_CONFIG=void 0,e.encrypt=function(a,l){var c=new r.PrivateKey,u=a instanceof Uint8Array?new r.PublicKey(a):r.PublicKey.fromHex(a),d=c.encapsulate(u,(0,n.isHkdfKeyCompressed)()),f=(0,n.isEphemeralKeyCompressed)()?c.publicKey.compressed:c.publicKey.uncompressed,m=(0,i.symEncrypt)(d,l);return oe.from((0,t.concatBytes)(f,m))},e.decrypt=function(a,l){var c=a instanceof Uint8Array?new r.PrivateKey(a):r.PrivateKey.fromHex(a),u=(0,n.ephemeralKeySize)(),d=new r.PublicKey(l.subarray(0,u)),f=l.subarray(u),m=d.decapsulate(c,(0,n.isHkdfKeyCompressed)());return oe.from((0,i.symDecrypt)(m,f))};var t=cn,n=ka,r=Ld,i=Bu,o=ka;Object.defineProperty(e,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=Ld;Object.defineProperty(e,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return s.PublicKey}}),e.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(go);const tx=It("KeyExchange:Layer"),nx=It("SocketService:Layer"),rx=It("Ecies:Layer"),ix=It("RemoteCommunication:Layer");tx.color="##95c44e",nx.color="#f638d7",rx.color="#465b9c",ix.color="#47a2be";const Z={KeyExchange:tx,SocketService:nx,Ecies:rx,RemoteCommunication:ix};let Ns,Tl=[],Gd=[];const _r=(e,t)=>ne(void 0,void 0,void 0,function*(){Ns=t,Gd.push(e),function(n){return ne(this,void 0,void 0,function*(){if(!Ns||!n)return;(function(){const s=Gd;Gd=Tl,Tl=s})();const r=Ns.endsWith("/")?`${Ns}evt`:`${Ns}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[s,a]of Object.entries(n.params))i[s]=a;const o=JSON.stringify(i);Z.RemoteCommunication(`[sendBufferedEvents] Sending ${Tl.length} analytics events to ${r}`);try{const s=yield x2(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),a=yield s.text();Z.RemoteCommunication(`[sendBufferedEvents] Response: ${a}`),Tl.length=0}catch{}})}(e).catch(()=>{})});class Yd{constructor(t){this.enabled=!0,t!=null&&t.debug&&It.enable("Ecies:Layer"),this.ecies=t!=null&&t.privateKey?go.PrivateKey.fromHex(t.privateKey):new go.PrivateKey,Z.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),Z.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),Z.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new go.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(t,n){let r=t;if(this.enabled)try{Z.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=oe.from(t),o=go.encrypt(n,i);r=oe.from(o).toString("base64")}catch(i){throw Z.Ecies("[ECIES: encrypt()] error encrypt:",i),Z.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),Z.Ecies("[ECIES: encrypt()] data: ",t),Z.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(t){let n=t;if(this.enabled)try{Z.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=oe.from(t.toString(),"base64");n=go.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw Z.Ecies("[ECIES: decrypt()] error decrypt",r),Z.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),Z.Ecies("[ECIES: decrypt()] encryptedData: ",t),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Z.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var vi={version:"0.33.1"};const Yi="https://metamask-sdk.api.cx.metamask.io/",jC=["websocket"],rs=6048e5,IC=3e3,Et={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},OC=[Et.METAMASK_CONNECTSIGN,Et.METAMASK_CONNECTWITH,Et.METAMASK_OPEN,Et.METAMASK_BATCH,Et.PERSONAL_SIGN,Et.WALLET_REQUESTPERMISSIONS,Et.WALLET_REVOKEPERMISSIONS,Et.WALLET_WATCHASSET,Et.ETH_SENDTRANSACTION,Et.ETH_SIGNTYPEDDATA,Et.ETH_SIGNTYPEDDATA_V3,Et.ETH_SIGNTYPEDDATA_V4,Et.ETH_SIGNTRANSACTION,Et.ETH_SIGN,Et.PERSONAL_EC_RECOVER];function qa(e){return OC.includes(e)}function ox(e){const{context:t}=e;Z.RemoteCommunication(`[RemoteCommunication: clean()] context=${t}`),e.channelConfig=void 0,e.ready=!1,e.originatorConnectStarted=!1}var Xe,ae,eu,Le,Fe,Ze,uo;(uo=Xe||(Xe={})).DISCONNECTED="disconnected",uo.WAITING="waiting",uo.TIMEOUT="timeout",uo.LINKED="linked",uo.PAUSED="paused",uo.TERMINATED="terminated",function(e){e.KEY_INFO="key_info",e.SERVICE_STATUS="service_status",e.PROVIDER_UPDATE="provider_update",e.RPC_UPDATE="rpc_update",e.KEYS_EXCHANGED="keys_exchanged",e.JOIN_CHANNEL="join_channel",e.PUBLIC_KEY="public_key",e.CHANNEL_CREATED="channel_created",e.CLIENTS_CONNECTED="clients_connected",e.CLIENTS_DISCONNECTED="clients_disconnected",e.CLIENTS_WAITING="clients_waiting",e.CLIENTS_READY="clients_ready",e.REJECTED="rejected",e.WALLET_INIT="wallet_init",e.CHANNEL_PERSISTENCE="channel_persistence",e.CONFIG="config",e.MESSAGE_ACK="ack",e.SOCKET_DISCONNECTED="socket_disconnected",e.SOCKET_RECONNECT="socket_reconnect",e.OTP="otp",e.SDK_RPC_CALL="sdk_rpc_call",e.AUTHORIZED="authorized",e.CONNECTION_STATUS="connection_status",e.MESSAGE="message",e.TERMINATE="terminate"}(ae||(ae={})),(eu||(eu={})).KEY_EXCHANGE="key_exchange",function(e){e.KEY_HANDSHAKE_START="key_handshake_start",e.KEY_HANDSHAKE_CHECK="key_handshake_check",e.KEY_HANDSHAKE_SYN="key_handshake_SYN",e.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",e.KEY_HANDSHAKE_ACK="key_handshake_ACK",e.KEY_HANDSHAKE_WALLET="key_handshake_wallet",e.KEY_HANDSHAKE_NONE="none"}(Le||(Le={}));class $C extends Ha.exports.EventEmitter2{constructor({communicationLayer:t,otherPublicKey:n,context:r,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=Le.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=t,i!=null&&i.privateKey&&n&&(Z.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new Yd(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(eu.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(t){const{relayPersistence:n}=this.communicationLayer.remote.state;if(Z.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,t),n)return void Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=t;this.keysExchanged&&Z.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(ae.KEY_INFO,r.type),r.type===Le.KEY_HANDSHAKE_SYN?(this.checkStep([Le.KEY_HANDSHAKE_NONE,Le.KEY_HANDSHAKE_ACK]),Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Le.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(Le.KEY_HANDSHAKE_ACK)):r.type===Le.KEY_HANDSHAKE_SYNACK?(this.checkStep([Le.KEY_HANDSHAKE_SYNACK,Le.KEY_HANDSHAKE_ACK,Le.KEY_HANDSHAKE_NONE]),Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Le.KEY_HANDSHAKE_ACK}).catch(i=>{Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(Le.KEY_HANDSHAKE_ACK),this.emit(ae.KEYS_EXCHANGED)):r.type===Le.KEY_HANDSHAKE_ACK&&(Z.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Le.KEY_HANDSHAKE_ACK,Le.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Le.KEY_HANDSHAKE_ACK),this.emit(ae.KEYS_EXCHANGED))}resetKeys(t){this.clean(),this.myECIES=new Yd(t)}clean(){Z.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Le.KEY_HANDSHAKE_NONE),this.emit(ae.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:t,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;r?Z.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(Z.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${t} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),t?!(this.keysExchanged||this.step!==Le.KEY_HANDSHAKE_NONE&&this.step!==Le.KEY_HANDSHAKE_SYNACK)||n?(Z.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Le.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Le.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(s=>{Z.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",s)})):Z.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?Z.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:Le.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(s=>{Z.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",s)}):(this.communicationLayer.sendMessage({type:Le.KEY_HANDSHAKE_START}).catch(s=>{Z.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",s)}),this.clean()))}setStep(t){this.step=t,this.emit(ae.KEY_INFO,t)}checkStep(t){t.length>0&&t.indexOf(this.step.toString())}setRelayPersistence({localKey:t,otherKey:n}){this.otherPublicKey=n,this.myECIES=new Yd({privateKey:t,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(t){this.keysExchanged=t}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(t){Z.KeyExchange("[KeyExchange: setOtherPubKey()]",t),this.otherPublicKey=t}encryptMessage(t){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(t,this.otherPublicKey)}decryptMessage(t){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(t)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const t={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(t)}}(function(e){e.TERMINATE="terminate",e.ANSWER="answer",e.OFFER="offer",e.CANDIDATE="candidate",e.JSONRPC="jsonrpc",e.WALLET_INFO="wallet_info",e.WALLET_INIT="wallet_init",e.ORIGINATOR_INFO="originator_info",e.PAUSE="pause",e.OTP="otp",e.AUTHORIZED="authorized",e.PING="ping",e.READY="ready"})(Fe||(Fe={})),function(e){e.REQUEST="sdk_connect_request_started",e.REQUEST_MOBILE="sdk_connect_request_started_mobile",e.RECONNECT="sdk_reconnect_request_started",e.CONNECTED="sdk_connection_established",e.CONNECTED_MOBILE="sdk_connection_established_mobile",e.AUTHORIZED="sdk_connection_authorized",e.REJECTED="sdk_connection_rejected",e.TERMINATED="sdk_connection_terminated",e.DISCONNECTED="sdk_disconnected",e.SDK_USE_EXTENSION="sdk_use_extension",e.SDK_RPC_REQUEST="sdk_rpc_request",e.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",e.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",e.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",e.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(Ze||(Ze={}));const ic=(e,t,n)=>ne(void 0,void 0,void 0,function*(){var r,i,o,s,a,l;const{remote:c,state:u}=e,{channelId:d,isOriginator:f}=u;if(t==="error_terminated")return Z.SocketService(`handleJoinChannelResults: Channel ${d} terminated`),void e.emit(ae.TERMINATE);if(!n)return void Z.SocketService(`handleJoinChannelResults: No result for channel ${d}`);const{persistence:m,walletKey:g,rejected:y}=n;if(Z.SocketService(`handleJoinChannelResults: Channel ${d} persistence=${m} walletKey=${g} rejected=${y}`),y)return Z.SocketService(`handleJoinChannelResults: Channel ${d} rejected`),yield e.remote.disconnect({terminate:!0}),e.remote.emit(ae.REJECTED,{channelId:d}),void e.remote.emitServiceStatusEvent();if(g&&!(!((r=c.state.channelConfig)===null||r===void 0)&&r.otherKey)){e.getKeyExchange().setOtherPublicKey(g),(i=e.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(ae.AUTHORIZED);const{communicationLayer:x,storageManager:p}=c.state,w=Object.assign(Object.assign({},c.state.channelConfig),{channelId:(o=c.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+rs,localKey:x==null?void 0:x.getKeyInfo().ecies.private,otherKey:g});e.sendMessage({type:Le.KEY_HANDSHAKE_ACK}).catch(v=>{}),(s=e.state.socket)===null||s===void 0||s.emit(Fe.PING,{id:d,clientType:f?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield p==null?void 0:p.persistChannelConfig(w),c.emitServiceStatusEvent(),c.setConnectionStatus(Xe.LINKED)}m&&(e.emit(ae.CHANNEL_PERSISTENCE),(a=e.state.keyExchange)===null||a===void 0||a.setKeysExchanged(!0),c.state.ready=!0,c.state.authorized=!0,c.emit(ae.AUTHORIZED),_r(Object.assign(Object.assign({id:d??"",event:f?Ze.CONNECTED:Ze.CONNECTED_MOBILE},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:vi.version,walletVersion:(l=e.remote.state.walletInfo)===null||l===void 0?void 0:l.version}),u.communicationServerUrl).catch(x=>{}))}),Wo=e=>new Promise(t=>{setTimeout(t,e)}),py=(e,t,...n)=>ne(void 0,[e,t,...n],void 0,function*(r,i,o=200){let s;const a=Date.now();let l=!1;for(;!l;){if(l=Date.now()-a>3e5,s=i[r],s.elapsedTime!==void 0)return s;yield Wo(o)}throw new Error(`RPC ${r} timed out`)}),Ih=e=>ne(void 0,void 0,void 0,function*(){const{state:t}=e,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=t;if(s)return Z.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",e),!1;if(!n)return Z.SocketService("[SocketService: reconnectSocket()] socket is not defined",e),!1;if(!r)return!1;const{connected:a}=n;t.isReconnecting=!0,t.reconnectionAttempts=0,Z.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,e);try{for(;3>t.reconnectionAttempts;){if(Z.SocketService(`[SocketService: reconnectSocket()] Attempt ${t.reconnectionAttempts+1} of 3`,e),yield Wo(200),n.connected)return Z.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(Fe.PING,{id:r,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;t.resumed=!0,n.connect(),e.emit(ae.SOCKET_RECONNECT);try{if(yield new Promise((l,c)=>{n.emit(ae.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},(u,d)=>ne(void 0,void 0,void 0,function*(){try{yield ic(e,u,d),l()}catch(f){c(f)}}))}),yield Wo(100),n.connected)return Z.SocketService(`Reconnection successful on attempt ${t.reconnectionAttempts+1}`),!0}catch(l){Z.SocketService(`Error during reconnection attempt ${t.reconnectionAttempts+1}:`,l)}t.reconnectionAttempts+=1,3>t.reconnectionAttempts&&(yield Wo(200))}return Z.SocketService("Failed to reconnect after 3 attempts"),!1}finally{t.isReconnecting=!1,t.reconnectionAttempts=0}});function sx(e,t){return ne(this,void 0,void 0,function*(){var n;const r=(n=e.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(t)),i={id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?"dapp":"wallet",message:r,plaintext:e.state.hasPlaintext?JSON.stringify(t):void 0};return Z.SocketService(`[SocketService: encryptAndSendMessage()] context=${e.state.context}`,i),t.type===Fe.TERMINATE&&(e.state.manualDisconnect=!0),new Promise((o,s)=>{var a;(a=e.state.socket)===null||a===void 0||a.emit(ae.MESSAGE,i,(l,c)=>{var u;l&&(Z.SocketService(`[SocketService: encryptAndSendMessage()] error=${l}`),s(l)),Z.SocketService("[encryptAndSendMessage] response",c),o((u=c==null?void 0:c.success)!==null&&u!==void 0&&u)})})})}var Io;(function(e){e.RPC_CHECK="rpcCheck",e.SKIPPED_RPC="skippedRpc"})(Io||(Io={}));const ax=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(e=>e.toLowerCase()),DC=[{event:ae.CLIENTS_CONNECTED,handler:function(e,t){return n=>ne(this,void 0,void 0,function*(){var r,i,o,s,a,l,c,u,d,f,m;const g=(i=(r=e.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(Z.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected-${t}' relayPersistence=${g} resumed=${e.state.resumed}  clientsPaused=${e.state.clientsPaused} keysExchanged=${(o=e.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${e.state.isOriginator}`),e.emit(ae.CLIENTS_CONNECTED,{isOriginator:e.state.isOriginator,keysExchanged:(s=e.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged(),context:e.state.context}),e.state.resumed)e.state.isOriginator||(Z.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} 'clients_connected' / keysExchanged=${(a=e.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} -- backward compatibility`),(l=e.state.keyExchange)===null||l===void 0||l.start({isOriginator:(c=e.state.isOriginator)!==null&&c!==void 0&&c})),e.state.resumed=!1;else if(e.state.clientsPaused)Z.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!e.state.isOriginator){const y=!g;Z.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${(u=e.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${y} -- backward compatibility`),Z.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${(d=e.state.keyExchange)===null||d===void 0?void 0:d.areKeysExchanged()} -- force=${y} -- backward compatibility`),(f=e.state.keyExchange)===null||f===void 0||f.start({isOriginator:(m=e.state.isOriginator)!==null&&m!==void 0&&m,force:y})}e.state.clientsConnected=!0,e.state.clientsPaused=!1})}},{event:ae.CHANNEL_CREATED,handler:function(e,t){return n=>{Z.SocketService(`[SocketService: handleChannelCreated()] context=${e.state.context} on 'channel_created-${t}'`,n),e.emit(ae.CHANNEL_CREATED,n)}}},{event:ae.CLIENTS_DISCONNECTED,handler:function(e,t){return()=>{var n;e.state.clientsConnected=!1,Z.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}'`),e.remote.state.relayPersistence?Z.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}' - relayPersistence enabled, skipping key exchange cleanup.`):(e.state.isOriginator&&!e.state.clientsPaused&&((n=e.state.keyExchange)===null||n===void 0||n.clean()),e.emit(ae.CLIENTS_DISCONNECTED,t))}}},{event:ae.CONFIG,handler:function(e,t){return n=>ne(this,void 0,void 0,function*(){var r,i,o;Z.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${t}'`,n);const{persistence:s,walletKey:a}=n;e.state.isOriginator&&e.remote.state.channelConfig?(n.walletKey&&!e.remote.state.channelConfig.otherKey&&(Z.SocketService(`Setting wallet key ${a}`),e.remote.state.channelConfig.otherKey=a,e.getKeyExchange().setOtherPublicKey(n.walletKey),(r=e.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield e.remote.sendMessage({type:Le.KEY_HANDSHAKE_ACK}),yield e.remote.sendMessage({type:Fe.PING}),yield(i=e.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(e.remote.state.channelConfig)),s!==!0||e.remote.state.channelConfig.relayPersistence||(Z.SocketService(`Setting relay persistence ${s}`),e.remote.state.channelConfig.relayPersistence=s,e.remote.state.relayPersistence=!0,e.remote.emit(ae.CHANNEL_PERSISTENCE),e.remote.state.authorized=!0,e.remote.state.ready=!0,e.remote.emit(ae.AUTHORIZED),yield(o=e.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(e.remote.state.channelConfig))):e.state.isOriginator||n.persistence&&(e.remote.state.relayPersistence=!0,e.remote.emit(ae.CHANNEL_PERSISTENCE))})}},{event:ae.MESSAGE,handler:function(e,t){return n=>{var r,i,o,s,a,l,c,u,d,f,m,g,y,x,p,w,v,k;const{ackId:P,message:O,error:F}=n,B=(r=e.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(Z.SocketService(`[SocketService handleMessage()]  relayPersistence=${B}  context=${e.state.context} on 'message' ${t} keysExchanged=${(i=e.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),F)throw Z.SocketService(`
      [SocketService handleMessage()] context=${e.state.context}::on 'message' error=${F}`),new Error(F);const H=typeof O=="string";if(!H&&(O==null?void 0:O.type)===Le.KEY_HANDSHAKE_START)return B?void 0:(Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received HANDSHAKE_START isOriginator=${e.state.isOriginator}`,O),void((o=e.state.keyExchange)===null||o===void 0||o.start({isOriginator:(s=e.state.isOriginator)!==null&&s!==void 0&&s,force:!0})));if(!H&&(!((a=O==null?void 0:O.type)===null||a===void 0)&&a.startsWith("key_handshake")))return B?void 0:(Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' emit KEY_EXCHANGE`,O),void e.emit(eu.KEY_EXCHANGE,{message:O,context:e.state.context}));if(H&&!(!((l=e.state.keyExchange)===null||l===void 0)&&l.areKeysExchanged())){let z=!1;try{Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' trying to decrypt message`),(c=e.state.keyExchange)===null||c===void 0||c.decryptMessage(O),z=!0}catch(E){Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' error`,E)}if(!z)return e.state.isOriginator?(d=e.state.keyExchange)===null||d===void 0||d.start({isOriginator:(f=e.state.isOriginator)!==null&&f!==void 0&&f}):e.sendMessage({type:Le.KEY_HANDSHAKE_START}).catch(E=>{}),void Z.SocketService(`Message ignored because invalid key exchange status. step=${(m=e.state.keyExchange)===null||m===void 0?void 0:m.getKeyInfo().step}`,(g=e.state.keyExchange)===null||g===void 0?void 0:g.getKeyInfo(),O);Z.SocketService("Invalid key exchange status detected --- updating it."),(u=e.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!H&&(O!=null&&O.type))return void e.emit(ae.MESSAGE,O);if(!H)return void e.emit(ae.MESSAGE,O);const D=(y=e.state.keyExchange)===null||y===void 0?void 0:y.decryptMessage(O),K=JSON.parse(D??"{}");if(P&&(P==null?void 0:P.length)>0&&(Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' ackid=${P} channelId=${t}`),(x=e.state.socket)===null||x===void 0||x.emit(ae.MESSAGE_ACK,{ackId:P,channelId:t,clientType:e.state.isOriginator?"dapp":"wallet"})),e.state.clientsPaused=(K==null?void 0:K.type)===Fe.PAUSE,e.state.isOriginator&&K.data){const z=K.data,E=e.state.rpcMethodTracker[z.id];if(E){const b=Date.now()-E.timestamp;Z.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received answer for id=${z.id} method=${E.method} responseTime=${b}`,K),e.remote.state.analytics&&ax.includes(E.method.toLowerCase())&&_r(Object.assign(Object.assign({id:(p=e.remote.state.channelId)!==null&&p!==void 0?p:"",event:Ze.SDK_RPC_REQUEST_DONE,sdkVersion:e.remote.state.sdkVersion,commLayerVersion:vi.version},e.remote.state.originatorInfo),{walletVersion:(w=e.remote.state.walletInfo)===null||w===void 0?void 0:w.version,params:{method:E.method,from:"mobile"}}),e.remote.state.communicationServerUrl).catch(M=>{}),qa(E.method)&&qe.track(z.error?z.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:E.method});const S=Object.assign(Object.assign({},E),{result:z.result,error:z.error?{code:(v=z.error)===null||v===void 0?void 0:v.code,message:(k=z.error)===null||k===void 0?void 0:k.message}:void 0,elapsedTime:b});e.state.rpcMethodTracker[z.id]=S,e.emit(ae.RPC_UPDATE,S)}}e.emit(ae.MESSAGE,{message:K})}}},{event:ae.REJECTED,handler:function(e,t){return n=>ne(this,void 0,void 0,function*(){var r;e.state.isOriginator&&!e.remote.state.ready?(Z.SocketService(`[SocketService: handleChannelRejected()] context=${e.state.context} channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`,e.remote.state.originatorInfo),_r(Object.assign(Object.assign({id:t,event:Ze.REJECTED},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:vi.version,walletVersion:(r=e.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),e.remote.state.communicationServerUrl).catch(i=>{}),qe.track("sdk_connection_rejected",{transport_type:"websocket"}),yield e.remote.disconnect({terminate:!0}),e.remote.emit(ae.REJECTED,{channelId:t}),e.remote.setConnectionStatus(Xe.DISCONNECTED)):Z.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(e,t){return n=>{Z.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${e.state.context} on 'clients_waiting_to_join-${t}'`,n),e.emit(ae.CLIENTS_WAITING,n)}}}],BC=[{event:ae.KEY_INFO,handler:function(e){return t=>{Z.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",t),e.emit(ae.KEY_INFO,t)}}},{event:ae.KEYS_EXCHANGED,handler:function(e){return()=>{var t,n,r;Z.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(t=e.state.keyExchange)===null||t===void 0?void 0:t.areKeysExchanged()}`);const{channelConfig:i}=e.remote.state;if(i){const s=e.getKeyExchange().getKeyInfo().ecies;i.localKey=s.private,i.otherKey=s.otherPubKey,e.remote.state.channelConfig=i,(n=e.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(a=>{})}e.emit(ae.KEYS_EXCHANGED,{keysExchanged:(r=e.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:e.state.isOriginator});const o={keyInfo:e.getKeyInfo()};e.emit(ae.SERVICE_STATUS,o)}}}];function my(e,t){Z.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} setting socket listeners for channel ${t}...`);const{socket:n}=e.state,{keyExchange:r}=e.state;n&&e.state.isOriginator&&(e.state.debug&&(n==null||n.io.on("error",i=>{Z.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=error`,i)}),n==null||n.io.on("reconnect",i=>{Z.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect`,i),Ih(e).catch(o=>{})}),n==null||n.io.on("reconnect_error",i=>{Z.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_error`,i)}),n==null||n.io.on("reconnect_failed",()=>{Z.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_failed`)})),n==null||n.on("disconnect",i=>(Z.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(o){return s=>{Z.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,s),o.state.manualDisconnect||(o.emit(ae.SOCKET_DISCONNECTED),Ih(o).catch(a=>{}))}}(e)(i)))),DC.forEach(({event:i,handler:o})=>{n==null||n.on(`${i}-${t}`,o(e,t))}),BC.forEach(({event:i,handler:o})=>{r==null||r.on(i,o(e))}),e.state.setupChannelListeners=!0}class FC extends Ha.exports.EventEmitter2{constructor(t){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=t;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=t;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(a==null?void 0:a.serviceLayer)===!0,this.remote=s,(a==null?void 0:a.serviceLayer)===!0&&It.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==Yi&&(a==null?void 0:a.plaintext)===!0,Z.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var t;const{otherPublicKey:n,ecies:r,logging:i}=this.options,o={autoConnect:!1,transports:jC,withCredentials:!0},s=this.state.communicationServerUrl;Z.SocketService(`[SocketService: initSocket()] Socket IO url: ${s}`),this.state.socket=ec(s,o),function(l){if(typeof window<"u"&&typeof document<"u"&&(Z.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,l),!l.state.focusListenerAdded)){const c=()=>{Z.SocketService("Document has focus --- reconnecting socket"),Ih(l).catch(u=>{})};window.addEventListener("focus",c),l.state.focusListenerAdded=!0,l.state.removeFocusListener=()=>{window.removeEventListener("focus",c),l.state.focusListenerAdded=!1}}}(this);const a={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(t=this.state.context)!==null&&t!==void 0?t:"",ecies:r,logging:i};this.state.keyExchange=new $C(a)}resetKeys(){return Z.SocketService("[SocketService: resetKeys()] Resetting keys."),void((t=this.state.keyExchange)===null||t===void 0||t.resetKeys());var t}createChannel(){return ne(this,void 0,void 0,function*(){return function(t){return ne(this,void 0,void 0,function*(){var n,r,i;if(Z.SocketService(`[SocketService: createChannel()] context=${t.state.context}`),t.state.socket||t.initSocket(),(n=t.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=t.state.socket)===null||r===void 0||r.connect(),t.state.manualDisconnect=!1,t.state.isOriginator=!0;const o=Qr();t.state.channelId=o,my(t,o),yield new Promise((a,l)=>{var c;(c=t.state.socket)===null||c===void 0||c.emit(ae.JOIN_CHANNEL,{channelId:o,context:`${t.state.context}createChannel`,clientType:"dapp"},(u,d)=>ne(this,void 0,void 0,function*(){try{yield ic(t,u,d),a()}catch(f){l(f)}}))});const s=(i=t.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(s==null?void 0:s.ecies.public)||"",privKey:(s==null?void 0:s.ecies.private)||""}})}(this)})}connectToChannel({channelId:t,withKeyExchange:n=!1,authorized:r}){return function(i){return ne(this,arguments,void 0,function*({options:o,instance:s}){const{channelId:a,authorized:l,withKeyExchange:c}=o,{state:u,remote:d}=s,{isOriginator:f=!1,socket:m,keyExchange:g}=u,{channelConfig:y}=d.state;if(m!=null&&m.connected)throw new Error("socket already connected");if(f&&(y!=null&&y.relayPersistence)){const{localKey:x,otherKey:p}=y;x&&p&&(g==null||g.setRelayPersistence({localKey:x,otherKey:p}))}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:c,isOriginator:f,channelId:a}),m==null||m.connect(),my(s,a),!f&&l&&(g==null||g.setKeysExchanged(!0),Object.assign(d.state,{ready:!0,authorized:!0})),new Promise(x=>{var p;const w=(p=g==null?void 0:g.getKeyInfo())===null||p===void 0?void 0:p.ecies.public;m==null||m.emit(ae.JOIN_CHANNEL,{channelId:a,context:`${u.context}_connectToChannel`,clientType:f?"dapp":"wallet",publicKey:l&&!f?w:void 0},(v,k)=>ne(this,void 0,void 0,function*(){yield ic(s,v,k),x()}))})})}({options:{channelId:t,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var t,n;(n=(t=this).state.socket)===null||n===void 0||n.emit(ae.MESSAGE,{id:t.state.channelId,context:t.state.context,message:{type:Le.KEY_HANDSHAKE_CHECK,pubkey:t.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(t){return ne(this,void 0,void 0,function*(){return function(n,r){return ne(this,void 0,void 0,function*(){var i,o,s;if(!n.state.channelId)throw Z.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(Z.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(o=r==null?void 0:r.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return function(l,c){var u;Z.SocketService(`[SocketService: handleKeyHandshake()] context=${l.state.context}`,c),(u=l.state.socket)===null||u===void 0||u.emit(ae.MESSAGE,{id:l.state.channelId,context:l.state.context,clientType:l.state.isOriginator?"dapp":"wallet",message:c})}(n,r),!0;(function(l,c){var u;if(!(!((u=l.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!l.remote.state.relayPersistence)throw Z.SocketService(`[SocketService: validateKeyExchange()] context=${l.state.context} ERROR keys not exchanged`,c),new Error("Keys not exchanged BBB")})(n,r),function(l,c){var u;const d=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"",f=c==null?void 0:c.id;l.state.isOriginator&&f&&(l.state.rpcMethodTracker[f]={id:f,timestamp:Date.now(),method:d},l.emit(ae.RPC_UPDATE,l.state.rpcMethodTracker[f]))}(n,r);const a=yield sx(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&ax.includes(r.method.toLowerCase())&&_r({id:(s=n.remote.state.channelId)!==null&&s!==void 0?s:"",event:Ze.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(l=>{}),n.remote.state.isOriginator&&r.method&&qa(r.method)&&qe.track("sdk_action_requested",{action:r.method}),function(l,c){return ne(this,void 0,void 0,function*(){var u;const d=c==null?void 0:c.id,f=(u=c==null?void 0:c.method)!==null&&u!==void 0?u:"";if(l.state.isOriginator&&d)try{const m=py(d,l.state.rpcMethodTracker,200).then(x=>({type:Io.RPC_CHECK,result:x})),g=ne(this,void 0,void 0,function*(){const x=yield(w=>ne(void 0,[w],void 0,function*({rpcId:v,instance:k}){for(;k.state.lastRpcId===v||k.state.lastRpcId===void 0;)yield Wo(200);return k.state.lastRpcId}))({instance:l,rpcId:d}),p=yield py(x,l.state.rpcMethodTracker,200);return{type:Io.SKIPPED_RPC,result:p}}),y=yield Promise.race([m,g]);if(y.type===Io.RPC_CHECK){const x=y.result;Z.SocketService(`[SocketService:handleRpcReplies()] id=${c.id} ${f} ( ${x.elapsedTime} ms)`,x.result)}else{if(y.type!==Io.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${d}`);{const x=Object.assign(Object.assign({},l.state.rpcMethodTracker[d]),{error:new Error("SDK_CONNECTION_ISSUE")});l.emit(ae.RPC_UPDATE,x);const p={data:Object.assign(Object.assign({},x),{jsonrpc:"2.0"}),name:"metamask-provider"};l.emit(ae.MESSAGE,{message:p})}}}catch(m){throw m}})}(n,r).catch(l=>{}),a})}(this,t)})}ping(){return function(t){return ne(this,void 0,void 0,function*(){var n,r;Z.SocketService(`[SocketService: ping()] context=${t.state.context} originator=${t.state.isOriginator} keysExchanged=${(n=t.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=t.state.socket)===null||r===void 0||r.emit(Fe.PING,{id:t.state.channelId,context:"ping",clientType:t.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(t){return ne(this,void 0,void 0,function*(){var n,r;Z.SocketService(`[SocketService: pause()] context=${t.state.context}`),t.state.manualDisconnect=!0,!((n=t.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield t.sendMessage({type:Fe.PAUSE})),(r=t.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var t;return(t=this.state.socket)===null||t===void 0?void 0:t.connected}resume(){return function(t){return ne(this,void 0,void 0,function*(){const{state:n,remote:r}=t,{socket:i,channelId:o,context:s,keyExchange:a,isOriginator:l}=n,{isOriginator:c}=r.state;if(Z.SocketService(`[SocketService: resume()] channelId=${o} context=${s} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${a==null?void 0:a.areKeysExchanged()}`),!o)throw Z.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(Z.SocketService("[SocketService: resume()] already connected."),i.emit(Fe.PING,{id:o,clientType:c?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||a!=null&&a.areKeysExchanged()||(l?yield t.sendMessage({type:Fe.READY}):a==null||a.start({isOriginator:!1}))):(i==null||i.connect(),Z.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(ae.JOIN_CHANNEL,{channelId:o,context:`${s}_resume`,clientType:c?"dapp":"wallet"},(u,d)=>ne(this,void 0,void 0,function*(){try{yield ic(t,u,d)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(t){return function(n,r){var i,o,s,a,l;Z.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((o=(i=n.state).removeFocusListener)===null||o===void 0||o.call(i),n.state.channelId=r.channelId,(s=n.state.socket)===null||s===void 0||s.removeAllListeners(),(a=n.state.keyExchange)===null||a===void 0||a.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(l=n.state.socket)===null||l===void 0||l.disconnect()}(this,t)}}var Fi,Nt,gy;function UC(e){return()=>ne(this,void 0,void 0,function*(){var t,n,r;const{state:i}=e;if(i.authorized)return;yield ne(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Wo(500)});const o="7.3".localeCompare(((t=i.walletInfo)===null||t===void 0?void 0:t.version)||"");if(Z.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${o}`),o!==1)return;const s=i.platformType===Nt.MobileWeb||i.platformType===Nt.ReactNative||i.platformType===Nt.MetaMaskMobileWebview;Z.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),s&&(i.authorized=!0,e.emit(ae.AUTHORIZED))})}function KC(e){return t=>{const{state:n}=e;Z.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${t}`),e.emit(ae.CHANNEL_CREATED,t)}}function zC(e,t){return()=>{var n,r,i,o;const{state:s}=e;Z.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${(r=(n=s.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),s.analytics&&_r(Object.assign(Object.assign({id:(i=s.channelId)!==null&&i!==void 0?i:"",event:s.reconnection?Ze.RECONNECT:s.isOriginator?Ze.REQUEST:Ze.REQUEST_MOBILE},s.originatorInfo),{commLayer:t,sdkVersion:s.sdkVersion,walletVersion:(o=s.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:vi.version}),s.communicationServerUrl).catch(a=>{}),s.isOriginator&&!s.reconnection&&qe.track("sdk_connection_established",{transport_type:"websocket"}),s.clientsConnected=!0,s.originatorInfoSent=!1,e.emit(ae.CLIENTS_CONNECTED)}}function HC(e){return t=>{const{state:n}=e;Z.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${t}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),e.emit(ae.CLIENTS_DISCONNECTED,n.channelId),e.setConnectionStatus(Xe.DISCONNECTED)}}function VC(e){return t=>{var n;const{state:r}=e;if(Z.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${t} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),e.setConnectionStatus(Xe.WAITING),e.emit(ae.CLIENTS_WAITING,t),r.originatorConnectStarted){Z.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,o=setTimeout(()=>{Z.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||e.setConnectionStatus(Xe.TIMEOUT),clearTimeout(o)},i)}}}function WC(e,t){return n=>{var r,i,o,s,a,l,c,u;const{state:d}=e;if(Z.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${d.context} on commLayer.'keys_exchanged' channel=${d.channelId}`,n),(i=(r=d.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const f=Object.assign(Object.assign({},d.channelConfig),{channelId:(o=d.channelId)!==null&&o!==void 0?o:"",validUntil:((s=d.channelConfig)===null||s===void 0?void 0:s.validUntil)||rs,localKey:d.communicationLayer.getKeyInfo().ecies.private,otherKey:d.communicationLayer.getKeyInfo().ecies.otherPubKey});(a=d.storageManager)===null||a===void 0||a.persistChannelConfig(f).catch(m=>{}),e.setConnectionStatus(Xe.LINKED)}(function(f,m){var g,y,x,p,w,v,k,P;const{state:O}=f;Z.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${O.channelId}`,m);const F=Object.assign(Object.assign({},O.channelConfig),{channelId:(g=O.channelId)!==null&&g!==void 0?g:"",validUntil:(x=(y=O.channelConfig)===null||y===void 0?void 0:y.validUntil)!==null&&x!==void 0?x:0,relayPersistence:O.relayPersistence,localKey:(w=(p=O.communicationLayer)===null||p===void 0?void 0:p.state.keyExchange)===null||w===void 0?void 0:w.getKeyInfo().ecies.private,otherKey:(k=(v=O.communicationLayer)===null||v===void 0?void 0:v.state.keyExchange)===null||k===void 0?void 0:k.getKeyInfo().ecies.otherPubKey,lastActive:m.getTime()});(P=O.storageManager)===null||P===void 0||P.persistChannelConfig(F)})(e,new Date),d.analytics&&d.channelId&&_r(Object.assign(Object.assign({id:d.channelId,event:n.isOriginator?Ze.CONNECTED:Ze.CONNECTED_MOBILE},d.originatorInfo),{sdkVersion:d.sdkVersion,commLayer:t,commLayerVersion:vi.version,walletVersion:(l=d.walletInfo)===null||l===void 0?void 0:l.version}),d.communicationServerUrl).catch(f=>{}),d.isOriginator=n.isOriginator,n.isOriginator||((c=d.communicationLayer)===null||c===void 0||c.sendMessage({type:Fe.READY}),d.ready=!0,d.paused=!1),n.isOriginator&&!d.originatorInfoSent&&((u=d.communicationLayer)===null||u===void 0||u.sendMessage({type:Fe.ORIGINATOR_INFO,originatorInfo:d.originatorInfo,originator:d.originatorInfo}),d.originatorInfoSent=!0)}}function qC(e){return t=>{let n=t;t.message&&(n=n.message),function(r,i){const{state:o}=i;if(Z.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,o.isOriginator||r.type!==Fe.ORIGINATOR_INFO)if(o.isOriginator&&r.type===Fe.WALLET_INFO)(function(s,a){const{state:l}=s;l.walletInfo=a.walletInfo,l.paused=!1})(i,r);else{if(o.isOriginator&&r.type===Fe.WALLET_INIT)(function(s,a){return ne(this,void 0,void 0,function*(){var l,c,u;const{state:d}=s;if(d.isOriginator){const f=a.data||{};if(typeof f=="object"&&"accounts"in f&&"chainId"in f&&"walletKey"in f)try{const{channelConfig:m}=s.state;if(Z.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(m,null,2)),m){const g=f.accounts,y=f.chainId,x=f.walletKey;let p,w=!1;"deeplinkProtocol"in f&&(w=!!f.deeplinkProtocol,s.state.deeplinkProtocolAvailable=w),"walletVersion"in f&&(p=f.walletVersion),yield(l=s.state.storageManager)===null||l===void 0?void 0:l.persistChannelConfig(Object.assign(Object.assign({},m),{otherKey:x,walletVersion:p,deeplinkProtocolAvailable:w,relayPersistence:!0})),yield(c=s.state.storageManager)===null||c===void 0?void 0:c.persistAccounts(g),yield(u=s.state.storageManager)===null||u===void 0?void 0:u.persistChainId(y)}s.emit(ae.WALLET_INIT,{accounts:f.accounts,chainId:f.chainId})}catch{}}})})(i,r).catch(s=>{Z.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===Fe.TERMINATE)(function(s){return ne(this,void 0,void 0,function*(){const{state:a}=s;a.isOriginator&&(yield lx({options:{terminate:!0,sendMessage:!1},instance:s}),s.emit(ae.TERMINATE))})})(i).catch(s=>{Z.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===Fe.PAUSE)(function(s){const{state:a}=s;a.paused=!0,s.setConnectionStatus(Xe.PAUSED)})(i);else if(r.type===Fe.READY&&o.isOriginator)(function(s){const{state:a}=s;s.setConnectionStatus(Xe.LINKED);const l=a.paused;a.paused=!1,s.emit(ae.CLIENTS_READY,{isOriginator:a.isOriginator,walletInfo:a.walletInfo}),l&&(a.authorized=!0,s.emit(ae.AUTHORIZED))})(i);else{if(r.type===Fe.OTP&&o.isOriginator)return void function(s,a){var l;const{state:c}=s;s.emit(ae.OTP,a.otpAnswer),"6.6".localeCompare(((l=c.walletInfo)===null||l===void 0?void 0:l.version)||"")===1&&s.emit(ae.SDK_RPC_CALL,{method:Et.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===Fe.AUTHORIZED&&o.isOriginator&&function(s){const{state:a}=s;a.authorized=!0,s.emit(ae.AUTHORIZED)}(i)}i.emit(ae.MESSAGE,r)}else(function(s,a){var l;const{state:c}=s;(l=c.communicationLayer)===null||l===void 0||l.sendMessage({type:Fe.WALLET_INFO,walletInfo:c.walletInfo}),c.originatorInfo=a.originatorInfo||a.originator,s.emit(ae.CLIENTS_READY,{isOriginator:c.isOriginator,originatorInfo:c.originatorInfo}),c.paused=!1})(i,r)}(n,e)}}function GC(e){return()=>{const{state:t}=e;Z.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),t.ready=!1,t.authorized=!1,ox(t),e.emitServiceStatusEvent({context:"socket_reconnect"})}}function YC(e){return()=>{const{state:t}=e;Z.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),t.ready=!1}}function ZC(e){return()=>ne(this,void 0,void 0,function*(){var t,n,r,i,o,s,a;const{state:l}=e;Z.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${l.context}`),e.state.ready=!0,e.state.clientsConnected=!0,e.state.authorized=!0,e.state.relayPersistence=!0,(t=e.state.communicationLayer)===null||t===void 0||t.getKeyExchange().setKeysExchanged(!0),e.emit(ae.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),e.emit(ae.AUTHORIZED),e.emit(ae.CLIENTS_READY),e.emit(ae.CHANNEL_PERSISTENCE);try{l.channelConfig=Object.assign(Object.assign({},l.channelConfig),{localKey:(n=l.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=l.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=l.channelId)!==null&&i!==void 0?i:"",validUntil:(s=(o=l.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&s!==void 0?s:rs,relayPersistence:!0}),yield(a=l.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(l.channelConfig)}catch{}})}function yy({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,ecies:r,communicationServerUrl:i=Yi,instance:o}){var s,a,l,c,u,d,f,m,g,y,x;const{state:p}=o;if(Z.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(p,null,2)),e!==Fi.SOCKET)throw new Error("Invalid communication protocol");p.communicationLayer=new FC({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,transports:p.transports,communicationServerUrl:i,context:p.context,ecies:r,logging:p.logging,remote:o});let w=typeof document<"u"&&document.URL||"",v=typeof document<"u"&&document.title||"";!((s=p.dappMetadata)===null||s===void 0)&&s.url&&(w=p.dappMetadata.url),!((a=p.dappMetadata)===null||a===void 0)&&a.name&&(v=p.dappMetadata.name);const k=(d=(c=(l=p.dappMetadata)===null||l===void 0?void 0:l.name)!==null&&c!==void 0?c:(u=p.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&d!==void 0?d:"N/A",P=typeof window<"u"&&window.location!==void 0&&(f=window.location.hostname)!==null&&f!==void 0?f:k,O={url:w,title:v,source:(m=p.dappMetadata)===null||m===void 0?void 0:m.source,dappId:P,anonId:p.anonId,icon:((g=p.dappMetadata)===null||g===void 0?void 0:g.iconUrl)||((y=p.dappMetadata)===null||y===void 0?void 0:y.base64Icon),platform:p.platformType,apiVersion:vi.version,connector:(x=p.dappMetadata)===null||x===void 0?void 0:x.connector};p.originatorInfo=O;const F={[ae.AUTHORIZED]:UC(o),[ae.MESSAGE]:qC(o),[ae.CHANNEL_PERSISTENCE]:ZC(o),[ae.CLIENTS_CONNECTED]:zC(o,e),[ae.KEYS_EXCHANGED]:WC(o,e),[ae.SOCKET_DISCONNECTED]:YC(o),[ae.SOCKET_RECONNECT]:GC(o),[ae.CLIENTS_DISCONNECTED]:HC(o),[ae.KEY_INFO]:()=>{},[ae.CHANNEL_CREATED]:KC(o),[ae.CLIENTS_WAITING]:VC(o),[ae.RPC_UPDATE]:B=>{o.emit(ae.RPC_UPDATE,B)}};for(const[B,H]of Object.entries(F))try{p.communicationLayer.on(B,H)}catch{}}function lx(e){return ne(this,arguments,void 0,function*({options:t,instance:n}){const{state:r}=n;return Z.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,t),new Promise((i,o)=>{var s,a,l,c,u,d;t!=null&&t.terminate?(n.state.ready&&_r({id:(s=n.state.channelId)!==null&&s!==void 0?s:"",event:Ze.TERMINATED},n.state.communicationServerUrl).catch(f=>{}),r.ready=!1,r.paused=!1,(a=r.storageManager)===null||a===void 0||a.terminate((l=r.channelId)!==null&&l!==void 0?l:""),n.state.terminated=!0,t.sendMessage?!((c=r.communicationLayer)===null||c===void 0)&&c.getKeyInfo().keysExchanged&&n.state.communicationLayer&&sx(n.state.communicationLayer,{type:Fe.TERMINATE}).then(()=>{i(!0)}).catch(f=>{o(f)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=Qr(),t.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(u=r.communicationLayer)===null||u===void 0||u.disconnect(t),n.setConnectionStatus(Xe.TERMINATED)):((d=r.communicationLayer)===null||d===void 0||d.disconnect(t),n.setConnectionStatus(Xe.DISCONNECTED),i(!0))})})}(Fi||(Fi={})).SOCKET="socket",function(e){e.NonBrowser="nodejs",e.MetaMaskMobileWebview="in-app-browser",e.DesktopWeb="web-desktop",e.MobileWeb="web-mobile",e.ReactNative="react-native"}(Nt||(Nt={}));class QC extends Ha.exports.EventEmitter2{constructor(t){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:Yi,context:"",persist:!1,clientsConnected:!1,sessionDuration:rs,originatorConnectStarted:!1,debug:!1,_connectionStatus:Xe.DISCONNECTED},this._options=t;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:o,reconnect:s,walletInfo:a,dappMetadata:l,protocolVersion:c,transports:u,context:d,relayPersistence:f,ecies:m,analytics:g=!1,storage:y,sdkVersion:x,communicationServerUrl:p=Yi,logging:w,autoConnect:v={timeout:IC}}=t;this.state.anonId=n,this.state.otherPublicKey=o,this.state.dappMetadata=l,this.state.walletInfo=a,this.state.transports=u,this.state.platformType=r,this.state.analytics=g,this.state.protocolVersion=c??1,this.state.isOriginator=!o,this.state.relayPersistence=f,this.state.communicationServerUrl=p,this.state.context=d,this.state.terminated=!1,this.state.sdkVersion=x,this.setMaxListeners(50),this.setConnectionStatus(Xe.DISCONNECTED),y!=null&&y.duration&&(this.state.sessionDuration=rs),this.state.storageOptions=y,this.state.autoConnectOptions=v,this.state.debug=(w==null?void 0:w.remoteLayer)===!0,(w==null?void 0:w.remoteLayer)===!0&&It.enable("RemoteCommunication:Layer"),(w==null?void 0:w.serviceLayer)===!0&&It.enable("SocketService:Layer"),(w==null?void 0:w.eciesLayer)===!0&&It.enable("ECIES:Layer"),(w==null?void 0:w.keyExchangeLayer)===!0&&It.enable("KeyExchange:Layer"),this.state.logging=w,y!=null&&y.storageManager&&(this.state.storageManager=y.storageManager),Z.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${c} relayPersistence=${f} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${s}`),this.state.isOriginator||yy({communicationLayerPreference:i,otherPublicKey:o,reconnect:s,ecies:m,communicationServerUrl:p,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return ne(this,void 0,void 0,function*(){var t;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(t=n.deeplinkProtocolAvailable)!==null&&t!==void 0&&t,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(Xe.LINKED),yield this.connectToChannel({channelId:n.channelId})))}yy({communicationLayerPreference:Fi.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return ne(this,void 0,void 0,function*(){return yield function(t){return ne(this,void 0,void 0,function*(){var n;const{state:r}=t;if(!r.storageManager)return void Z.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(Z.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return Z.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;Z.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return ne(this,void 0,void 0,function*(){return function(t){return ne(this,void 0,void 0,function*(){var n,r,i,o,s,a;if(!t.communicationLayer)throw new Error("communication layer not initialized");if(t.ready)throw new Error("Channel already connected");if(t.channelId&&(!((n=t.communicationLayer)===null||n===void 0)&&n.isConnected()))return t.channelConfig=Object.assign(Object.assign({},t.channelConfig),{channelId:t.channelId,validUntil:Date.now()+t.sessionDuration}),(r=t.storageManager)===null||r===void 0||r.persistChannelConfig(t.channelConfig),{channelId:t.channelId,privKey:(o=(i=t.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(a=(s=t.communicationLayer)===null||s===void 0?void 0:s.getKeyInfo())===null||a===void 0?void 0:a.ecies.public};Z.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const l=yield t.communicationLayer.createChannel();Z.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",l);const c=Object.assign(Object.assign({},t.channelConfig),{channelId:l.channelId,localKey:l.privKey,validUntil:Date.now()+t.sessionDuration});return t.channelId=l.channelId,t.channelConfig=c,{channelId:t.channelId,pubKey:l.pubKey,privKey:l.privKey}})}(this.state)})}clean(){return ox(this.state)}connectToChannel({channelId:t,withKeyExchange:n,authorized:r}){return function(i){return ne(this,arguments,void 0,function*({channelId:o,withKeyExchange:s,authorized:a,state:l}){var c,u,d;if(!zc(o))throw Z.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(Z.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} channelId=${o} withKeyExchange=${s}`),(c=l.communicationLayer)===null||c===void 0?void 0:c.isConnected())return void Z.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${l.context} already connected - interrupt connection.`);l.channelId=o,yield(u=l.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:a,withKeyExchange:s});const f=Object.assign(Object.assign({},l.channelConfig),{channelId:o,validUntil:Date.now()+l.sessionDuration});l.channelConfig=f,(d=l.storageManager)===null||d===void 0||d.persistChannelConfig(f)})}({channelId:t,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(t){return ne(this,void 0,void 0,function*(){const n=this.state.isOriginator&&t.method&&qa(t.method);n&&qe.track("sdk_action_requested",{action:t.method});try{return yield function(r,i){return ne(this,void 0,void 0,function*(){var o,s;const{state:a}=r;Z.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context} paused=${a.paused} ready=${a.ready} relayPersistence=${a.relayPersistence} authorized=${a.authorized} socket=${(o=a.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${a.clientsConnected} status=${a._connectionStatus}`,i),a.relayPersistence||a.ready&&(!((s=a.communicationLayer)===null||s===void 0)&&s.isConnected())&&a.clientsConnected||(Z.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(l=>{r.once(ae.CLIENTS_READY,l)}),Z.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(c,u){return ne(this,void 0,void 0,function*(){return new Promise(d=>{var f;const{state:m}=c;Z.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context} ready=${m.ready} authorized=${m.authorized} method=${u.method}`),!m.isOriginator||m.authorized||m.relayPersistence?(f=m.communicationLayer)===null||f===void 0||f.sendMessage(u).then(g=>{d(g)}).catch(g=>{d(!1)}):c.once(ae.AUTHORIZED,()=>{var g;Z.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(g=m.communicationLayer)===null||g===void 0||g.sendMessage(u).then(y=>{d(y)}).catch(y=>{d(!1)})})})})}(r,i)}catch(l){throw l}})}(this,t)}catch(r){throw n&&qe.track("sdk_action_failed",{action:t.method}),r}})}testStorage(){return ne(this,void 0,void 0,function*(){return function(t){return ne(this,void 0,void 0,function*(){var n;const r=yield(n=t.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();Z.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var t;return(t=this.state.communicationLayer)===null||t===void 0?void 0:t.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return ne(this,void 0,void 0,function*(){var t;Z.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(t=this.state.communicationLayer)===null||t===void 0?void 0:t.ping()})}testLogger(){Z.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Z.SocketService(`testLogger() channel=${this.state.channelId}`),Z.Ecies(`testLogger() channel=${this.state.channelId}`),Z.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var t;Z.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(t=this.state.communicationLayer)===null||t===void 0||t.keyCheck()}setConnectionStatus(t){this.state._connectionStatus!==t&&(this.state._connectionStatus=t,this.emit(ae.CONNECTION_STATUS,t),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(t={}){this.emit(ae.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var t;return(t=this.state.communicationLayer)===null||t===void 0?void 0:t.getKeyInfo()}resetKeys(){var t;(t=this.state.communicationLayer)===null||t===void 0||t.resetKeys()}setOtherPublicKey(t){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==t&&r.setOtherPublicKey(t)}pause(){return ne(this,void 0,void 0,function*(){var t;Z.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(t=this.state.communicationLayer)===null||t===void 0?void 0:t.pause(),this.setConnectionStatus(Xe.PAUSED)})}getVersion(){return vi.version}hasRelayPersistence(){var t;return(t=this.state.relayPersistence)!==null&&t!==void 0&&t}resume(){return ne(this,void 0,void 0,function*(){return function(t){return ne(this,void 0,void 0,function*(){var n;const{state:r}=t;Z.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),t.setConnectionStatus(Xe.LINKED)})}(this)})}encrypt(t){var n,r,i;const o=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),s=o==null?void 0:o.getOtherPublicKey();if(!s)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(t,s)}decrypt(t){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(t)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var t;return(t=this.state.communicationLayer)===null||t===void 0?void 0:t.getRPCMethodTracker()}reject({channelId:t}){return function(n){return ne(this,arguments,void 0,function*({channelId:r,state:i}){var o,s,a;if(!zc(r))throw Z.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void Z.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:l}=(s=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&s!==void 0?s:{};l!=null&&l.connected||(Z.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),l==null||l.connect()),_r(Object.assign(Object.assign({id:r,event:Ze.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:vi.version,walletVersion:(a=i.walletInfo)===null||a===void 0?void 0:a.version}),i.communicationServerUrl).catch(c=>{}),yield new Promise((c,u)=>{l==null||l.emit(ae.REJECTED,{channelId:r},(d,f)=>{Z.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${l==null?void 0:l.id}`,{error:d,response:f}),d?u(d):c(f)})})})}({channelId:t,state:this.state})}disconnect(t){return ne(this,void 0,void 0,function*(){return lx({options:t,instance:this})})}}(function(e){e.RENEW="renew",e.LINK="link"})(gy||(gy={}));var JC="ERC721",XC="ERC1155",We={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function e4(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var o;t.ethDecryptDeprecation||n.method!=="eth_decrypt"?t.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!t.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[JC,XC].includes(((o=n.params)==null?void 0:o.type)||"")&&(e.warn(We.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn(We.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn(We.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),i()}}var cx=4294967295,vy=Math.floor(Math.random()*cx),y0=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Xr=(e,t,n)=>(y0(e,t,"read from private field"),n?n.call(e):t.get(e)),Rn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pl=(e,t,n,r)=>(y0(e,t,"write to private field"),t.set(e,n),n),Pt=(e,t,n)=>(y0(e,t,"access private method"),n),oc=-32600,Zs=-32603,wy={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function by(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var tu=(e,t)=>Object.hasOwnProperty.call(e,t);class t4 extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function xr(e){return typeof e=="object"&&e!=null}function rr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function n4(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${rr(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*xy(e,t,n,r){(function(i){return xr(i)&&typeof i[Symbol.iterator]=="function"})(e)||(e=[e]);for(const i of e){const o=n4(i,t,n,r);o&&(yield o)}}function*v0(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&xr(t.schema)&&xr(e)&&!Array.isArray(e)))for(const c in e)t.schema[c]===void 0&&delete e[c];let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const f=v0(u,d,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:o,mask:s,message:n.message});for(const m of f)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(u=m[1],c===void 0?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):xr(e)&&(u!==void 0||c in e)&&(e[c]=u))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}class Bn{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,this.validator=i?(l,c)=>xy(i(l,c),c,this,l):()=>[],this.refiner=o?(l,c)=>xy(o(l,c),c,this,l):()=>[]}assert(t,n){return ux(t,this,n)}create(t,n){return dx(t,this,n)}is(t){return us(t,this)}mask(t,n){return function(r,i,o){const s=Ma(r,i,{coerce:!0,mask:!0,message:o});if(s[0])throw s[0];return s[1]}(t,this,n)}validate(t,n={}){return Ma(t,this,n)}}function ux(e,t,n){const r=Ma(e,t,{message:n});if(r[0])throw r[0]}function dx(e,t,n){const r=Ma(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function us(e,t){return!Ma(e,t)[0]}function Ma(e,t,n={}){const r=v0(e,t,n),i=function(o){const{done:s,value:a}=o.next();return s?void 0:a}(r);return i[0]?[new t4(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function wi(e,t){return new Bn({type:e,schema:null,validator:t})}function Ey(e){let t;return new Bn({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function fx(e){return new Bn({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${rr(t)}`})}function hx(e){const t=rr(e),n=typeof e;return new Bn({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${rr(r)}`})}function px(){return wi("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${rr(e)}`)}function mx(e){const t=e?Object.keys(e):[],n=wi("never",()=>!1);return new Bn({type:"object",schema:e||null,*entries(r){if(e&&xr(r)){const i=new Set(Object.keys(r));for(const o of t)i.delete(o),yield[o,r[o],e[o]];for(const o of i)yield[o,r[o],n]}},validator:r=>xr(r)||`Expected an object, but received: ${rr(r)}`,coercer:r=>xr(r)?{...r}:r})}function Sy(e){return new Bn({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function gx(e,t){return new Bn({type:"record",schema:null,*entries(n){if(xr(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:n=>xr(n)||`Expected an object, but received: ${rr(n)}`})}function bi(){return wi("string",e=>typeof e=="string"||`Expected a string, but received: ${rr(e)}`)}function Fu(e){const t=e.map(n=>n.type).join(" | ");return new Bn({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...s]=v0(n,o,r),[a]=s;if(!a[0])return[];for(const[l]of s)l&&i.push(l)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${rr(n)}`,...i]}})}var r4=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function yx(){throw new Error("setTimeout has not been defined")}function vx(){throw new Error("clearTimeout has not been defined")}var Dr=yx,Br=vx;function wx(e){if(Dr===setTimeout)return setTimeout(e,0);if((Dr===yx||!Dr)&&setTimeout)return Dr=setTimeout,setTimeout(e,0);try{return Dr(e,0)}catch{try{return Dr.call(null,e,0)}catch{return Dr.call(this,e,0)}}}typeof $t.setTimeout=="function"&&(Dr=setTimeout),typeof $t.clearTimeout=="function"&&(Br=clearTimeout);var Oi,vr=[],qo=!1,sc=-1;function i4(){qo&&Oi&&(qo=!1,Oi.length?vr=Oi.concat(vr):sc=-1,vr.length&&bx())}function bx(){if(!qo){var e=wx(i4);qo=!0;for(var t=vr.length;t;){for(Oi=vr,vr=[];++sc<t;)Oi&&Oi[sc].run();sc=-1,t=vr.length}Oi=null,qo=!1,function(n){if(Br===clearTimeout)return clearTimeout(n);if((Br===vx||!Br)&&clearTimeout)return Br=clearTimeout,clearTimeout(n);try{return Br(n)}catch{try{return Br.call(null,n)}catch{return Br.call(this,n)}}}(e)}}function xx(e,t){this.fun=e,this.array=t}function to(){}xx.prototype.run=function(){this.fun.apply(null,this.array)};var o4=to,s4=to,a4=to,l4=to,c4=to,u4=to,d4=to,yo=$t.performance||{},f4=yo.now||yo.mozNow||yo.msNow||yo.oNow||yo.webkitNow||function(){return new Date().getTime()},h4=new Date,Me={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];vr.push(new xx(e,t)),vr.length!==1||qo||wx(bx)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:o4,addListener:s4,once:a4,off:l4,removeListener:c4,removeAllListeners:u4,emit:d4,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*f4.call(yo),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-h4)/1e3}},Ta=e=>mx(e);function ky({path:e,branch:t}){const n=e[e.length-1];return tu(t[t.length-2],n)}function nu(e){return new Bn({...e,type:`optional ${e.type}`,validator:(t,n)=>!ky(n)||e.validator(t,n),refiner:(t,n)=>!ky(n)||e.refiner(t,n)})}var Ll,Cy,_y,ru=Fu([hx(null),wi("boolean",e=>typeof e=="boolean"),wi("finite number",e=>us(e,px())&&Number.isFinite(e)),bi(),fx(Ey(()=>ru)),gx(bi(),Ey(()=>ru))]),Pa=(Ll=ru,Cy=wi("any",()=>!0),_y=e=>(function(t,n,r="Assertion failed",i=r4){try{ux(t,n)}catch(o){throw function(s,a){var c,u;return l=s,typeof((u=(c=l==null?void 0:l.prototype)==null?void 0:c.constructor)==null?void 0:u.name)=="string"?new s({message:a}):s({message:a});var l}(i,`${r}: ${function(s){return function(a){return function(l){return typeof l=="object"&&l!==null&&"message"in l}(a)&&typeof a.message=="string"?a.message:a==null?"":String(a)}(s).replace(/\.$/u,"")}(o)}.`)}}(e,ru),JSON.parse(JSON.stringify(e,(t,n)=>{if(t!=="__proto__"&&t!=="constructor")return n}))),new Bn({...Ll,coercer:(e,t)=>us(e,Cy)?Ll.coercer(_y(e),t):Ll.coercer(e,t)}));function Oh(e){try{return function(t){dx(t,Pa)}(e),!0}catch{return!1}}var Qs=hx("2.0"),ac=function(e){return new Bn({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}(Fu([px(),bi()])),$h=Ta({code:wi("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${rr(e)}`),message:bi(),data:nu(Pa),stack:nu(bi())}),Ex=Fu([gx(bi(),Pa),fx(Pa)]),p4=Ta({id:ac,jsonrpc:Qs,method:bi(),params:nu(Ex)}),m4=Ta({jsonrpc:Qs,method:bi(),params:nu(Ex)});function Ny(e){return us(e,p4)}function Ay(e){return us(e,$h)}mx({id:ac,jsonrpc:Qs,result:Sy(wi("unknown",()=>!0)),error:Sy($h)}),Fu([Ta({id:ac,jsonrpc:Qs,result:Pa}),Ta({id:ac,jsonrpc:Qs,error:$h})]);var g4="Unspecified error message. This is a bug, please report it.",y4={code:Zs,message:Sx(Zs)},v4="Unspecified server error.";function Sx(e,t=g4){if(function(n){return Number.isInteger(n)}(e)){const n=e.toString();if(tu(wy,n))return wy[n].message;if(function(r){return r>=-32099&&r<=-32e3}(e))return v4}return t}function My(e,{fallbackError:t=y4,shouldIncludeStack:n=!0}={}){if(!Ay(t))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,o){return i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function"?i.serialize():Ay(i)?i:{...o,data:{cause:kx(i)}}}(e,t);return n||delete r.stack,r}function kx(e){return Array.isArray(e)?e.map(t=>Oh(t)?t:by(t)?Ty(t):null):by(e)?Ty(e):Oh(e)?e:null}function Ty(e){return Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return Oh(r)&&(t[n]=r),t},{})}var Cx=$s;$s.default=$s,$s.stable=Py,$s.stableStringify=Py;var iu="[...]",_x="[Circular]",Zi=[],$i=[];function Nx(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $s(e,t,n,r){var i;r===void 0&&(r=Nx()),Dh(e,"",0,[],void 0,0,r);try{i=$i.length===0?JSON.stringify(e,t,n):JSON.stringify(e,Ax(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zi.length!==0;){var o=Zi.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Go(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:e}),Zi.push([r,n,t,i])):$i.push([t,n,e]):(r[n]=e,Zi.push([r,n,t]))}function Dh(e,t,n,r,i,o,s){var a;if(o+=1,typeof e=="object"&&e!==null){for(a=0;a<r.length;a++)if(r[a]===e)return void Go(_x,e,t,i);if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Go(iu,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Dh(e[a],a,a,r,e,o,s);else{var l=Object.keys(e);for(a=0;a<l.length;a++){var c=l[a];Dh(e[c],c,a,r,e,o,s)}}r.pop()}}function w4(e,t){return e<t?-1:e>t?1:0}function Py(e,t,n,r){r===void 0&&(r=Nx());var i,o=Bh(e,"",0,[],void 0,0,r)||e;try{i=$i.length===0?JSON.stringify(o,t,n):JSON.stringify(o,Ax(t),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zi.length!==0;){var s=Zi.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Bh(e,t,n,r,i,o,s){var a;if(o+=1,typeof e=="object"&&e!==null){for(a=0;a<r.length;a++)if(r[a]===e)return void Go(_x,e,t,i);try{if(typeof e.toJSON=="function")return}catch{return}if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Go(iu,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Bh(e[a],a,a,r,e,o,s);else{var l={},c=Object.keys(e).sort(w4);for(a=0;a<c.length;a++){var u=c[a];Bh(e[u],u,a,r,e,o,s),l[u]=e[u]}if(i===void 0)return l;Zi.push([i,t,e]),i[t]=l}r.pop()}}function Ax(e){return e=e!==void 0?e:function(t,n){return n},function(t,n){if($i.length>0)for(var r=0;r<$i.length;r++){var i=$i[r];if(i[1]===t&&i[0]===n){n=i[2],$i.splice(r,1);break}}return e.call(this,t,n)}}var b4=Du(Cx),cr=class extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a non-empty string.');super(t),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,function(t){if(typeof t!="object"||t===null)return!1;try{let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}catch{return!1}}(this.data)&&(e.data.cause=kx(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return b4(this.serialize(),x4,2)}};function x4(e,t){if(t!=="[Circular]")return t}var Js=e=>function(t,n){const[r,i]=function(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:s,data:a}=o;if(s&&typeof s!="string")throw new Error("Must specify string message.");return[s??void 0,a]}}return[]}(n);return new cr(t,r??Sx(t),i)}(oc,e),Mx={};function Fr(){}function Pe(){Pe.init.call(this)}function Tx(e){return e._maxListeners===void 0?Pe.defaultMaxListeners:e._maxListeners}function Ly(e,t,n,r){var i,o,s;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=new Fr,e._eventsCount=0),s){if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=Tx(e))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(l){typeof console.warn=="function"?console.warn(l):console.log(l)}(a)}}else s=o[t]=n,++e._eventsCount;return e}function Ry(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function jy(e){var t=this._events;if(t){var n=t[e];if(typeof n=="function")return 1;if(n)return n.length}return 0}function As(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Fr.prototype=Object.create(null),Pe.EventEmitter=Pe,Pe.usingDomains=!1,Pe.prototype.domain=void 0,Pe.prototype._events=void 0,Pe.prototype._maxListeners=void 0,Pe.defaultMaxListeners=10,Pe.init=function(){this.domain=null,Pe.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Fr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Pe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Pe.prototype.getMaxListeners=function(){return Tx(this)},Pe.prototype.emit=function(e){var t,n,r,i,o,s,a,l=e==="error";if(s=this._events)l=l&&s.error==null;else if(!l)return!1;if(a=this.domain,l){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(n=s[e]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(d,f,m){if(f)d.call(m);else for(var g=d.length,y=As(d,g),x=0;x<g;++x)y[x].call(m)})(n,u,this);break;case 2:(function(d,f,m,g){if(f)d.call(m,g);else for(var y=d.length,x=As(d,y),p=0;p<y;++p)x[p].call(m,g)})(n,u,this,arguments[1]);break;case 3:(function(d,f,m,g,y){if(f)d.call(m,g,y);else for(var x=d.length,p=As(d,x),w=0;w<x;++w)p[w].call(m,g,y)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(d,f,m,g,y,x){if(f)d.call(m,g,y,x);else for(var p=d.length,w=As(d,p),v=0;v<p;++v)w[v].call(m,g,y,x)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(d,f,m,g){if(f)d.apply(m,g);else for(var y=d.length,x=As(d,y),p=0;p<y;++p)x[p].apply(m,g)})(n,u,this,i)}return!0},Pe.prototype.addListener=function(e,t){return Ly(this,e,t,!1)},Pe.prototype.on=Pe.prototype.addListener,Pe.prototype.prependListener=function(e,t){return Ly(this,e,t,!0)},Pe.prototype.once=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,Ry(this,e,t)),this},Pe.prototype.prependOnceListener=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Ry(this,e,t)),this},Pe.prototype.removeListener=function(e,t){var n,r,i,o,s;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)--this._eventsCount==0?this._events=new Fr:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new Fr,this;delete r[e]}else(function(a,l){for(var c=l,u=c+1,d=a.length;u<d;c+=1,u+=1)a[c]=a[u];a.pop()})(n,i);r.removeListener&&this.emit("removeListener",e,s||t)}return this},Pe.prototype.off=function(e,t){return this.removeListener(e,t)},Pe.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new Fr,this._eventsCount=0):n[e]&&(--this._eventsCount==0?this._events=new Fr:delete n[e]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Fr,this._eventsCount=0,this}if(typeof(t=n[e])=="function")this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0]);return this},Pe.prototype.listeners=function(e){var t,n,r=this._events;return n=r&&(t=r[e])?typeof t=="function"?[t.listener||t]:function(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}(t):[],n},Pe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jy.call(e,t)},Pe.prototype.listenerCount=jy,Pe.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var w0=Va(Object.freeze({__proto__:null,EventEmitter:Pe,default:Pe}));Object.defineProperty(Mx,"__esModule",{value:!0});const E4=w0;function Iy(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout(()=>{throw r})}}let S4=class extends E4.EventEmitter{emit(e,...t){let n=e==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(t.length>0&&([o]=t),o instanceof Error)throw o;const s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}const i=r[e];if(i===void 0)return!1;if(typeof i=="function")Iy(i,this,t);else{const o=i.length,s=function(a){const l=a.length,c=new Array(l);for(let u=0;u<l;u+=1)c[u]=a[u];return c}(i);for(let a=0;a<o;a+=1)Iy(s[a],this,t)}return!0}};var ou,Wr,Oo,Ds,lc,cc,Fh,uc,Uh,Zd,Oy,dc,Kh,Qd,$y,Xs,su,Jd,Dy,Px=Mx.default=S4,An=class fc extends Px{constructor({notificationHandler:t}={}){super(),Rn(this,Ds),Rn(this,cc),Rn(this,uc),Rn(this,ou,!1),Rn(this,Wr,void 0),Rn(this,Oo,void 0),Pl(this,Wr,[]),Pl(this,Oo,t)}destroy(){Xr(this,Wr).forEach(t=>{"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}),Pl(this,Wr,[]),Pl(this,ou,!0)}push(t){Pt(this,Ds,lc).call(this),Xr(this,Wr).push(t)}handle(t,n){if(Pt(this,Ds,lc).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?n?Pt(this,cc,Fh).call(this,t,n):Pt(this,cc,Fh).call(this,t):n?Pt(this,uc,Uh).call(this,t,n):this._promiseHandle(t)}asMiddleware(){return Pt(this,Ds,lc).call(this),async(t,n,r,i)=>{var o,s;try{const[a,l,c]=await Pt(o=fc,dc,Kh).call(o,t,n,Xr(this,Wr));return l?(await Pt(s=fc,Xs,su).call(s,c),i(a)):r(async u=>{var d;try{await Pt(d=fc,Xs,su).call(d,c)}catch(f){return u(f)}return u()})}catch(a){return i(a)}}}async _promiseHandle(t){return new Promise((n,r)=>{Pt(this,uc,Uh).call(this,t,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}};ou=new WeakMap,Wr=new WeakMap,Oo=new WeakMap,Ds=new WeakSet,lc=function(){if(Xr(this,ou))throw new Error("This engine is destroyed and can no longer be used.")},cc=new WeakSet,Fh=async function(e,t){try{if(e.length===0){const r=[{id:null,jsonrpc:"2.0",error:new cr(oc,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,r):r}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return t?t(null,n):n}catch(n){if(t)return t(n);throw n}},uc=new WeakSet,Uh=async function(e,t){var n;if(!e||Array.isArray(e)||typeof e!="object"){const s=new cr(oc,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(s,{id:null,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new cr(oc,"Must specify a string method. Received: "+typeof e.method,{request:e});return Xr(this,Oo)&&!Ny(e)?t(null):t(s,{id:e.id??null,jsonrpc:"2.0",error:s})}if(Xr(this,Oo)&&us(e,m4)&&!Ny(e)){try{await Xr(this,Oo).call(this,e)}catch(s){return t(s)}return t(null)}let r=null;const i={...e},o={id:i.id,jsonrpc:i.jsonrpc};try{await Pt(n=An,Zd,Oy).call(n,i,o,Xr(this,Wr))}catch(s){r=s}return r&&(delete o.result,o.error||(o.error=My(r))),t(r,o)},Zd=new WeakSet,Oy=async function(e,t,n){var r,i,o;const[s,a,l]=await Pt(r=An,dc,Kh).call(r,e,t,n);if(Pt(i=An,Jd,Dy).call(i,e,t,a),await Pt(o=An,Xs,su).call(o,l),s)throw s},dc=new WeakSet,Kh=async function(e,t,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Pt(r=An,Qd,$y).call(r,e,t,a,i),s)break;return[o,s,i.reverse()]},Qd=new WeakSet,$y=async function(e,t,n,r){return new Promise(i=>{const o=a=>{const l=a||t.error;l&&(t.error=My(l)),i([l,!0])},s=a=>{t.error?o(t.error):(a&&(typeof a!="function"&&o(new cr(Zs,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof a}" for request:
${Xd(e)}`,{request:e})),r.push(a)),i([null,!1]))};try{n(e,t,s,o)}catch(a){o(a)}})},Xs=new WeakSet,su=async function(e){for(const t of e)await new Promise((n,r)=>{t(i=>i?r(i):n())})},Jd=new WeakSet,Dy=function(e,t,n){if(!tu(t,"result")&&!tu(t,"error"))throw new cr(Zs,`JsonRpcEngine: Response has no error or result for request:
${Xd(e)}`,{request:e});if(!n)throw new cr(Zs,`JsonRpcEngine: Nothing ended request:
${Xd(e)}`,{request:e})},Rn(An,Zd),Rn(An,dc),Rn(An,Qd),Rn(An,Xs),Rn(An,Jd);var k4=An;function Xd(e){return JSON.stringify(e,null,2)}var Lx=Object.freeze(["eth_subscription"]),C4=(e=console)=>[(t,n,r,i)=>{const o=t.id,s=vy=(vy+1)%cx;t.id=s,n.id=s,r(a=>{t.id=o,n.id=o,a()})},_4(e),e4(e)];function _4(e){return(t,n,r)=>{typeof t.method=="string"&&t.method||(n.error=Js({message:"The request 'method' must be a non-empty string.",data:t})),r(i=>{const{error:o}=n;return o&&e.error(`MetaMask - RPC Error: ${o.message}`,o),i()})}}var hc=(e,t,n=!0)=>(r,i)=>{r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)},Rx=e=>!!e&&typeof e=="string"&&e.startsWith("0x"),jx=()=>{};async function By(e,t){try{const n=await async function(){return{name:N4(window),icon:await A4(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},jx)}catch(n){t.error({message:We.errors.sendSiteMetadata(),originalError:n})}}function N4(e){const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function A4(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await M4(r.href))return r.href;return null}async function M4(e){return new Promise((t,n)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(r){n(r)}})}var Ix=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Yn=(e,t,n)=>(Ix(e,t,"read from private field"),n?n.call(e):t.get(e)),zh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ur=(e,t,n,r)=>(Ix(e,t,"write to private field"),t.set(e,n),n);function Fy(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout(()=>{throw r})}}class T4 extends Pe{emit(t,...n){let r=t==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error("Unhandled error."+(s?` (${s.message})`:""));throw a.context=s,a}const o=i[t];if(o===void 0)return!1;if(typeof o=="function")Fy(o,this,n);else{const s=o.length,a=function(l){const c=l.length,u=new Array(c);for(let d=0;d<c;d+=1)u[d]=l[d];return u}(o);for(let l=0;l<s;l+=1)Fy(a[l],this,n)}return!0}}var Ur,Ai,P4=Du(function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;i--!=0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}),Ox=class $x extends T4{constructor({logger:t=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),zh(this,Ur,void 0),zh(this,Ai,void 0),this._log=t,this.setMaxListeners(n),this._state={...$x._defaultState},ur(this,Ai,null),ur(this,Ur,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new k4;r.forEach(o=>i.push(o)),this._rpcEngine=i}get chainId(){return Yn(this,Ur)}get selectedAddress(){return Yn(this,Ai)}isConnected(){return this._state.isConnected}async request(t){if(!t||typeof t!="object"||Array.isArray(t))throw Js({message:We.errors.invalidRequestArgs(),data:t});const{method:n,params:r}=t;if(typeof n!="string"||n.length===0)throw Js({message:We.errors.invalidRequestMethod(),data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Js({message:We.errors.invalidRequestParams(),data:t});const i=r==null?{method:n}:{method:n,params:r};return new Promise((o,s)=>{this._rpcRequest(i,hc(o,s))})}_initializeState(t){if(this._state.initialized)throw new Error("Provider already initialized.");if(t){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:o}=t;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:o}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(t,n){let r=n;return Array.isArray(t)||(t.jsonrpc||(t.jsonrpc="2.0"),t.method!=="eth_accounts"&&t.method!=="eth_requestAccounts"||(r=(i,o)=>{this._handleAccountsChanged(o.result??[],t.method==="eth_accounts"),n(i,o)})),this._rpcEngine.handle(t,r)}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),this._log.debug(We.info.connected(t)))}_handleDisconnect(t,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let r;this._state.isConnected=!1,t?(r=new cr(1013,n??We.errors.disconnected()),this._log.debug(r)):(r=new cr(1011,n??We.errors.permanentlyDisconnected()),this._log.error(r),ur(this,Ur,null),this._state.accounts=null,ur(this,Ai,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:t}={}){Rx(t)?(this._handleConnect(t),t!==Yn(this,Ur)&&(ur(this,Ur,t),this._state.initialized&&this.emit("chainChanged",Yn(this,Ur)))):this._log.error(We.errors.invalidNetworkParams(),{chainId:t})}_handleAccountsChanged(t,n=!1){let r=t;Array.isArray(t)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",t),r=[]);for(const i of t)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",t),r=[];break}if(!P4(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,Yn(this,Ai)!==r[0]&&ur(this,Ai,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:t,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(t??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Ur=new WeakMap,Ai=new WeakMap,Ox._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var b0,L4=Ox,Hh={exports:{}},Dx=w0.EventEmitter,x0=Va(J5);b0=typeof Object.create=="function"?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var Bx=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},R4=/%[sdj%]/g;function Uu(e){if(!La(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(nr(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(R4,function(a){if(a==="%%")return"%";if(n>=i)return a;switch(a){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return a}}),s=r[n];n<i;s=r[++n])Ga(s)||!no(s)?o+=" "+s:o+=" "+nr(s);return o}function E0(e,t){if(Qn($t.process))return function(){return E0(e,t).apply(this,arguments)};if(Me.noDeprecation===!0)return e;var n=!1;return function(){if(!n){if(Me.throwDeprecation)throw new Error(t);Me.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}var ef,Rl={};function Fx(e){return Qn(ef)&&(ef=Me.env.NODE_DEBUG||""),e=e.toUpperCase(),Rl[e]||(new RegExp("\\b"+e+"\\b","i").test(ef)?Rl[e]=function(){var t=Uu.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:Rl[e]=function(){}),Rl[e]}function nr(e,t){var n={seen:[],stylize:I4};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Ku(t)?n.showHidden=t:t&&_0(n,t),Qn(n.showHidden)&&(n.showHidden=!1),Qn(n.depth)&&(n.depth=2),Qn(n.colors)&&(n.colors=!1),Qn(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=j4),au(n,e,n.depth)}function j4(e,t){var n=nr.styles[t];return n?"\x1B["+nr.colors[n][0]+"m"+e+"\x1B["+nr.colors[n][1]+"m":e}function I4(e,t){return e}function au(e,t,n){if(e.customInspect&&t&&na(t.inspect)&&t.inspect!==nr&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return La(r)||(r=au(e,r,n)),r}var i=function(f,m){if(Qn(m))return f.stylize("undefined","undefined");if(La(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(g,"string")}return k0(m)?f.stylize(""+m,"number"):Ku(m)?f.stylize(""+m,"boolean"):Ga(m)?f.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),s=function(f){var m={};return f.forEach(function(g,y){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),ta(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return tf(t);if(o.length===0){if(na(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(ea(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(lu(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ta(t))return tf(t)}var l,c="",u=!1,d=["{","}"];return S0(t)&&(u=!0,d=["[","]"]),na(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),ea(t)&&(c=" "+RegExp.prototype.toString.call(t)),lu(t)&&(c=" "+Date.prototype.toUTCString.call(t)),ta(t)&&(c=" "+tf(t)),o.length!==0||u&&t.length!=0?n<0?ea(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?function(f,m,g,y,x){for(var p=[],w=0,v=m.length;w<v;++w)Wx(m,String(w))?p.push(nf(f,m,g,y,String(w),!0)):p.push("");return x.forEach(function(k){k.match(/^\d+$/)||p.push(nf(f,m,g,y,k,!0))}),p}(e,t,n,s,o):o.map(function(f){return nf(e,t,n,s,f,u)}),e.seen.pop(),function(f,m,g){var y=f.reduce(function(x,p){return p.indexOf(`
`),x+p.replace(/\u001b\[\d\d?m/g,"").length+1},0);return y>60?g[0]+(m===""?"":m+`
 `)+" "+f.join(`,
  `)+" "+g[1]:g[0]+m+" "+f.join(", ")+" "+g[1]}(l,c,d)):d[0]+c+d[1]}function tf(e){return"["+Error.prototype.toString.call(e)+"]"}function nf(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),Wx(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=Ga(n)?au(e,l.value,null):au(e,l.value,n-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):`
`+a.split(`
`).map(function(c){return"   "+c}).join(`
`)):a=e.stylize("[Circular]","special")),Qn(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function S0(e){return Array.isArray(e)}function Ku(e){return typeof e=="boolean"}function Ga(e){return e===null}function Ux(e){return e==null}function k0(e){return typeof e=="number"}function La(e){return typeof e=="string"}function Kx(e){return typeof e=="symbol"}function Qn(e){return e===void 0}function ea(e){return no(e)&&C0(e)==="[object RegExp]"}function no(e){return typeof e=="object"&&e!==null}function lu(e){return no(e)&&C0(e)==="[object Date]"}function ta(e){return no(e)&&(C0(e)==="[object Error]"||e instanceof Error)}function na(e){return typeof e=="function"}function zx(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||e===void 0}function Hx(e){return oe.isBuffer(e)}function C0(e){return Object.prototype.toString.call(e)}function rf(e){return e<10?"0"+e.toString(10):e.toString(10)}nr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var O4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Vx(){var e,t;console.log("%s - %s",(t=[rf((e=new Date).getHours()),rf(e.getMinutes()),rf(e.getSeconds())].join(":"),[e.getDate(),O4[e.getMonth()],t].join(" ")),Uu.apply(null,arguments))}function _0(e,t){if(!t||!no(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function Wx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mi=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function N0(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Mi&&e[Mi]){var t;if(typeof(t=e[Mi])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Mi,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var n,r,i=new Promise(function(a,l){n=a,r=l}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(a,l){a?r(a):n(l)});try{e.apply(this,o)}catch(a){r(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Mi&&Object.defineProperty(t,Mi,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Bx(e))}function $4(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function qx(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(a){Me.nextTick(s.bind(null,null,a))},function(a){Me.nextTick($4.bind(null,a,s))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Bx(e)),t}N0.custom=Mi;var of,Uy,D4={inherits:b0,_extend:_0,log:Vx,isBuffer:Hx,isPrimitive:zx,isFunction:na,isError:ta,isDate:lu,isObject:no,isRegExp:ea,isUndefined:Qn,isSymbol:Kx,isString:La,isNumber:k0,isNullOrUndefined:Ux,isNull:Ga,isBoolean:Ku,isArray:S0,inspect:nr,deprecate:E0,format:Uu,debuglog:Fx,promisify:N0,callbackify:qx},Gx=Va(Object.freeze({__proto__:null,_extend:_0,callbackify:qx,debuglog:Fx,default:D4,deprecate:E0,format:Uu,inherits:b0,inspect:nr,isArray:S0,isBoolean:Ku,isBuffer:Hx,isDate:lu,isError:ta,isFunction:na,isNull:Ga,isNullOrUndefined:Ux,isNumber:k0,isObject:no,isPrimitive:zx,isRegExp:ea,isString:La,isSymbol:Kx,isUndefined:Qn,log:Vx,promisify:N0}));function B4(){if(Uy)return of;function e(a,l){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),c.push.apply(c,u)}return c}function t(a){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?e(Object(c),!0).forEach(function(u){n(a,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(c,u))})}return a}function n(a,l,c){return(l=r(l))in a?Object.defineProperty(a,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[l]=c,a}function r(a){var l=function(c,u){if(typeof c!="object"||c===null)return c;var d=c[Symbol.toPrimitive];if(d!==void 0){var f=d.call(c,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}(a);return typeof l=="symbol"?l:String(l)}Uy=1;var i=x0.Buffer,o=Gx.inspect,s=o&&o.custom||"inspect";return of=function(){function a(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return function(l,c,u){c&&function(d,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,r(g.key),g)}}(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1})}(a,[{key:"push",value:function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u}},{key:"concat",value:function(l){if(this.length===0)return i.alloc(0);for(var c,u,d,f=i.allocUnsafe(l>>>0),m=this.head,g=0;m;)c=m.data,u=f,d=g,i.prototype.copy.call(c,u,d),g+=m.data.length,m=m.next;return f}},{key:"consume",value:function(l,c){var u;return l<this.head.data.length?(u=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):u=l===this.head.data.length?this.shift():c?this._getString(l):this._getBuffer(l),u}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var c=this.head,u=1,d=c.data;for(l-=d.length;c=c.next;){var f=c.data,m=l>f.length?f.length:l;if(m===f.length?d+=f:d+=f.slice(0,l),(l-=m)==0){m===f.length?(++u,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=f.slice(m));break}++u}return this.length-=u,d}},{key:"_getBuffer",value:function(l){var c=i.allocUnsafe(l),u=this.head,d=1;for(u.data.copy(c),l-=u.data.length;u=u.next;){var f=u.data,m=l>f.length?f.length:l;if(f.copy(c,c.length-l,0,m),(l-=m)==0){m===f.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=f.slice(m));break}++d}return this.length-=d,c}},{key:s,value:function(l,c){return o(this,t(t({},c),{},{depth:0,customInspect:!1}))}}]),a}(),of}function Ky(e,t){Vh(e,t),pc(e)}function pc(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Vh(e,t){e.emit("error",t)}var Yx={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Me.nextTick(Vh,this,e)):Me.nextTick(Vh,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?n._writableState?n._writableState.errorEmitted?Me.nextTick(pc,n):(n._writableState.errorEmitted=!0,Me.nextTick(Ky,n,o)):Me.nextTick(Ky,n,o):t?(Me.nextTick(pc,n),t(o)):Me.nextTick(pc,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}},ro={},Zx={};function un(e,t,n){n||(n=Error);var r=function(i){var o,s;function a(l,c,u){return i.call(this,function(d,f,m){return typeof t=="string"?t:t(d,f,m)}(l,c,u))||this}return s=i,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,a}(n);r.prototype.name=n.name,r.prototype.code=e,Zx[e]=r}function zy(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(r){return String(r)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:n===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}un("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),un("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i,o;if(typeof t=="string"&&(i="not ",t.substr(0,4)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(a,l,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-9,c)===l}(e," argument"))o="The ".concat(e," ").concat(r," ").concat(zy(t,"type"));else{var s=function(a,l,c){return typeof c!="number"&&(c=0),!(c+1>a.length)&&a.indexOf(".",c)!==-1}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(zy(t,"type"))}return o+". Received type ".concat(typeof n)},TypeError),un("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),un("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),un("ERR_STREAM_PREMATURE_CLOSE","Premature close"),un("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),un("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),un("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),un("ERR_STREAM_WRITE_AFTER_END","write after end"),un("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),un("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),un("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ro.codes=Zx;var sf,Hy,af,Vy,F4=ro.codes.ERR_INVALID_OPT_VALUE,Qx={getHighWaterMark:function(e,t,n,r){var i=function(o,s,a){return o.highWaterMark!=null?o.highWaterMark:s?o[a]:null}(t,r,n);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new F4(r?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}},U4=typeof Object.create=="function"?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Ya=Va(Object.freeze({__proto__:null,default:U4})),K4=function(e,t){if(lf("noDeprecation"))return e;var n=!1;return function(){if(!n){if(lf("throwDeprecation"))throw new Error(t);lf("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function lf(e){try{if(!xn.localStorage)return!1}catch{return!1}var t=xn.localStorage[e];return t!=null&&String(t).toLowerCase()==="true"}function Jx(){if(Hy)return sf;function e(z){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(b,S,M){var T=b.entry;for(b.entry=null;T;){var _=T.callback;S.pendingcb--,_(void 0),T=T.next}S.corkedRequestsFree.next=b})(E,z)}}var t;Hy=1,sf=P,P.WritableState=k;var n,r=K4,i=Dx,o=x0.Buffer,s=(xn!==void 0?xn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a=Yx,l=Qx.getHighWaterMark,c=ro.codes,u=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,m=c.ERR_STREAM_CANNOT_PIPE,g=c.ERR_STREAM_DESTROYED,y=c.ERR_STREAM_NULL_VALUES,x=c.ERR_STREAM_WRITE_AFTER_END,p=c.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;function v(){}function k(z,E,b){t=t||is(),z=z||{},typeof b!="boolean"&&(b=E instanceof t),this.objectMode=!!z.objectMode,b&&(this.objectMode=this.objectMode||!!z.writableObjectMode),this.highWaterMark=l(this,z,"writableHighWaterMark",b),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=z.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){(function(T,_){var A=T._writableState,I=A.sync,j=A.writecb;if(typeof j!="function")throw new f;if(function(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}(A),_)(function(N,L,R,$,V){--L.pendingcb,R?(Me.nextTick(V,$),Me.nextTick(K,N,L),N._writableState.errorEmitted=!0,w(N,$)):(V($),N._writableState.errorEmitted=!0,w(N,$),K(N,L))})(T,A,I,_,j);else{var C=H(A)||T.destroyed;C||A.corked||A.bufferProcessing||!A.bufferedRequest||B(T,A),I?Me.nextTick(F,T,A,C,j):F(T,A,C,j)}})(E,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function P(z){var E=this instanceof(t=t||is());if(!E&&!n.call(P,this))return new P(z);this._writableState=new k(z,this,E),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),i.call(this)}function O(z,E,b,S,M,T,_){E.writelen=S,E.writecb=_,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new g("write")):b?z._writev(M,E.onwrite):z._write(M,T,E.onwrite),E.sync=!1}function F(z,E,b,S){b||function(M,T){T.length===0&&T.needDrain&&(T.needDrain=!1,M.emit("drain"))}(z,E),E.pendingcb--,S(),K(z,E)}function B(z,E){E.bufferProcessing=!0;var b=E.bufferedRequest;if(z._writev&&b&&b.next){var S=E.bufferedRequestCount,M=new Array(S),T=E.corkedRequestsFree;T.entry=b;for(var _=0,A=!0;b;)M[_]=b,b.isBuf||(A=!1),b=b.next,_+=1;M.allBuffers=A,O(z,E,!0,E.length,M,"",T.finish),E.pendingcb++,E.lastBufferedRequest=null,T.next?(E.corkedRequestsFree=T.next,T.next=null):E.corkedRequestsFree=new e(E),E.bufferedRequestCount=0}else{for(;b;){var I=b.chunk,j=b.encoding,C=b.callback;if(O(z,E,!1,E.objectMode?1:I.length,I,j,C),b=b.next,E.bufferedRequestCount--,E.writing)break}b===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=b,E.bufferProcessing=!1}function H(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function D(z,E){z._final(function(b){E.pendingcb--,b&&w(z,b),E.prefinished=!0,z.emit("prefinish"),K(z,E)})}function K(z,E){var b=H(E);if(b&&(function(M,T){T.prefinished||T.finalCalled||(typeof M._final!="function"||T.destroyed?(T.prefinished=!0,M.emit("prefinish")):(T.pendingcb++,T.finalCalled=!0,Me.nextTick(D,M,T)))}(z,E),E.pendingcb===0&&(E.finished=!0,z.emit("finish"),E.autoDestroy))){var S=z._readableState;(!S||S.autoDestroy&&S.endEmitted)&&z.destroy()}return b}return Ya(P,i),k.prototype.getBuffer=function(){for(var z=this.bufferedRequest,E=[];z;)E.push(z),z=z.next;return E},function(){try{Object.defineProperty(k.prototype,"buffer",{get:r(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(z){return!!n.call(this,z)||this===P&&z&&z._writableState instanceof k}})):n=function(z){return z instanceof this},P.prototype.pipe=function(){w(this,new m)},P.prototype.write=function(z,E,b){var S,M=this._writableState,T=!1,_=!M.objectMode&&(S=z,o.isBuffer(S)||S instanceof s);return _&&!o.isBuffer(z)&&(z=function(A){return o.from(A)}(z)),typeof E=="function"&&(b=E,E=null),_?E="buffer":E||(E=M.defaultEncoding),typeof b!="function"&&(b=v),M.ending?function(A,I){var j=new x;w(A,j),Me.nextTick(I,j)}(this,b):(_||function(A,I,j,C){var N;return j===null?N=new y:typeof j=="string"||I.objectMode||(N=new u("chunk",["string","Buffer"],j)),!N||(w(A,N),Me.nextTick(C,N),!1)}(this,M,z,b))&&(M.pendingcb++,T=function(A,I,j,C,N,L){if(!j){var R=function(q,Y,J){return q.objectMode||q.decodeStrings===!1||typeof Y!="string"||(Y=o.from(Y,J)),Y}(I,C,N);C!==R&&(j=!0,N="buffer",C=R)}var $=I.objectMode?1:C.length;I.length+=$;var V=I.length<I.highWaterMark;if(V||(I.needDrain=!0),I.writing||I.corked){var U=I.lastBufferedRequest;I.lastBufferedRequest={chunk:C,encoding:N,isBuf:j,callback:L,next:null},U?U.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else O(A,I,!1,$,C,N,L);return V}(this,M,_,z,E,b)),T},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,z.writing||z.corked||z.bufferProcessing||!z.bufferedRequest||B(this,z))},P.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new p(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(z,E,b){b(new d("_write()"))},P.prototype._writev=null,P.prototype.end=function(z,E,b){var S=this._writableState;return typeof z=="function"?(b=z,z=null,E=null):typeof E=="function"&&(b=E,E=null),z!=null&&this.write(z,E),S.corked&&(S.corked=1,this.uncork()),S.ending||function(M,T,_){T.ending=!0,K(M,T),_&&(T.finished?Me.nextTick(_):M.once("finish",_)),T.ended=!0,M.writable=!1}(this,S,b),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),P.prototype.destroy=a.destroy,P.prototype._undestroy=a.undestroy,P.prototype._destroy=function(z,E){E(z)},sf}function is(){if(Vy)return af;Vy=1;var e=Object.keys||function(c){var u=[];for(var d in c)u.push(d);return u};af=s;var t=Xx(),n=Jx();Ya(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(c){if(!(this instanceof s))return new s(c);t.call(this,c),n.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||Me.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),af}var z4=oe.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function mc(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!z4(t))throw new Error("Unknown encoding: "+t)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=V4;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=W4;break;default:return void(this.write=H4)}this.charBuffer=new oe(6),this.charReceived=0,this.charLength=0}function H4(e){return e.toString(this.encoding)}function V4(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function W4(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}mc.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((r=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,e.length===0)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(r=t.charCodeAt(i))>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},mc.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(t==1&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},mc.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t};var Wy=Va(Object.freeze({__proto__:null,StringDecoder:mc})),qy=ro.codes.ERR_STREAM_PREMATURE_CLOSE;function q4(){}var cf,Gy,Yy,Zy,uf,Qy,A0=function e(t,n,r){if(typeof n=="function")return e(t,null,n);n||(n={}),r=function(g){var y=!1;return function(){if(!y){y=!0;for(var x=arguments.length,p=new Array(x),w=0;w<x;w++)p[w]=arguments[w];g.apply(this,p)}}}(r||q4);var i=n.readable||n.readable!==!1&&t.readable,o=n.writable||n.writable!==!1&&t.writable,s=function(){t.writable||l()},a=t._writableState&&t._writableState.finished,l=function(){o=!1,a=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){i=!1,c=!0,o||r.call(t)},d=function(g){r.call(t,g)},f=function(){var g;return i&&!c?(t._readableState&&t._readableState.ended||(g=new qy),r.call(t,g)):o&&!a?(t._writableState&&t._writableState.ended||(g=new qy),r.call(t,g)):void 0},m=function(){t.req.on("finish",l)};return function(g){return g.setHeader&&typeof g.abort=="function"}(t)?(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",l),n.error!==!1&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",l),t.removeListener("end",u),t.removeListener("error",d),t.removeListener("close",f)}};function Xx(){if(Qy)return uf;var e;Qy=1,uf=P,P.ReadableState=k,w0.EventEmitter;var t,n=function(C,N){return C.listeners(N).length},r=Dx,i=x0.Buffer,o=(xn!==void 0?xn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s=Gx;t=s&&s.debuglog?s.debuglog("stream"):function(){};var a,l,c,u=B4(),d=Yx,f=Qx.getHighWaterMark,m=ro.codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,x=m.ERR_METHOD_NOT_IMPLEMENTED,p=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Ya(P,r);var w=d.errorOrDestroy,v=["error","close","destroy","pause","resume"];function k(C,N,L){e=e||is(),C=C||{},typeof L!="boolean"&&(L=N instanceof e),this.objectMode=!!C.objectMode,L&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=f(this,C,"readableHighWaterMark",L),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(a||(a=Wy.StringDecoder),this.decoder=new a(C.encoding),this.encoding=C.encoding)}function P(C){if(e=e||is(),!(this instanceof P))return new P(C);var N=this instanceof e;this._readableState=new k(C,this,N),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),r.call(this)}function O(C,N,L,R,$){t("readableAddChunk",N);var V,U=C._readableState;if(N===null)U.reading=!1,function(q,Y){if(t("onEofChunk"),!Y.ended){if(Y.decoder){var J=Y.decoder.end();J&&J.length&&(Y.buffer.push(J),Y.length+=Y.objectMode?1:J.length)}Y.ended=!0,Y.sync?D(q):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,K(q)))}}(C,U);else if($||(V=function(q,Y){var J,G;return G=Y,i.isBuffer(G)||G instanceof o||typeof Y=="string"||Y===void 0||q.objectMode||(J=new g("chunk",["string","Buffer","Uint8Array"],Y)),J}(U,N)),V)w(C,V);else if(U.objectMode||N&&N.length>0)if(typeof N=="string"||U.objectMode||Object.getPrototypeOf(N)===i.prototype||(N=function(q){return i.from(q)}(N)),R)U.endEmitted?w(C,new p):F(C,U,N,!0);else if(U.ended)w(C,new y);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!L?(N=U.decoder.write(N),U.objectMode||N.length!==0?F(C,U,N,!1):z(C,U)):F(C,U,N,!1)}else R||(U.reading=!1,z(C,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function F(C,N,L,R){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,C.emit("data",L)):(N.length+=N.objectMode?1:L.length,R?N.buffer.unshift(L):N.buffer.push(L),N.needReadable&&D(C)),z(C,N)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),P.prototype.destroy=d.destroy,P.prototype._undestroy=d.undestroy,P.prototype._destroy=function(C,N){N(C)},P.prototype.push=function(C,N){var L,R=this._readableState;return R.objectMode?L=!0:typeof C=="string"&&((N=N||R.defaultEncoding)!==R.encoding&&(C=i.from(C,N),N=""),L=!0),O(this,C,N,!1,L)},P.prototype.unshift=function(C){return O(this,C,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(C){a||(a=Wy.StringDecoder);var N=new a(C);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,R="";L!==null;)R+=N.write(L.data),L=L.next;return this._readableState.buffer.clear(),R!==""&&this._readableState.buffer.push(R),this._readableState.length=R.length,this};var B=1073741824;function H(C,N){return C<=0||N.length===0&&N.ended?0:N.objectMode?1:C!=C?N.flowing&&N.length?N.buffer.head.data.length:N.length:(C>N.highWaterMark&&(N.highWaterMark=function(L){return L>=B?L=B:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(C)),C<=N.length?C:N.ended?N.length:(N.needReadable=!0,0))}function D(C){var N=C._readableState;t("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(t("emitReadable",N.flowing),N.emittedReadable=!0,Me.nextTick(K,C))}function K(C){var N=C._readableState;t("emitReadable_",N.destroyed,N.length,N.ended),N.destroyed||!N.length&&!N.ended||(C.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,T(C)}function z(C,N){N.readingMore||(N.readingMore=!0,Me.nextTick(E,C,N))}function E(C,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var L=N.length;if(t("maybeReadMore read 0"),C.read(0),L===N.length)break}N.readingMore=!1}function b(C){var N=C._readableState;N.readableListening=C.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:C.listenerCount("data")>0&&C.resume()}function S(C){t("readable nexttick read 0"),C.read(0)}function M(C,N){t("resume",N.reading),N.reading||C.read(0),N.resumeScheduled=!1,C.emit("resume"),T(C),N.flowing&&!N.reading&&C.read(0)}function T(C){var N=C._readableState;for(t("flow",N.flowing);N.flowing&&C.read()!==null;);}function _(C,N){return N.length===0?null:(N.objectMode?L=N.buffer.shift():!C||C>=N.length?(L=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):L=N.buffer.consume(C,N.decoder),L);var L}function A(C){var N=C._readableState;t("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,Me.nextTick(I,N,C))}function I(C,N){if(t("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,N.readable=!1,N.emit("end"),C.autoDestroy)){var L=N._writableState;(!L||L.autoDestroy&&L.finished)&&N.destroy()}}function j(C,N){for(var L=0,R=C.length;L<R;L++)if(C[L]===N)return L;return-1}return P.prototype.read=function(C){t("read",C),C=parseInt(C,10);var N=this._readableState,L=C;if(C!==0&&(N.emittedReadable=!1),C===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return t("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?A(this):D(this),null;if((C=H(C,N))===0&&N.ended)return N.length===0&&A(this),null;var R,$=N.needReadable;return t("need readable",$),(N.length===0||N.length-C<N.highWaterMark)&&t("length less than watermark",$=!0),N.ended||N.reading?t("reading or ended",$=!1):$&&(t("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(C=H(L,N))),(R=C>0?_(C,N):null)===null?(N.needReadable=N.length<=N.highWaterMark,C=0):(N.length-=C,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),L!==C&&N.ended&&A(this)),R!==null&&this.emit("data",R),R},P.prototype._read=function(C){w(this,new x("_read()"))},P.prototype.pipe=function(C,N){var L=this,R=this._readableState;switch(R.pipesCount){case 0:R.pipes=C;break;case 1:R.pipes=[R.pipes,C];break;default:R.pipes.push(C)}R.pipesCount+=1,t("pipe count=%d opts=%j",R.pipesCount,N);var $=N&&N.end===!1||C===Me.stdout||C===Me.stderr?fe:V;function V(){t("onend"),C.end()}R.endEmitted?Me.nextTick($):L.once("end",$),C.on("unpipe",function X(ie,te){t("onunpipe"),ie===L&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,t("cleanup"),C.removeListener("close",G),C.removeListener("finish",ce),C.removeListener("drain",U),C.removeListener("error",J),C.removeListener("unpipe",X),L.removeListener("end",V),L.removeListener("end",fe),L.removeListener("data",Y),q=!0,!R.awaitDrain||C._writableState&&!C._writableState.needDrain||U())});var U=function(X){return function(){var ie=X._readableState;t("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&n(X,"data")&&(ie.flowing=!0,T(X))}}(L);C.on("drain",U);var q=!1;function Y(X){t("ondata");var ie=C.write(X);t("dest.write",ie),ie===!1&&((R.pipesCount===1&&R.pipes===C||R.pipesCount>1&&j(R.pipes,C)!==-1)&&!q&&(t("false write response, pause",R.awaitDrain),R.awaitDrain++),L.pause())}function J(X){t("onerror",X),fe(),C.removeListener("error",J),n(C,"error")===0&&w(C,X)}function G(){C.removeListener("finish",ce),fe()}function ce(){t("onfinish"),C.removeListener("close",G),fe()}function fe(){t("unpipe"),L.unpipe(C)}return L.on("data",Y),function(X,ie,te){if(typeof X.prependListener=="function")return X.prependListener(ie,te);X._events&&X._events[ie]?Array.isArray(X._events[ie])?X._events[ie].unshift(te):X._events[ie]=[te,X._events[ie]]:X.on(ie,te)}(C,"error",J),C.once("close",G),C.once("finish",ce),C.emit("pipe",L),R.flowing||(t("pipe resume"),L.resume()),C},P.prototype.unpipe=function(C){var N=this._readableState,L={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return C&&C!==N.pipes||(C||(C=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,C&&C.emit("unpipe",this,L)),this;if(!C){var R=N.pipes,$=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var V=0;V<$;V++)R[V].emit("unpipe",this,{hasUnpiped:!1});return this}var U=j(N.pipes,C);return U===-1||(N.pipes.splice(U,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),C.emit("unpipe",this,L)),this},P.prototype.on=function(C,N){var L=r.prototype.on.call(this,C,N),R=this._readableState;return C==="data"?(R.readableListening=this.listenerCount("readable")>0,R.flowing!==!1&&this.resume()):C==="readable"&&(R.endEmitted||R.readableListening||(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,t("on readable",R.length,R.reading),R.length?D(this):R.reading||Me.nextTick(S,this))),L},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(C,N){var L=r.prototype.removeListener.call(this,C,N);return C==="readable"&&Me.nextTick(b,this),L},P.prototype.removeAllListeners=function(C){var N=r.prototype.removeAllListeners.apply(this,arguments);return C!=="readable"&&C!==void 0||Me.nextTick(b,this),N},P.prototype.resume=function(){var C=this._readableState;return C.flowing||(t("resume"),C.flowing=!C.readableListening,function(N,L){L.resumeScheduled||(L.resumeScheduled=!0,Me.nextTick(M,N,L))}(this,C)),C.paused=!1,this},P.prototype.pause=function(){return t("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(t("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(C){var N=this,L=this._readableState,R=!1;for(var $ in C.on("end",function(){if(t("wrapped end"),L.decoder&&!L.ended){var U=L.decoder.end();U&&U.length&&N.push(U)}N.push(null)}),C.on("data",function(U){t("wrapped data"),L.decoder&&(U=L.decoder.write(U)),L.objectMode&&U==null||(L.objectMode||U&&U.length)&&(N.push(U)||(R=!0,C.pause()))}),C)this[$]===void 0&&typeof C[$]=="function"&&(this[$]=function(U){return function(){return C[U].apply(C,arguments)}}($));for(var V=0;V<v.length;V++)C.on(v[V],this.emit.bind(this,v[V]));return this._read=function(U){t("wrapped _read",U),R&&(R=!1,C.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return l===void 0&&(l=function(){if(Gy)return cf;var C;function N(te,re,se){return(re=function(de){var he=function(pe,ve){if(typeof pe!="object"||pe===null)return pe;var we=pe[Symbol.toPrimitive];if(we!==void 0){var Ae=we.call(pe,"string");if(typeof Ae!="object")return Ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(de);return typeof he=="symbol"?he:String(he)}(re))in te?Object.defineProperty(te,re,{value:se,enumerable:!0,configurable:!0,writable:!0}):te[re]=se,te}Gy=1;var L=A0,R=Symbol("lastResolve"),$=Symbol("lastReject"),V=Symbol("error"),U=Symbol("ended"),q=Symbol("lastPromise"),Y=Symbol("handlePromise"),J=Symbol("stream");function G(te,re){return{value:te,done:re}}function ce(te){var re=te[R];if(re!==null){var se=te[J].read();se!==null&&(te[q]=null,te[R]=null,te[$]=null,re(G(se,!1)))}}function fe(te){Me.nextTick(ce,te)}var X=Object.getPrototypeOf(function(){}),ie=Object.setPrototypeOf((N(C={get stream(){return this[J]},next:function(){var te=this,re=this[V];if(re!==null)return Promise.reject(re);if(this[U])return Promise.resolve(G(void 0,!0));if(this[J].destroyed)return new Promise(function(pe,ve){Me.nextTick(function(){te[V]?ve(te[V]):pe(G(void 0,!0))})});var se,de=this[q];if(de)se=new Promise(function(pe,ve){return function(we,Ae){pe.then(function(){ve[U]?we(G(void 0,!0)):ve[Y](we,Ae)},Ae)}}(de,this));else{var he=this[J].read();if(he!==null)return Promise.resolve(G(he,!1));se=new Promise(this[Y])}return this[q]=se,se}},Symbol.asyncIterator,function(){return this}),N(C,"return",function(){var te=this;return new Promise(function(re,se){te[J].destroy(null,function(de){de?se(de):re(G(void 0,!0))})})}),C),X);return cf=function(te){var re,se=Object.create(ie,(N(re={},J,{value:te,writable:!0}),N(re,R,{value:null,writable:!0}),N(re,$,{value:null,writable:!0}),N(re,V,{value:null,writable:!0}),N(re,U,{value:te._readableState.endEmitted,writable:!0}),N(re,Y,{value:function(de,he){var pe=se[J].read();pe?(se[q]=null,se[R]=null,se[$]=null,de(G(pe,!1))):(se[R]=de,se[$]=he)},writable:!0}),re));return se[q]=null,L(te,function(de){if(de&&de.code!=="ERR_STREAM_PREMATURE_CLOSE"){var he=se[$];return he!==null&&(se[q]=null,se[R]=null,se[$]=null,he(de)),void(se[V]=de)}var pe=se[R];pe!==null&&(se[q]=null,se[R]=null,se[$]=null,pe(G(void 0,!0))),se[U]=!0}),te.on("readable",fe.bind(null,se)),se},cf}()),l(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),P._fromList=_,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(C,N){return c===void 0&&(c=Zy?Yy:(Zy=1,Yy=function(){throw new Error("Readable.from is not available in the browser")})),c(P,C,N)}),uf}var eE=dr,zu=ro.codes,G4=zu.ERR_METHOD_NOT_IMPLEMENTED,Y4=zu.ERR_MULTIPLE_CALLBACK,Z4=zu.ERR_TRANSFORM_ALREADY_TRANSFORMING,Q4=zu.ERR_TRANSFORM_WITH_LENGTH_0,gc=is();function J4(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new Y4);n.writechunk=null,n.writecb=null,t!=null&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function dr(e){if(!(this instanceof dr))return new dr(e);gc.call(this,e),this._transformState={afterTransform:J4.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",X4)}function X4(){var e=this;typeof this._flush!="function"||this._readableState.destroyed?Jy(this,null,null):this._flush(function(t,n){Jy(e,t,n)})}function Jy(e,t,n){if(t)return e.emit("error",t);if(n!=null&&e.push(n),e._writableState.length)throw new Q4;if(e._transformState.transforming)throw new Z4;return e.push(null)}Ya(dr,gc),dr.prototype.push=function(e,t){return this._transformState.needTransform=!1,gc.prototype.push.call(this,e,t)},dr.prototype._transform=function(e,t,n){n(new G4("_transform()"))},dr.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},dr.prototype._read=function(e){var t=this._transformState;t.writechunk===null||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},dr.prototype._destroy=function(e,t){gc.prototype._destroy.call(this,e,function(n){t(n)})};var df,e_=Ra,tE=eE;function Ra(e){if(!(this instanceof Ra))return new Ra(e);tE.call(this,e)}Ya(Ra,tE),Ra.prototype._transform=function(e,t,n){n(null,e)};var nE=ro.codes,t_=nE.ERR_MISSING_ARGS,n_=nE.ERR_STREAM_DESTROYED;function Xy(e){if(e)throw e}function e1(e){e()}function r_(e,t){return e.pipe(t)}var i_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=function(s){return s.length?typeof s[s.length-1]!="function"?Xy:s.pop():Xy}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new t_("streams");var o=t.map(function(s,a){var l=a<t.length-1;return function(c,u,d,f){f=function(y){var x=!1;return function(){x||(x=!0,y.apply(void 0,arguments))}}(f);var m=!1;c.on("close",function(){m=!0}),df===void 0&&(df=A0),df(c,{readable:u,writable:d},function(y){if(y)return f(y);m=!0,f()});var g=!1;return function(y){if(!m&&!g)return g=!0,function(x){return x.setHeader&&typeof x.abort=="function"}(c)?c.abort():typeof c.destroy=="function"?c.destroy():void f(y||new n_("pipe"))}}(s,l,a>0,function(c){r||(r=c),c&&o.forEach(e1),l||(o.forEach(e1),i(r))})});return t.reduce(r_)};(function(e,t){(t=Hh.exports=Xx()).Stream=t,t.Readable=t,t.Writable=Jx(),t.Duplex=is(),t.Transform=eE,t.PassThrough=e_,t.finished=A0,t.pipeline=i_})(0,Hh.exports);var Yo=Hh.exports,cu={},Wh={exports:{}},t1=function e(t,n){if(t&&n)return e(t)(n);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var s=t.apply(this,i),a=i[i.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(l){s[l]=a[l]}),s}};function jl(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function n1(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}Wh.exports=t1(jl),Wh.exports.strict=t1(n1),jl.proto=jl(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return jl(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n1(this)},configurable:!0})});var o_=Wh.exports,uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.Substream=void 0;const s_=Yo;class a_ extends s_.Duplex{constructor({parent:t,name:n}){super({objectMode:!0}),this._parent=t,this._name=n}_read(){}_write(t,n,r){this._parent.push({name:this._name,data:t}),r()}}uu.Substream=a_;var l_=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cu,"__esModule",{value:!0}),cu.ObjectMultiplex=void 0;const ff=Yo,c_=l_(o_),u_=uu,r1=Symbol("IGNORE_SUBSTREAM");let d_=class extends ff.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u_.Substream({parent:this,name:e});return this._substreams[e]=t,function(n,r){const i=(0,c_.default)(r);(0,ff.finished)(n,{readable:!1},i),(0,ff.finished)(n,{writable:!1},i)}(this,n=>t.destroy(n||void 0)),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=r1}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const o=this._substreams[r];return o?(o!==r1&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};cu.ObjectMultiplex=d_;var f_=Du(cu.ObjectMultiplex);const Un=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Un.writable=e=>Un(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object",Un.readable=e=>Un(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object",Un.duplex=e=>Un.writable(e)&&Un.readable(e),Un.transform=e=>Un.duplex(e)&&typeof e._transform=="function";var Kn,h_=Un,p_=class extends L4{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!h_.duplex(e))throw new Error(We.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new f_;Yo.pipeline(e,o,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=function(s={}){const a={},l=new Yo.Duplex({objectMode:!0,read:()=>{},write:function(d,f,m){let g=null;try{d.id?function(y){const{id:x}=y;if(x===null)return;const p=a[x];p?(delete a[x],Object.assign(p.res,y),setTimeout(p.end)):console.warn(`StreamMiddleware - Unknown response id "${x}"`)}(d):function(y){s!=null&&s.retryOnMessage&&y.method===s.retryOnMessage&&Object.values(a).forEach(({req:x,retryCount:p=0})=>{if(!x.id)return;if(p>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${x.id}"`);const w=a[x.id];w&&(w.retryCount=p+1),u(x)}),c.emit("notification",y)}(d)}catch(y){g=y}m(g)}}),c=new Px;return{events:c,middleware:(d,f,m,g)=>{a[d.id]={req:d,res:f,next:m,end:g},u(d)},stream:l};function u(d){l.push(d)}}({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),Yo.pipeline(this._jsonRpcConnection.stream,o.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",s=>{const{method:a,params:l}=s;a==="metamask_accountsChanged"?this._handleAccountsChanged(l):a==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(l):a==="metamask_chainChanged"?this._handleChainChanged(l):Lx.includes(a)?this.emit("message",{type:a,data:l}):a==="METAMASK_STREAM_FAILURE"&&e.destroy(new Error(We.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let e;try{e=await this.request({method:"metamask_getProviderState"})}catch(t){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",t)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to "${e}".`;t!=null&&t.stack&&(n+=`
${t.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){Rx(e)&&(n=>!!n&&typeof n=="string")(t)?t==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error(We.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}},m_=class extends p_{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:r,rpcMiddleware:C4(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},zh(this,Kn,void 0),this._initializeStateAsync(),ur(this,Kn,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",o=>{const{method:s}=o;Lx.includes(s)&&(this.emit("data",o),this.emit("notification",o.params.result))}),i)if(document.readyState==="complete")By(this._rpcEngine,this._log);else{const o=()=>{By(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(We.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(We.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),Yn(this,Kn)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(We.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),Yn(this,Kn)&&!e&&ur(this,Kn,null)}_warnOfDeprecation(e){var t;((t=this._sentWarnings)==null?void 0:t.events[e])===!1&&(this._log.warn(We.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(We.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},hc(e,t))}catch(n){t(n)}})}send(e,t){return this._sentWarnings.send||(this._log.warn(We.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof e!="string"||t&&!Array.isArray(t)?e&&typeof e=="object"&&typeof t=="function"?this._rpcRequest(e,t):this._sendSync(e):new Promise((n,r)=>{try{this._rpcRequest({method:e,params:t},hc(n,r,!1))}catch(i){r(i)}})}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(e,jx),t=!0;break;case"net_version":t=Yn(this,Kn)??null;break;default:throw new Error(We.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(e=>{this.on("_initialized",()=>e())}),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw Js({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise((t,n)=>{this._rpcRequest(e,hc(t,n))})}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(We.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==Yn(this,Kn)&&(ur(this,Kn,t),this._state.initialized&&this.emit("networkChanged",Yn(this,Kn)))}};Kn=new WeakMap;const Q=It("MM_SDK");let i1;Q.color="#FFAC1C";var rE={},pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.EthereumProviderError=pi.EthereumRpcError=void 0;const g_=Cx;class o1 extends Error{constructor(t,n,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=t,r!==void 0&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return g_.default(this.serialize(),y_,2)}}function y_(e,t){if(t!=="[Circular]")return t}pi.EthereumRpcError=o1,pi.EthereumProviderError=class extends o1{constructor(e,t,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};var M0={},qr={};Object.defineProperty(qr,"__esModule",{value:!0}),qr.errorValues=qr.errorCodes=void 0,qr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},qr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=qr,n=pi,r=t.errorCodes.rpc.internal,i={code:r,message:o(r)};function o(u,d="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(u)){const f=u.toString();if(c(t.errorValues,f))return t.errorValues[f].message;if(a(u))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return d}function s(u){if(!Number.isInteger(u))return!1;const d=u.toString();return!!t.errorValues[d]||!!a(u)}function a(u){return u>=-32099&&u<=-32e3}function l(u){return u&&typeof u=="object"&&!Array.isArray(u)?Object.assign({},u):u}function c(u,d){return Object.prototype.hasOwnProperty.call(u,d)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=s,e.serializeError=function(u,{fallbackError:d=i,shouldIncludeStack:f=!1}={}){var m,g;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(u instanceof n.EthereumRpcError)return u.serialize();const y={};if(u&&typeof u=="object"&&!Array.isArray(u)&&c(u,"code")&&s(u.code)){const p=u;y.code=p.code,p.message&&typeof p.message=="string"?(y.message=p.message,c(p,"data")&&(y.data=p.data)):(y.message=o(y.code),y.data={originalError:l(u)})}else{y.code=d.code;const p=(m=u)===null||m===void 0?void 0:m.message;y.message=p&&typeof p=="string"?p:d.message,y.data={originalError:l(u)}}const x=(g=u)===null||g===void 0?void 0:g.stack;return f&&u&&x&&typeof x=="string"&&(y.stack=x),y}}(M0);var du={};Object.defineProperty(du,"__esModule",{value:!0}),du.ethErrors=void 0;const T0=pi,iE=M0,xt=qr;function dn(e,t){const[n,r]=oE(t);return new T0.EthereumRpcError(e,n||iE.getMessageFromCode(e),r)}function Ms(e,t){const[n,r]=oE(t);return new T0.EthereumProviderError(e,n||iE.getMessageFromCode(e),r)}function oE(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}du.ethErrors={rpc:{parse:e=>dn(xt.errorCodes.rpc.parse,e),invalidRequest:e=>dn(xt.errorCodes.rpc.invalidRequest,e),invalidParams:e=>dn(xt.errorCodes.rpc.invalidParams,e),methodNotFound:e=>dn(xt.errorCodes.rpc.methodNotFound,e),internal:e=>dn(xt.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return dn(t,e)},invalidInput:e=>dn(xt.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>dn(xt.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>dn(xt.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>dn(xt.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>dn(xt.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>dn(xt.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Ms(xt.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Ms(xt.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Ms(xt.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Ms(xt.errorCodes.provider.disconnected,e),chainDisconnected:e=>Ms(xt.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new T0.EthereumProviderError(t,n,r)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=pi;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=M0;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=du;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=qr;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(rE);var sE={exports:{}};sE.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,(function(a){return r[a]}).bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var l=a.match(s);return l&&l.length>0&&l[1]||""},o.getSecondMatch=function(s,a){var l=a.match(s);return l&&l.length>1&&l[2]||""},o.matchAndReturnConst=function(s,a,l){if(s.test(a))return l},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,l){l===void 0&&(l=!1);var c=o.getVersionPrecision(s),u=o.getVersionPrecision(a),d=Math.max(c,u),f=0,m=o.map([s,a],function(g){var y=d-o.getVersionPrecision(g),x=g+new Array(y+1).join(".0");return o.map(x.split("."),function(p){return new Array(20-p.length).join("0")+p}).reverse()});for(l&&(f=d-Math.min(c,u)),d-=1;d>=f;){if(m[0][d]>m[1][d])return 1;if(m[0][d]===m[1][d]){if(d===f)return 0;d-=1}else if(m[0][d]<m[1][d])return-1}},o.map=function(s,a){var l,c=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(l=0;l<s.length;l+=1)c.push(a(s[l]));return c},o.find=function(s,a){var l,c;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(l=0,c=s.length;l<c;l+=1){var u=s[l];if(a(u,l))return u}},o.assign=function(s){for(var a,l,c=s,u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[s].concat(d));var m=function(){var g=d[a];typeof g=="object"&&g!==null&&Object.keys(g).forEach(function(y){c[y]=g[y]})};for(a=0,l=d.length;a<l;a+=1)m();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}var a=function(){function l(){}var c,u;return l.getParser=function(d,f){if(f===void 0&&(f=!1),typeof d!="string")throw new Error("UserAgent should be a string");return new i.default(d,f)},l.parse=function(d){return new i.default(d).getResult()},c=l,u=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],u&&s(c,u),l}();t.default=a,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=l(n(92)),i=l(n(93)),o=l(n(94)),s=l(n(95)),a=l(n(17));function l(u){return u&&u.__esModule?u:{default:u}}var c=function(){function u(f,m){if(m===void 0&&(m=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},m!==!0&&this.parse()}var d=u.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var m=a.default.find(r.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var m=a.default.find(i.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var m=this.getOS().name;return f?String(m).toLowerCase()||"":m||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var m=this.getPlatform().type;return f?String(m).toLowerCase()||"":m||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var m=a.default.find(o.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var m=a.default.find(s.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return a.default.assign({},this.parsedResult)},d.satisfies=function(f){var m=this,g={},y=0,x={},p=0;if(Object.keys(f).forEach(function(H){var D=f[H];typeof D=="string"?(x[H]=D,p+=1):typeof D=="object"&&(g[H]=D,y+=1)}),y>0){var w=Object.keys(g),v=a.default.find(w,function(H){return m.isOS(H)});if(v){var k=this.satisfies(g[v]);if(k!==void 0)return k}var P=a.default.find(w,function(H){return m.isPlatform(H)});if(P){var O=this.satisfies(g[P]);if(O!==void 0)return O}}if(p>0){var F=Object.keys(x),B=a.default.find(F,function(H){return m.isBrowser(H,!0)});if(B!==void 0)return this.compareVersion(x[B])}},d.isBrowser=function(f,m){m===void 0&&(m=!1);var g=this.getBrowserName().toLowerCase(),y=f.toLowerCase(),x=a.default.getBrowserTypeByAlias(y);return m&&x&&(y=x.toLowerCase()),y===g},d.compareVersion=function(f){var m=[0],g=f,y=!1,x=this.getBrowserVersion();if(typeof x=="string")return f[0]===">"||f[0]==="<"?(g=f.substr(1),f[1]==="="?(y=!0,g=f.substr(2)):m=[],f[0]===">"?m.push(1):m.push(-1)):f[0]==="="?g=f.substr(1):f[0]==="~"&&(y=!0,g=f.substr(1)),m.indexOf(a.default.compareVersions(x,g,y))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,m){return m===void 0&&(m=!1),this.isBrowser(f,m)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var m=this;return f===void 0&&(f=[]),f.some(function(g){return m.is(g)})},u}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var l={name:"Googlebot"},c=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/opera/i],describe:function(a){var l={name:"Opera"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/opr\/|opios/i],describe:function(a){var l={name:"Opera"},c=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/SamsungBrowser/i],describe:function(a){var l={name:"Samsung Internet for Android"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/Whale/i],describe:function(a){var l={name:"NAVER Whale Browser"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/MZBrowser/i],describe:function(a){var l={name:"MZ Browser"},c=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/focus/i],describe:function(a){var l={name:"Focus"},c=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/swing/i],describe:function(a){var l={name:"Swing"},c=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/coast/i],describe:function(a){var l={name:"Opera Coast"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var l={name:"Opera Touch"},c=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/yabrowser/i],describe:function(a){var l={name:"Yandex Browser"},c=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/ucbrowser/i],describe:function(a){var l={name:"UC Browser"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/Maxthon|mxios/i],describe:function(a){var l={name:"Maxthon"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/epiphany/i],describe:function(a){var l={name:"Epiphany"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/puffin/i],describe:function(a){var l={name:"Puffin"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/sleipnir/i],describe:function(a){var l={name:"Sleipnir"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/k-meleon/i],describe:function(a){var l={name:"K-Meleon"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/micromessenger/i],describe:function(a){var l={name:"WeChat"},c=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/qqbrowser/i],describe:function(a){var l={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},c=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/msie|trident/i],describe:function(a){var l={name:"Internet Explorer"},c=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/\sedg\//i],describe:function(a){var l={name:"Microsoft Edge"},c=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/edg([ea]|ios)/i],describe:function(a){var l={name:"Microsoft Edge"},c=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/vivaldi/i],describe:function(a){var l={name:"Vivaldi"},c=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/seamonkey/i],describe:function(a){var l={name:"SeaMonkey"},c=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/sailfish/i],describe:function(a){var l={name:"Sailfish"},c=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return c&&(l.version=c),l}},{test:[/silk/i],describe:function(a){var l={name:"Amazon Silk"},c=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/phantom/i],describe:function(a){var l={name:"PhantomJS"},c=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/slimerjs/i],describe:function(a){var l={name:"SlimerJS"},c=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l={name:"BlackBerry"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l={name:"WebOS Browser"},c=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/bada/i],describe:function(a){var l={name:"Bada"},c=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/tizen/i],describe:function(a){var l={name:"Tizen"},c=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/qupzilla/i],describe:function(a){var l={name:"QupZilla"},c=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var l={name:"Firefox"},c=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/electron/i],describe:function(a){var l={name:"Electron"},c=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/MiuiBrowser/i],describe:function(a){var l={name:"Miui"},c=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/chromium/i],describe:function(a){var l={name:"Chromium"},c=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/chrome|crios|crmo/i],describe:function(a){var l={name:"Chrome"},c=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/GSA/i],describe:function(a){var l={name:"Google Search"},c=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:function(a){var l=!a.test(/like android/i),c=a.test(/android/i);return l&&c},describe:function(a){var l={name:"Android Browser"},c=i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/playstation 4/i],describe:function(a){var l={name:"PlayStation 4"},c=i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/safari|applewebkit/i],describe:function(a){var l={name:"Safari"},c=i.default.getFirstMatch(o,a);return c&&(l.version=c),l}},{test:[/.*/i],describe:function(a){var l=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,a),version:i.default.getSecondMatch(l,a)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(a){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(a){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),c=i.default.getWindowsVersionName(l);return{name:o.OS_MAP.Windows,version:l,versionName:c}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var l={name:o.OS_MAP.iOS},c=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return c&&(l.version=c),l}},{test:[/macintosh/i],describe:function(a){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),c=i.default.getMacOSVersionName(l),u={name:o.OS_MAP.MacOS,version:l};return c&&(u.versionName=c),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:l}}},{test:function(a){var l=!a.test(/like android/i),c=a.test(/android/i);return l&&c},describe:function(a){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),c=i.default.getAndroidVersionName(l),u={name:o.OS_MAP.Android,version:l};return c&&(u.versionName=c),u}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),c={name:o.OS_MAP.WebOS};return l&&l.length&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(a){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(a){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:l}}}];t.default=s,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var l=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",c={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(c.model=l),c}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var l=a.test(/ipod|iphone/i),c=a.test(/like (ipod|iphone)/i);return l&&!c},describe:function(a){var l=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var l=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(a){var l={name:o.ENGINE_MAP.Trident},c=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:function(a){return a.test(/presto/i)},describe:function(a){var l={name:o.ENGINE_MAP.Presto},c=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:function(a){var l=a.test(/gecko/i),c=a.test(/like gecko/i);return l&&!c},describe:function(a){var l={name:o.ENGINE_MAP.Gecko},c=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var l={name:o.ENGINE_MAP.WebKit},c=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return c&&(l.version=c),l}}];t.default=s,e.exports=t.default}});var aE=Du(sE.exports);const Ht={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class $n{constructor({shouldSetOnWindow:t,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:o}){const s=new v_({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:t,shouldShimWeb3:i,autoRequestAccounts:!1}),a=new Proxy(s,{deleteProperty:()=>!0});if(this.provider=a,this.sdkInstance=o,t&&typeof window<"u")try{l=s,window.ethereum=l,window.dispatchEvent(new Event("ethereum#initialized"))}catch(c){Q("[Ethereum] Unable to set global provider - window.ethereum may be read-only",c)}var l;if(i&&typeof window<"u")try{(function(c,u=console){let d=!1,f=!1;if(!window.web3){const m="__isMetaMaskShim__";let g={currentProvider:c};Object.defineProperty(g,m,{value:!0,enumerable:!0,configurable:!1,writable:!1}),g=new Proxy(g,{get:(y,x,...p)=>(x!=="currentProvider"||d?x==="currentProvider"||x===m||f||(f=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),c.request({method:"metamask_logWeb3ShimUsage"}).catch(w=>{u.debug("MetaMask: Failed to log web3 shim usage.",w)})):(d=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(y,x,...p)),set:(...y)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...y))}),Object.defineProperty(window,"web3",{value:g,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(c){Q("[Ethereum] Unable to shim web3 - window.web3 may be read-only",c)}this.provider.on("display_uri",c=>{this.sdkInstance.emit(Ht.DisplayURI,c)}),this.provider.on("_initialized",()=>{const c={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Ht.Initialized,c),Q("[Ethereum: constructor()] provider initialized",c)})}static init(t){var n;return Q("[Ethereum: init()] Initializing Ethereum service"),this.instance=new $n(t),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var t;if(!(!((t=this.instance)===null||t===void 0)&&t.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var t;if(!(!((t=this.instance)===null||t===void 0)&&t.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class ja{constructor({useDeepLink:t,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=t,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(t,n,r){return function(i,o,s,a){const{state:l}=i;Q(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),Q(`[PlatfformManager: openDeeplink()] deepLink --> ${s}`);try{if(l.preferredOpenLink)return void l.preferredOpenLink(l.useDeeplink?s:o,a);if(Q(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${l.useDeeplink} link=${l.useDeeplink?s:o}`),l.useDeeplink)typeof window<"u"&&(window.location.href=s);else if(typeof document<"u"){const c=document.createElement("a");c.href=o,c.target="_self",c.rel="noreferrer noopener",c.click()}}catch(c){console.log("[PlatfformManager: openDeeplink()] can't open link",c)}}(this,t,n,r)}isReactNative(){var t;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((t=window.navigator)===null||t===void 0?void 0:t.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const t=$n.getProvider()||(window==null?void 0:window.ethereum);return Q(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${t==null?void 0:t.isMetaMask} isConnected=${t==null?void 0:t.isConnected()}`),(t==null?void 0:t.isMetaMask)&&(t==null?void 0:t.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var t,n;const r=aE.parse(window.navigator.userAgent);return((t=r==null?void 0:r.platform)===null||t===void 0?void 0:t.type)==="mobile"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Nt.MobileWeb}static isNotBrowser(){var t;return typeof window>"u"||!(window!=null&&window.navigator)||$t!==void 0&&((t=$t==null?void 0:$t.navigator)===null||t===void 0?void 0:t.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return ja.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return ja.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(t){const{state:n}=t;return n.platformType?n.platformType:t.isReactNative()?Nt.ReactNative:t.isNotBrowser()?Nt.NonBrowser:t.isMetaMaskMobileWebView()?Nt.MetaMaskMobileWebview:t.isMobile()?Nt.MobileWeb:Nt.DesktopWeb}(this)}}const lE=e=>ne(void 0,void 0,void 0,function*(){if(ja.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return R_});return new n(e)}const t={persistChannelConfig:()=>ne(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>ne(void 0,void 0,void 0,function*(){}),persistAccounts:()=>ne(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>ne(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>ne(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>ne(void 0,void 0,void 0,function*(){}),terminate:()=>ne(void 0,void 0,void 0,function*(){})};return Promise.resolve(t)});class v_ extends m_{constructor({connectionStream:t,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(t,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Q(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return ne(this,void 0,void 0,function*(){return Q(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){Q("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var t;const{accounts:n}=this._state;return n&&n.length!==0?((t=n[0])===null||t===void 0?void 0:t.toLowerCase())||"":(Q("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(t){this.state=Object.assign(Object.assign({},this.state),t)}handleAccountsChanged(t,n){return this._handleAccountsChanged(t,n)}handleDisconnect({terminate:t=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;Q(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",rE.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:t,instance:this})}_initializeStateAsync(){return ne(this,void 0,void 0,function*(){return function(t){var n,r;return ne(this,void 0,void 0,function*(){t.state===void 0&&(t.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=t;let o;if(i.providerStateRequested)Q("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let s;i.providerStateRequested=!0;let a=null,l=!1,c=!1;const u=yield lE({enabled:!0});if(u){const d=yield u.getPersistedChannelConfig({});l=(n=d==null?void 0:d.relayPersistence)!==null&&n!==void 0&&n,s=yield u.getCachedChainId();const f=yield u.getCachedAccounts();f.length>0&&(a=f[0])}if(Q(`[SDKProvider: initializeStateAsync()] relayPersistence=${l}`,{relayPersistence:l,cachedChainId:s,cachedSelectedAddress:a}),l)if(s&&a)o={accounts:[a],chainId:s,isUnlocked:!1},c=!0;else try{o=yield t.request({method:"metamask_getProviderState"})}catch(d){return t._log.error("MetaMask: Failed to get initial state. Please report this bug.",d),void(i.providerStateRequested=!1)}if(((r=o==null?void 0:o.accounts)===null||r===void 0?void 0:r.length)===0)if(t.getSelectedAddress())o.accounts=[t.getSelectedAddress()];else{Q("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const d=yield t.request({method:"eth_requestAccounts",params:[]});o.accounts=d}t._initializeState(o),i.providerStateRequested=!1,c&&(t._state.isConnected=!0,t.emit("connect",{chainId:o==null?void 0:o.chainId}))}})}(this)})}_initializeState(t){return Q("[SDKProvider: _initializeState()]",t),function(n,r,i){return Q("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),t)}_handleChainChanged({chainId:t,networkVersion:n}={}){this.state.chainId=t,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:o,superHandleChainChanged:s}){Q(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let a=o;o||(Q("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),a="1"),i!==i1&&(qe.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),i1=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),s({chainId:i,networkVersion:a})}({instance:this,chainId:t,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Ia,io={name:"@metamask/sdk",version:"0.33.1",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(e){e.INPAGE="metamask-inpage",e.CONTENT_SCRIPT="metamask-contentscript",e.PROVIDER="metamask-provider"})(Ia||(Ia={}));const s1="direct",ra="https://metamask.app.link/connect",ia="metamask://connect",a1={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},w_=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,ye={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},Oa={[ye.ETH_REQUESTACCOUNTS]:!0,[ye.ETH_SENDTRANSACTION]:!0,[ye.ETH_SIGNTRANSACTION]:!0,[ye.ETH_SIGN]:!0,[ye.PERSONAL_SIGN]:!0,[ye.ETH_ACCOUNTS]:!1,[ye.ETH_CHAINID]:!1,[ye.PERSONAL_SIGN]:!0,[ye.ETH_SIGNTYPEDDATA]:!0,[ye.ETH_SIGNTYPEDDATA_V3]:!0,[ye.ETH_SIGNTYPEDDATA_V4]:!0,[ye.WALLET_REQUESTPERMISSIONS]:!0,[ye.WALLET_GETPERMISSIONS]:!0,[ye.WALLET_WATCHASSET]:!0,[ye.WALLET_ADDETHEREUMCHAIN]:!0,[ye.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[ye.METAMASK_CONNECTSIGN]:!0,[ye.METAMASK_CONNECTWITH]:!0,[ye.PERSONAL_EC_RECOVER]:!0,[ye.METAMASK_BATCH]:!0,[ye.METAMASK_OPEN]:!0},b_=Object.keys(Oa).filter(e=>Oa[e]===!0).map(e=>e.toLowerCase()),cE=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(e=>e.toLowerCase()),hf=".sdk-comm",fu="providerType",qh=".MMSDK_cached_address",Gh=".MMSDK_cached_chainId",l1="chainChanged",c1="accountsChanged",u1="disconnect",d1="connect",f1="connected";var Sn;(function(e){e.TERMINATE="terminate",e.EXTENSION="extension",e.INITIALIZED="initialized"})(Sn||(Sn={}));const x_=typeof window<"u"&&window.localStorage;function h1(e){var t,n;return ne(this,void 0,void 0,function*(){Q("[MetaMaskSDK: connectWithExtensionProvider()] ",e),e.sdkProvider=e.activeProvider,e.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(t=window.extension)===null||t===void 0?void 0:t.request({method:"eth_requestAccounts"});Q(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(fu,"extension"),e.extensionActive=!0,e.emit(Ht.ProviderUpdate,Sn.EXTENSION),e.options.enableAnalytics&&((n=e.analytics)===null||n===void 0||n.send({event:Ze.SDK_USE_EXTENSION}))})}function hu(e){let t;if(oe!==void 0)t=oe.from(e,"utf8").toString("base64");else if(typeof btoa=="function")t=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof $t!="object"||!("Buffer"in $t))throw new Error("Unable to base64 encode: No available method.");t=$t.Buffer.from(e,"utf8").toString("base64")}return t}class E_ extends Yo.Duplex{constructor({name:t,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=t,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(ae.MESSAGE,this._onMessage)}_write(t,n,r){return ne(this,void 0,void 0,function*(){return function(i,o,s,a){var l,c,u,d,f,m,g,y,x,p,w,v,k,P,O,F,B,H,D,K;return ne(this,void 0,void 0,function*(){const z=(l=i.state.remote)===null||l===void 0?void 0:l.isReady(),E=(c=i.state.remote)===null||c===void 0?void 0:c.isConnected(),b=(u=i.state.remote)===null||u===void 0?void 0:u.isPaused(),S=$n.getProvider(),M=(d=i.state.remote)===null||d===void 0?void 0:d.getChannelId(),T=(f=i.state.remote)===null||f===void 0?void 0:f.isAuthorized(),{deeplinkProtocol:_}=i.state,{method:A,data:I,triggeredInstaller:j}=(R=>{var $,V,U,q;let Y;oe.isBuffer(R)?(Y=R.toJSON(),Y._isBuffer=!0):Y=R;const J=($=Y==null?void 0:Y.data)===null||$===void 0?void 0:$.method;let G=!1;return typeof((V=Y==null?void 0:Y.data)===null||V===void 0?void 0:V.params)=="object"&&((q=(U=Y==null?void 0:Y.data)===null||U===void 0?void 0:U.params)===null||q===void 0?void 0:q.__triggeredInstaller)===!0&&(G=!0,Y.data.params=Y.data.params.wrappedParams),{method:J,data:Y,triggeredInstaller:G}})(o);if(Q(`[RCPMS: write()] method='${A}' isRemoteReady=${z} channelId=${M} isSocketConnected=${E} isRemotePaused=${b} providerConnected=${S.isConnected()}`,o),!M)return A!==ye.METAMASK_GETPROVIDERSTATE&&Q(`[RCPMS: write()] ${A} --> channelId is undefined`),a(new Error("disconnected"));Q(`[RCPMS: write()] remote.isPaused()=${(m=i.state.remote)===null||m===void 0?void 0:m.isPaused()} authorized=${T} ready=${z} socketConnected=${E}`,o);const C=(g=i.state.platformManager)===null||g===void 0?void 0:g.isSecure(),N=(x=(y=i.state.platformManager)===null||y===void 0?void 0:y.isMobileWeb())!==null&&x!==void 0&&x,L=(w=(p=i.state.remote)===null||p===void 0?void 0:p.hasDeeplinkProtocol())!==null&&w!==void 0&&w&&N&&T;try{if(!j){const V=JSON.stringify(I==null?void 0:I.data);if(V.length>1e6)return a(new Error(`Message size ${V.length} exceeds maximum allowed size of 1000000 bytes`));(v=i.state.remote)===null||v===void 0||v.sendMessage(I==null?void 0:I.data).then(()=>{Q(`[RCPMS: _write()] ${A} sent successfully`)}).catch(U=>{Q("[RCPMS: _write()] error sending message",U)})}if(!C)return Q(`[RCPMS: _write()] unsecure platform for method ${A} -- return callback`),a();if(j)return Q("[RCPMS: _write()] prevent deeplink -- installation completed separately."),a();const R=(O=(P=(k=i.state.remote)===null||k===void 0?void 0:k.getKeyInfo())===null||P===void 0?void 0:P.ecies.public)!==null&&O!==void 0?O:"";let $=encodeURI(`channelId=${M}&pubkey=${R}&comm=socket&t=d&v=2`);if(L){const V=JSON.stringify(I==null?void 0:I.data),U=(F=i.state.remote)===null||F===void 0?void 0:F.encrypt(V);if(!U)return Q("[RCPMS: _write()] error encrypting message"),a(new Error("RemoteCommunicationPostMessageStream - disconnected"));$+=`&scheme=${_}&rpc=${hu(U)}`}if(!(!((B=i.state.platformManager)===null||B===void 0)&&B.isMetaMaskInstalled()))return Q("[RCPMS: _write()] prevent deeplink until installation is completed."),a();Oa[A]?(Q(`[RCPMS: _write()] redirect link for '${A}' socketConnected=${E} connect?${$}`),(H=i.state.platformManager)===null||H===void 0||H.openDeeplink(`${ra}?${$}`,`${ia}?${$}`,"_self")):!((D=i.state.remote)===null||D===void 0)&&D.isPaused()?(Q(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${A}`),(K=i.state.platformManager)===null||K===void 0||K.openDeeplink(`${ra}?redirect=true&${$}`,`${ia}?redirect=true&${$}`,"_self")):Q(`[RCPMS: _write()] method ${A} doesn't need redirect.`)}catch(R){return Q("[RCPMS: _write()] error sending message",R),a(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return a()})}(this,t,0,r)})}_read(){}_onMessage(t){return function(n,r){try{if(Q("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof(r==null?void 0:r.data)!="object")return;if(!(r!=null&&r.name))return void Q("[RCPMS: onMessage()] ignore message without name",r);if((r==null?void 0:r.name)!==Ia.PROVIDER)return void Q(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(oe.isBuffer(r)){const i=oe.from(r);n.push(i)}else n.push(r)}catch(i){Q(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,t)}start(){}}let p1=1;const uE=e=>new Promise(t=>{setTimeout(()=>{t(!0)},e)}),S_=({checkInstallationOnAllCalls:e=!1,communicationLayerPreference:t,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:o,sdk:s,remoteConnection:a,debug:l})=>ne(void 0,void 0,void 0,function*(){var c,u;const d=(({name:D,remoteConnection:K})=>{if(!K||!(K!=null&&K.getConnector()))throw new Error("Missing remote connection parameter");return new E_({name:D,remote:K==null?void 0:K.getConnector(),deeplinkProtocol:K==null?void 0:K.state.deeplinkProtocol,platformManager:K==null?void 0:K.getPlatformManager()})})({name:Ia.INPAGE,target:Ia.CONTENT_SCRIPT,remoteConnection:a}),f=i.getPlatformType(),m=s.options.dappMetadata,g=`Sdk/Javascript SdkVersion/${io.version} Platform/${f} dApp/${(c=m.url)!==null&&c!==void 0?c:m.name} dAppTitle/${m.name}`;let y=null,x=null;const p=(u=s.options.storage)===null||u===void 0?void 0:u.storageManager;if(p){try{const D=yield p.getCachedAccounts();D.length>0&&(y=D[0])}catch(D){console.error(`[initializeMobileProvider] failed to get cached addresses: ${D}`)}try{const D=yield p.getCachedChainId();D&&(x=D)}catch(D){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${D}`)}}Q(`[initializeMobileProvider] cachedAccountAddress: ${y}, cachedChainId: ${x}`);const w=!(!n||f===Nt.NonBrowser||f===Nt.ReactNative),v=$n.init({shouldSetOnWindow:w,connectionStream:d,shouldShimWeb3:r,sdkInstance:s});let k=!1;const P=D=>{k=D},O=()=>k,F=(D,K,z,E)=>ne(void 0,void 0,void 0,function*(){var b,S,M,T,_,A,I,j,C;const N=$n.getProvider();if(k){N.emit("display_uri",(a==null?void 0:a.state.qrcodeLink)||""),a==null||a.showActiveModal();let G=O();for(;G;){const ce=O(),fe=a==null?void 0:a.isAuthorized();G=ce&&!fe,Q(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${ce} authorized: ${fe}`),yield uE(1e3)}return Q("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),z(...K)}const L=i.isMetaMaskInstalled(),R=a==null?void 0:a.isConnected();let $=null,V=null,U=null;if($=(b=N.getSelectedAddress())!==null&&b!==void 0?b:y,U=N.getChainId()||x,$&&p&&$!==y&&p.persistAccounts([$]).catch(G=>{console.error(`[initializeMobileProvider] failed to persist account: ${G}`)}),U&&(x=U,p&&p.persistChainId(U).catch(G=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${G}`)})),Q("[initializeMobileProvider: sendRequest()]",{selectedAddress:$,chainId:U}),E&&Q(`[initializeMobileProvider: sendRequest()] method=${D} ongoing=${k} selectedAddress=${$} isInstalled=${L} checkInstallationOnAllCalls=${e} socketConnected=${R}`),$&&D.toLowerCase()===ye.ETH_ACCOUNTS.toLowerCase())return[$];if(U&&D.toLowerCase()===ye.ETH_CHAINID.toLowerCase())return U;const q=[ye.ETH_REQUESTACCOUNTS,ye.WALLET_REQUESTPERMISSIONS,ye.METAMASK_CONNECTSIGN,ye.METAMASK_CONNECTWITH],Y=!Oa[D],J=(S=s.options.readonlyRPCMap)===null||S===void 0?void 0:S[U];if(J&&Y)try{const G=(M=K==null?void 0:K[0])===null||M===void 0?void 0:M.params,ce=yield(({rpcEndpoint:fe,method:X,sdkInfo:ie,params:te})=>ne(void 0,void 0,void 0,function*(){const re=JSON.stringify({jsonrpc:"2.0",method:X,params:te,id:(p1+=1,p1)}),se={Accept:"application/json","Content-Type":"application/json"};let de;fe.includes("infura")&&(se["Metamask-Sdk-Info"]=ie);try{de=yield x2(fe,{method:"POST",headers:se,body:re})}catch(he){throw he instanceof Error?new Error(`Failed to fetch from RPC: ${he.message}`):new Error(`Failed to fetch from RPC: ${he}`)}if(!de.ok)throw new Error(`Server responded with a status of ${de.status}`);return(yield de.json()).result}))({rpcEndpoint:J,sdkInfo:g,method:D,params:G||[]});return E&&Q(`initializeProvider::ReadOnlyRPCResponse ${ce}`),ce}catch(G){console.warn(`[initializeMobileProvider: sendRequest()] method=${D} readOnlyRPCRequest failed:`,G)}if((!L||L&&!R)&&D!==ye.METAMASK_GETPROVIDERSTATE){const G=((T=K==null?void 0:K[0])===null||T===void 0?void 0:T.params)||[];if(q.indexOf(D)!==-1||e){P(!0);const ce=D===ye.METAMASK_CONNECTWITH,fe=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:ce?{method:D,id:fe,params:G}:void 0}),yield new Promise((X,ie)=>{a!=null&&a.isAuthorized()&&(Q("[initializeMobileProvider: sendRequest()] already authorized"),X(!0)),a==null||a.getConnector().once(ae.AUTHORIZED,()=>{X(!0)}),s.once(ae.PROVIDER_UPDATE,te=>{Q(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${te}`),te===Sn.EXTENSION?ie(ae.PROVIDER_UPDATE):ie(new Error("Connection Terminated"))})})}catch(X){if(Sn.EXTENSION===X){if(Q(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${D} on the active provider`),D.toLowerCase()===ye.METAMASK_CONNECTSIGN.toLowerCase()){const ie=yield(_=s.getProvider())===null||_===void 0?void 0:_.request({method:ye.ETH_REQUESTACCOUNTS,params:[]});if(!ie.length)throw new Error("SDK state invalid -- undefined accounts");const te=yield(A=s.getProvider())===null||A===void 0?void 0:A.request({method:ye.PERSONAL_SIGN,params:[G[0],ie[0]]});return s.emit(Ht.ConnectWithResponse,te),te}if(D.toLowerCase()===ye.METAMASK_CONNECTWITH.toLowerCase()){const[ie]=G,te=yield(({method:re,sdk:se,params:de})=>ne(void 0,void 0,void 0,function*(){var he,pe,ve,we;if(!se.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Q("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",re,de);const Ae=yield(he=se.getProvider())===null||he===void 0?void 0:he.request({method:ye.ETH_REQUESTACCOUNTS,params:[]});if(!Ae.length)throw new Error("SDK state invalid -- undefined accounts");if((re==null?void 0:re.toLowerCase())===ye.PERSONAL_SIGN.toLowerCase()){const Tt={method:re,params:[de[0],Ae[0]]};return yield(pe=se.getProvider())===null||pe===void 0?void 0:pe.request(Tt)}if((re==null?void 0:re.toLowerCase())===ye.ETH_SENDTRANSACTION.toLowerCase()){const Tt={method:re,params:[Object.assign(Object.assign({},de[0]),{from:Ae[0]})]};return yield(ve=se.getProvider())===null||ve===void 0?void 0:ve.request(Tt)}return cE.includes(re.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${re} -- not handled by the extension -- call separately`),Ae):yield(we=se.getProvider())===null||we===void 0?void 0:we.request({method:re,params:de})}))({method:ie.method,sdk:s,params:ie.params});return s.emit(Ht.ConnectWithResponse,te),te}return Q(`[initializeMobileProvider: sendRequest()] sending '${D}' on active provider`,G),yield(I=s.getProvider())===null||I===void 0?void 0:I.request({method:D,params:G})}throw X===ae.REJECTED?(a==null||a.closeModal(),(j=s.getProvider())===null||j===void 0||j.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Q(`[initializeMobileProvider: sendRequest()] failed to start installer: ${X}`),X)}finally{P(!1)}if(D===ye.ETH_REQUESTACCOUNTS)return V=yield new Promise(X=>{const ie=setInterval(()=>{const{accounts:te}=N.getState();te&&(clearInterval(ie),X(te))},100)}),Q(`[initializeMobileProvider: sendRequest()] selectedAddress: ${$} --- SKIP rpc call`),V;if(D===ye.METAMASK_CONNECTWITH)try{let X=0;const ie=5,te=({resolve:he,reject:pe})=>{X+=1;const ve=a==null?void 0:a.getConnector().getRPCMethodTracker(),we=ve==null?void 0:ve[fe];return Q(`TRACKER: update method ${fe}`,we),we!=null&&we.result?(Q("[initializeMobileProvider: sendRequest()] found result",we.result),s.emit(Ht.ConnectWithResponse,we.result),void he(we.result)):we!=null&&we.error?(Q("[initializeMobileProvider: sendRequest()] found error",we.error),void pe(we.error)):X>=ie?(Q("[initializeMobileProvider: sendRequest()] max message count reached without result"),void pe(new Error("Max message count reached without result"))):void Q("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let re,se;const de=yield new Promise((he,pe)=>{const ve=a==null?void 0:a.getConnector().getRPCMethodTracker();Q(`TRACKER: method ${fe}`,ve),ve!=null&&ve[fe].result?(Q("[initializeMobileProvider: sendRequest()] found result",ve==null?void 0:ve[fe].result),he(ve==null?void 0:ve[fe].result)):ve!=null&&ve[fe].error&&(Q("[initializeMobileProvider: sendRequest()] found error",ve==null?void 0:ve[fe].error),pe(ve==null?void 0:ve[fe].error)),se=()=>te({resolve:he,reject:pe}),re=a==null?void 0:a.getConnector().on(ae.RPC_UPDATE,se)});return se&&(re==null||re.off(ae.RPC_UPDATE,se)),Q("TRACKER: result",de),de}catch(X){throw Q("[initializeMobileProvider: sendRequest()] error:",X),X}return K[0]&&typeof K[0]=="object"&&(K[0].params={__triggeredInstaller:!0,wrappedParams:K[0].params}),z(...K)}if(i.isSecure()&&Oa[D])return z(...K);if(s.isExtensionActive())return Q(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${D}' to it`,K,G),yield(C=s.getProvider())===null||C===void 0?void 0:C.request({method:D,params:G});throw Q(`[initializeMobileProvider: sendRequest()] method=${D} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const G=yield z(...K);if(Q(`[initializeMobileProvider: sendRequest()] method=${D} rpcResponse`,G),D===ye.WALLET_REQUESTPERMISSIONS){const ce=G.reduce((fe,X)=>{var ie;if(X.parentCapability==="eth_accounts"){const te=(ie=X.caveats.find(re=>re.type==="restrictReturnedAccounts"))===null||ie===void 0?void 0:ie.value;te&&fe.push(...te)}return fe},[]);Q("[initializeMobileProvider: sendRequest()] accountsToPersist:",ce),ce.length>0&&(N.handleAccountsChanged(ce,!1),p==null||p.persistAccounts(ce))}return G}catch(G){throw console.error("[initializeMobileProvider: sendRequest()] error:",G),G}}),{request:B}=v;v.request=(...D)=>ne(void 0,void 0,void 0,function*(){return F(D==null?void 0:D[0].method,D,B,l)});const{send:H}=v;return v.send=(...D)=>ne(void 0,void 0,void 0,function*(){return F(D==null?void 0:D[0],D,H,l)}),Q("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),d.start(),v});class k_{constructor({serverUrl:t,enabled:n,originatorInfo:r}){this.serverURL=Yi,this.serverURL=t,this.originatorInfo=r,this.enabled=n==null||n}send({event:t,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:"sdk",event:t,sdkVersion:io.version},this.originatorInfo),{params:n});Q(`[Analytics: send()] event: ${t}`,r),_r(r,this.serverURL).catch(i=>{Q(`[Analytics: send()] error: ${i}`)})}}function m1(e){var t,n,r;const{dappMetadata:i}=e,o=function({url:u,name:d}){var f;const m=hu(u+d);if(!localStorage)return"";let g=(f=localStorage.getItem(m))!==null&&f!==void 0?f:"";if(!g){g=Qr();try{localStorage.setItem(m,g)}catch{return""}}return g}({url:(t=i==null?void 0:i.url)!==null&&t!==void 0?t:"no_url",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:"no_name"}),s=(r=e.platformManager)===null||r===void 0?void 0:r.getPlatformType(),a=s===Nt.DesktopWeb,l=s===Nt.MetaMaskMobileWebview;let c="N/A";return a?c="extension":l&&(c="mobile"),{id:o,from:c}}const Il=(e,t,n)=>{if(qa(e))if(n||t&&typeof t=="object"&&t!==null&&"error"in t){const r=n||(t==null?void 0:t.error);r&&r.code===4001?qe.track("sdk_action_rejected",{action:e}):qe.track("sdk_action_failed",{action:e})}else qe.track("sdk_action_succeeded",{action:e})},g1=({provider:e,sdkInstance:t})=>{if("state"in e)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(e,{get:(n,r)=>r==="request"?function(i){var o,s;return ne(this,void 0,void 0,function*(){Q("[wrapExtensionProvider()] Overwriting request method",i);const{method:a,params:l}=i,c=b_.includes(a.toLowerCase()),{id:u,from:d}=m1(t);if(c&&((o=t.analytics)===null||o===void 0||o.send({event:Ze.SDK_RPC_REQUEST,params:{method:a,from:d,id:u}})),qa(a)&&qe.track("sdk_action_requested",{action:a}),a===ye.METAMASK_BATCH&&Array.isArray(l))return(({target:g,args:y,trackEvent:x,sdkInstance:p})=>ne(void 0,void 0,void 0,function*(){var w,v;if(y.method!=="metamask_batch")throw new Error("Invalid usage");const k=[],P=(w=y==null?void 0:y.params)!==null&&w!==void 0?w:[];for(const B of P){const H=yield g==null?void 0:g.request({method:B.method,params:B.params});k.push(H)}const{id:O,from:F}=m1(p);x&&((v=p.analytics)===null||v===void 0||v.send({event:Ze.SDK_RPC_REQUEST_DONE,params:{method:y.method,from:F,id:O}}));for(const B of k)Il(y.method,B,null);return k}))({target:n,args:i,trackEvent:c,sdkInstance:t});if(a.toLowerCase()===ye.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(l))return(({target:g,params:y})=>ne(void 0,void 0,void 0,function*(){let x,p=null;try{const w=yield g.request({method:ye.ETH_REQUESTACCOUNTS,params:[]});if(!w.length)throw new Error("SDK state invalid -- undefined accounts");return x=yield g.request({method:ye.PERSONAL_SIGN,params:[y[0],w[0]]}),x}catch(w){throw p=w,w}finally{Il(ye.PERSONAL_SIGN,x,p)}}))({target:n,params:l});if(a.toLowerCase()===ye.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(l))return(({target:g,params:y})=>ne(void 0,void 0,void 0,function*(){const[x]=y,p=x.method,w=x.params;let v,k=null;try{const P=yield g.request({method:ye.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(P)||!P.length)throw new Error("SDK state invalid -- undefined accounts");return(p==null?void 0:p.toLowerCase())===ye.PERSONAL_SIGN.toLowerCase()?(v=yield g.request({method:p,params:[w[0],P[0]]}),v):(p==null?void 0:p.toLowerCase())===ye.ETH_SENDTRANSACTION.toLowerCase()?(v=yield g.request({method:p,params:[Object.assign(Object.assign({},w[0]),{from:P[0]})]}),v):cE.includes(p.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${p} -- not handled by the extension -- call separately`),v=P,v):(v=yield g.request({method:p,params:w}),v)}catch(P){throw k=P,P}finally{Il(p,v,k)}}))({target:n,params:l});let f,m=null;try{return f=yield n.request(i),f}catch(g){throw m=g,g}finally{c&&((s=t.analytics)===null||s===void 0||s.send({event:Ze.SDK_RPC_REQUEST_DONE,params:{method:a,from:d,id:u}})),Il(a,f,m)}})}:r==="getChainId"?function(){return e.chainId}:r==="getNetworkVersion"?function(){return e.networkVersion}:r==="getSelectedAddress"?function(){return e.selectedAddress}:r==="isConnected"?function(){return e._state.isConnected}:n[r]})};var pu;(function(e){e.Announce="eip6963:announceProvider",e.Request="eip6963:requestProvider"})(pu||(pu={}));var y1="INSTALLED",v1="NOT_INSTALLED",w1="REGISTERED",b1="REGISTERING",x1="RELOADING",E1={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},Ol="REGISTRATION_IN_PROGRESS",S1="FORWARDER_ID",C_=function(){function e(t){var n=t===void 0?{}:t,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,o=n.forwarderMode,s=o===void 0?e.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=e.isMetaMaskInstalled()?y1:v1;var a=e._detectBrowser();this.downloadUrl=a?E1[a]:E1.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),s===e.FORWARDER_MODE.INJECT&&sessionStorage.getItem(Ol)==="true"&&e._injectForwarder(this.forwarderOrigin)}return e.prototype._onMessage=function(t){if(t.origin===this.forwarderOrigin)return t.data.type==="metamask:reload"?this._onMessageFromForwarder(t):void console.debug("Unknown message from '"+t.origin+"' with data "+JSON.stringify(t.data))},e.prototype._onMessageUnknownStateError=function(t){throw new Error("Unknown state: '"+t+"'")},e.prototype._onMessageFromForwarder=function(t){return function(n,r,i,o){return new(i||(i=Promise))(function(s,a){function l(d){try{u(o.next(d))}catch(f){a(f)}}function c(d){try{u(o.throw(d))}catch(f){a(f)}}function u(d){var f;d.done?s(d.value):(f=d.value,f instanceof i?f:new i(function(m){m(f)})).then(l,c)}u((o=o.apply(n,[])).next())})}(this,0,void 0,function(){return function(n,r){var i,o,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(d){return function(f){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return l.label++,{value:f[1],done:!1};case 5:l.label++,o=f[1],f=[0];continue;case 7:f=l.ops.pop(),l.trys.pop();continue;default:if(!((s=(s=l.trys).length>0&&s[s.length-1])||f[0]!==6&&f[0]!==2)){l=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){l.label=f[1];break}if(f[0]===6&&l.label<s[1]){l.label=s[1],s=f;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(f);break}s[2]&&l.ops.pop(),l.trys.pop();continue}f=r.call(n,l)}catch(m){f=[6,m],o=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([u,d])}}}(this,function(n){switch(n.label){case 0:switch(this.state){case x1:return[3,1];case v1:return[3,2];case y1:return[3,3];case b1:return[3,5];case w1:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=x1,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=b1,[4,e._register()];case 4:return n.sent(),this.state=w1,t.source.postMessage({type:"metamask:registrationCompleted"},t.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},e.prototype.startOnboarding=function(){sessionStorage.setItem(Ol,"true"),this._openDownloadPage(),this._openForwarder()},e.prototype.stopOnboarding=function(){sessionStorage.getItem(Ol)==="true"&&(this.forwarderMode===e.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),e._removeForwarder()),sessionStorage.setItem(Ol,"false"))},e.prototype._openForwarder=function(){this.forwarderMode===e.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):e._injectForwarder(this.forwarderOrigin)},e.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},e.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},e._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},e._injectForwarder=function(t){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",t),r.setAttribute("id",S1),n.insertBefore(r,n.children[0])},e._removeForwarder=function(){var t;(t=document.getElementById(S1))===null||t===void 0||t.remove()},e._detectBrowser=function(){var t=aE.parse(window.navigator.userAgent);return t.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(t.browser.name||"")?"CHROME":null},e.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},e}();class __{constructor({remote:t,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=t,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return ne(this,void 0,void 0,function*(){Q("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new C_().startOnboarding()})}()}redirectToProperInstall(){return ne(this,void 0,void 0,function*(){return function(t){var n,r;return ne(this,void 0,void 0,function*(){const{state:i}=t,o=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(Q(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===Nt.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(s){throw i.isInstalling=!1,s}return!0})}(this)})}checkInstallation(){return ne(this,void 0,void 0,function*(){return function(t){var n;return ne(this,void 0,void 0,function*(){const{state:r}=t,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return Q(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield t.redirectToProperInstall())})}(this)})}start({wait:t=!1,connectWith:n}){return ne(this,void 0,void 0,function*(){this.state.connectWith=n,Q(`[MetaMaskInstaller: start()] wait=${t}`,n),yield function(r,{wait:i=!1}){return ne(this,void 0,void 0,function*(){return Q(`[MetamaskInstaller: startInstaller()] wait=${i}`),i&&(yield uE(1e3)),yield r.checkInstallation()})}(this,{wait:t})})}}class dE{constructor({debug:t,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=t!=null&&t,this.sdkVersion=n}loadComponent(t){return ne(this,void 0,void 0,function*(){if(!this.defined[t]){this.defined[t]=!0;try{const n=yield Promise.resolve().then(function(){return Q_});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${t} modal:`,n)}}})}renderInstallModal(t){var n;return ne(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",t),this.containers.install=t.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=t.link,r.preferDesktop=t.preferDesktop,r.sdkVersion=(n=t.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>t.onClose(i)),r.addEventListener("startDesktopOnboarding",t.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var o;return(o=t.onAnalyticsEvent)===null||o===void 0?void 0:o.call(t,i.detail)}),t.parentElement.appendChild(r)})}renderSelectModal(t){var n;return ne(this,void 0,void 0,function*(){this.containers.select=t.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=t.link,r.sdkVersion=(n=t.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=t.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>t.onClose(i)),r.addEventListener("connectWithExtension",t.connectWithExtension),t.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(t.link),100)})}renderPendingModal(t){var n;return ne(this,void 0,void 0,function*(){this.containers.pending=t.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=t.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=t.displayOTP,r.addEventListener("close",t.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>t.updateOTPValue(i)),t.onDisconnect&&r.addEventListener("disconnect",t.onDisconnect),t.parentElement.appendChild(r)})}updateOTPValue(t){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=t,!0)};setTimeout(()=>{n()},800)}updateQRCode(t){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=t;else{const o=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");o&&(o.link=t)}}unmount(){Object.entries(this.containers).forEach(([t,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[t]=void 0})}}const N_=({link:e,debug:t,installer:n,terminate:r,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:s})=>{let a=null,l=null;Q("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Q(`[UI: InstallModal-web: sdkWebInstallModal()] link=${e}`),Q(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e}" --ios`),Q(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e}" --android`),Q(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${e}"`);const c=u=>{var d;Q("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,l),l!=null&&l.parentNode&&((d=l.parentNode)===null||d===void 0||d.removeChild(l)),l=null,a=null,u===!0&&(r==null||r())};return{mount:u=>{if(Q("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",l),l)return l.style.display="block",void(a==null||a.updateQRCode(u));a=new dE({debug:t,sdkVersion:io.version}),l=document.createElement("div"),document.body.appendChild(l),window.extension?a.renderSelectModal({parentElement:l,connectWithExtension:()=>{c(),i==null||i()},onClose:c,link:e,preferDesktop:o!=null&&o}).catch(d=>{console.error(d)}):a.renderInstallModal({parentElement:l,preferDesktop:o!=null&&o,link:e,metaMaskInstaller:n,onClose:c,onAnalyticsEvent:s}).catch(d=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",d)})},unmount:c}},A_=({onDisconnect:e,debug:t})=>{let n=null,r=null;const i=()=>{Q("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},o=a=>{Q("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",a),r&&r.updateOTPValue(a)},s=({displayOTP:a}={displayOTP:!0})=>{Q("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new dE({debug:t,sdkVersion:io.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:e,updateOTPValue:o,displayOTP:a}).catch(l=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",l)}))};return s(),{mount:s,unmount:i,updateOTPValue:o}};function fE(e,t){var n,r,i,o;e.connector||(Q("[RemoteConnection: initializeConnector()] initialize connector"),e.connector=new QC({anonId:t.anonId,platformType:t.platformManager.getPlatformType(),communicationLayerPreference:t.communicationLayerPreference,transports:t.transports,dappMetadata:Object.assign(Object.assign({},t.dappMetadata),{source:t._source}),analytics:t.enableAnalytics,communicationServerUrl:t.communicationServerUrl,sdkVersion:io.version,context:"dapp",ecies:t.ecies,storage:t.storage,logging:t.logging}),t.timer&&(Q("[RemoteConnection: initializeConnector()] reset background timer",t.timer),(r=(n=t.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(o=(i=t.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,()=>!1,1e4)))}function Yh(e){e.listeners.forEach(({event:t,handler:n})=>{var r;(r=e.connector)===null||r===void 0||r.off(t,n)}),e.listeners=[]}function hE(e,t){function n(r,i){var o;(o=e.connector)===null||o===void 0||o.on(r,i),e.listeners.push({event:r,handler:i})}e.connector&&(Yh(e),n(ae.WALLET_INIT,({accounts:r,chainId:i})=>ne(this,void 0,void 0,function*(){Q(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const o=$n.getProvider();o._setConnected();const s={accounts:r,chainId:i,isUnlocked:!1};o._initializeState(s),o.emit("chainChanged",i),o.emit("accountsChanged",r)})),n(ae.AUTHORIZED,()=>ne(this,void 0,void 0,function*(){var r,i,o,s;try{Q("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",e.pendingModal,e.installModal);const a=$n.getProvider();a._setConnected(),(i=(r=e.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=e.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!1),e.otpAnswer=void 0,e.authorized=!0,Q("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",a.getState()),yield a.forceInitializeState()}catch{}})),n(ae.TERMINATE,()=>{var r,i,o,s,a;(i=(r=e.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=e.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!0),e.pendingModal=void 0,e.installModal=void 0,e.otpAnswer=void 0,(a=e.connector)===null||a===void 0||a.disconnect({terminate:!0}),e.authorized=!1,$n.getProvider().handleDisconnect({terminate:!0}),Yh(e),Q("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function M_(e,t,{initialCheck:n,connectWith:r}={}){var i,o,s,a,l,c,u,d,f,m,g,y,x,p,w,v,k,P,O;return ne(this,void 0,void 0,function*(){try{if(fE(e,t),!e.connector)throw new Error("no connector defined");hE(e);const F=$n.getProvider();e.authorized=!1,F.emit("connecting");const B=yield(i=e.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Q(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,B);let H=(o=B==null?void 0:B.channelId)!==null&&o!==void 0?o:"",D=(a=(s=e.connector.getKeyInfo())===null||s===void 0?void 0:s.ecies.public)!==null&&a!==void 0?a:"",K=(c=(l=e.connector.getKeyInfo())===null||l===void 0?void 0:l.ecies.private)!==null&&c!==void 0?c:"";if(n&&!B)return Promise.resolve();if(!B&&!n){const R=yield e.connector.generateChannelIdConnect();H=(u=R.channelId)!==null&&u!==void 0?u:"",D=(d=R.pubKey)!==null&&d!==void 0?d:"",K=(f=R.privKey)!==null&&f!==void 0?f:"";const $=Date.now();(m=e.connector.state.storageManager)===null||m===void 0||m.persistChannelConfig({channelId:H,localKey:K,lastActive:$,validUntil:$+rs})}if(n&&(B!=null&&B.channelId))return!((g=e.connector)===null||g===void 0)&&g.isConnected()||(Q(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,B),yield(y=e.connector)===null||y===void 0?void 0:y.connectToChannel({channelId:H})),Promise.resolve();B&&!(!((x=e.connector)===null||x===void 0)&&x.isConnected())&&(Q("[RemoteConnection: startConnection()] reconnecting to channel",B),yield(p=e.connector)===null||p===void 0?void 0:p.connectToChannel({channelId:H}));const z=!((w=e.platformManager)===null||w===void 0)&&w.isSecure()?"":"&t=q",E=io.version,{iconUrl:b,name:S,url:M,scheme:T}=t.dappMetadata||{},_=(v=e.platformManager)===null||v===void 0?void 0:v.getPlatformType();let A="N/A";typeof window<"u"&&window.location&&window.location.hostname?A=window.location.hostname:S!==void 0?A=S:M!==void 0&&(A=M);const I={url:M??"",title:S??"",icon:b,scheme:T??"",apiVersion:E,dappId:A||M||"N/A",anonId:t.anonId,platform:_??"",source:(k=t._source)!==null&&k!==void 0?k:""},j=hu(JSON.stringify(I));let C=`channelId=${H}&v=2&comm=${(P=e.communicationLayerPreference)!==null&&P!==void 0?P:""}&pubkey=${D}${z}&originatorInfo=${j}`;if(r){C+=`&rpc=${hu(JSON.stringify(r))}`;const R=e.connector.getRPCMethodTracker();R&&(R[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const N=encodeURI(C),L=`${e.useDeeplink?ia:ra}?${C}`;if(e.qrcodeLink=L,e.developerMode&&Q(`[RemoteConnection: startConnection()] qrcodeLink=${N}`),F.emit("display_uri",L),qe.track("sdk_connection_initiated",{transport_type:"websocket"}),(O=e.platformManager)===null||O===void 0?void 0:O.isSecure()){const R=setTimeout(()=>{qe.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function($,V){var U,q;return ne(this,void 0,void 0,function*(){const Y=`${ra}?${V}`,J=`${ia}?${V}`;(q=(U=$.platformManager)===null||U===void 0?void 0:U.openDeeplink)===null||q===void 0||q.call(U,Y,J,"_self")})}(e,N),new Promise(($,V)=>{var U,q,Y;if(!((U=e.connector)===null||U===void 0)&&U.isAuthorized())return clearTimeout(R),void $();(q=e.connector)===null||q===void 0||q.once(ae.AUTHORIZED,()=>{clearTimeout(R),$()}),(Y=e.connector)===null||Y===void 0||Y.once(ae.REJECTED,()=>{clearTimeout(R),V(ae.REJECTED)})})}return function(R,$,V){return ne(this,void 0,void 0,function*(){const U=setTimeout(()=>{qe.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((q,Y)=>{if(!R.connector)return void Y(new Error("No connector available"));Q("[RemoteConnection: connectWithModalInstaller()]",{state:R,options:$,linkParams:V});const J=`${R.useDeeplink?ia:ra}?${V}`;(function(G,ce,fe){var X,ie,te,re;G.installModal=(ie=(X=ce.modals).install)===null||ie===void 0?void 0:ie.call(X,{link:fe,preferDesktop:G.preferDesktop,installer:ce.getMetaMaskInstaller(),terminate:()=>{Q("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),ce.sdk.terminate().catch(se=>{console.warn("[MMSDK] failed to terminate connection",se)})},debug:G.developerMode,connectWithExtension:()=>{var se;return(se=ce.connectWithExtensionProvider)===null||se===void 0||se.call(ce),!1},onAnalyticsEvent:({event:se,params:de})=>{var he,pe,ve;const we=Object.assign(Object.assign({},de),{sdkVersion:ce.sdk.getVersion(),dappId:(he=ce.dappMetadata)===null||he===void 0?void 0:he.name,source:ce._source,url:(pe=ce.dappMetadata)===null||pe===void 0?void 0:pe.url});(ve=G.analytics)===null||ve===void 0||ve.send({event:se,params:we})}}),(re=(te=G.installModal)===null||te===void 0?void 0:te.mount)===null||re===void 0||re.call(te,fe)})(R,$,J),$.sdk.once(ae.PROVIDER_UPDATE,G=>ne(this,void 0,void 0,function*(){if(Q("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),G===Sn.TERMINATE){const ce={code:4001,message:"User rejected the request."};return clearTimeout(U),void Y(ce)}Y(G)})),R.connector.once(ae.AUTHORIZED,()=>{clearTimeout(U),q()}),R.connector.once(ae.REJECTED,()=>{clearTimeout(U),Y(ae.REJECTED)}),R.connector.once(ae.CLIENTS_READY,()=>ne(this,void 0,void 0,function*(){Q("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(U),q()}))})})}(e,t,N)}catch(F){throw console.error("[startConnection] error",F),F}})}class T_{constructor(t){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=t;const o=((n=t.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=t.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=o,this.state.analytics=t.analytics,this.state.preferDesktop=(i=t.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=t.sdk.options.useDeeplink,this.state.communicationLayerPreference=t.communicationLayerPreference,this.state.platformManager=t.platformManager,t.modals.install||(t.modals.install=N_),t.modals.otp||(t.modals.otp=A_)}startConnection(t){return ne(this,void 0,void 0,function*(){return M_(this.state,this.options,t)})}initRemoteCommunication({sdkInstance:t}){var n,r,i;return ne(this,void 0,void 0,function*(){const o=yield(r=(n=t.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const s={privateKey:o==null?void 0:o.localKey};this.options.ecies=s}fE(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),hE(this.state,this.options)})}showActiveModal(){return function(t){var n,r,i,o;t.authorized?Q("[RemoteConnection: showActiveModal()] already authorized"):t.pendingModal?(r=(n=t.pendingModal).mount)===null||r===void 0||r.call(n):t.installModal&&((o=(i=t.installModal).mount)===null||o===void 0||o.call(i,t.qrcodeLink||""))}(this.state)}closeModal(){var t,n,r,i;(n=(t=this.state.pendingModal)===null||t===void 0?void 0:t.unmount)===null||n===void 0||n.call(t),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var t;return(t=this.state.connector)===null||t===void 0?void 0:t.getChannelConfig()}getKeyInfo(){var t;return(t=this.state.connector)===null||t===void 0?void 0:t.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var t;return((t=this.state.connector)===null||t===void 0?void 0:t.isReady())||!1}isAuthorized(){var t;return((t=this.state.connector)===null||t===void 0?void 0:t.isAuthorized())||!1}isPaused(){var t;return(t=this.state.connector)===null||t===void 0?void 0:t.isPaused()}disconnect(t){var n,r,i;Q("[RemoteConnection: disconnect()]",t),t!=null&&t.terminate&&($n.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(t),function(o){Q("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(Yh(o),o.connector.disconnect({terminate:!0}).catch(s=>{Q("[RemoteConnection: cleanupConnector()] error disconnecting connector",s)}))}(this.state)}}function P_(e){var t,n,r,i,o,s,a,l,c,u,d;return ne(this,void 0,void 0,function*(){const{options:f}=e;if(f.logging=(t=f.logging)!==null&&t!==void 0?t:{},f.communicationLayerPreference=(n=f.communicationLayerPreference)!==null&&n!==void 0?n:Fi.SOCKET,f.enableDebug!==void 0&&(It.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),f.enableAnalytics=(r=f.enableAnalytics)===null||r===void 0||r,f.injectProvider=(i=f.injectProvider)===null||i===void 0||i,f.shouldShimWeb3=(o=f.shouldShimWeb3)===null||o===void 0||o,f.extensionOnly=(s=f.extensionOnly)===null||s===void 0||s,f.useDeeplink=(a=f.useDeeplink)===null||a===void 0||a,f.storage=(l=f.storage)!==null&&l!==void 0?l:{enabled:!0},f.headless){It("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const w=()=>{},v={install:()=>({mount:w,unmount:w})},k={installer:w};f.modals=v,f.ui=k}const m=((c=f.logging)===null||c===void 0?void 0:c.developerMode)===!0;e.debug=((u=f.logging)===null||u===void 0?void 0:u.sdk)||m,Q("[MetaMaskSDK: performSDKInitialization()] options",e.options);const g=Object.assign({},f.logging);m&&(g.sdk=!0,g.eciesLayer=!0,g.keyExchangeLayer=!0,g.remoteLayer=!0,g.serviceLayer=!0,g.plaintext=!0),yield function(w){var v;return ne(this,void 0,void 0,function*(){const{options:k}=w;w.platformManager=new ja({useDeepLink:(v=k.useDeeplink)!==null&&v!==void 0&&v,preferredOpenLink:k.openDeeplink,debug:w.debug})})}(e),yield function(w){var v,k,P,O,F;return ne(this,void 0,void 0,function*(){const{options:B}=w,H=(v=w.platformManager)===null||v===void 0?void 0:v.getPlatformType();w.analytics=new k_({serverUrl:(k=B.communicationServerUrl)!==null&&k!==void 0?k:Yi,enabled:B.enableAnalytics,originatorInfo:{url:(P=B.dappMetadata.url)!==null&&P!==void 0?P:"",title:(O=B.dappMetadata.name)!==null&&O!==void 0?O:"",dappId:w.getDappId(),platform:H??"",source:(F=B._source)!==null&&F!==void 0?F:"",anonId:""}})})}(e),yield function(w){var v,k,P;return ne(this,void 0,void 0,function*(){if(!w.options.enableAnalytics||!(!((v=w.platformManager)===null||v===void 0)&&v.isBrowser())&&!(!((k=w.platformManager)===null||k===void 0)&&k.isReactNative()))return;const O=w.getVersion(),F=w.getDappId(),B=yield w.getAnonId(),H=(P=w.platformManager)===null||P===void 0?void 0:P.getPlatformType(),D=w.options._source;qe.setGlobalProperty("sdk_version",O),qe.setGlobalProperty("dapp_id",F),qe.setGlobalProperty("anon_id",B),qe.setGlobalProperty("platform",H),qe.setGlobalProperty("integration_type",D),qe.enable(),qe.track("sdk_initialized",{})})}(e),yield function(w){var v;return ne(this,void 0,void 0,function*(){const{options:k}=w;((v=k.storage)===null||v===void 0?void 0:v.enabled)!==!0||k.storage.storageManager||(k.storage.storageManager=yield lE(k.storage))})}(e),yield function(w){return ne(this,void 0,void 0,function*(){const{options:v}=w,k=/^(http|https):\/\/[^\s]*$/;if(v.dappMetadata){v.dappMetadata.iconUrl&&!k.test(v.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),v.dappMetadata.iconUrl=void 0),v.dappMetadata.base64Icon&&v.dappMetadata.base64Icon.length>163400&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),v.dappMetadata.base64Icon=void 0),v.dappMetadata.url&&!k.test(v.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const P=(()=>{if(typeof document>"u")return;let O;const F=document.getElementsByTagName("link");for(let B=0;B<F.length;B++)F[B].getAttribute("rel")!=="icon"&&F[B].getAttribute("rel")!=="shortcut icon"||(O=F[B].getAttribute("href"));return O})();if(P&&!v.dappMetadata.iconUrl&&!v.dappMetadata.base64Icon){const O=`${window.location.protocol}//${window.location.host}${P}`;v.dappMetadata.iconUrl=O}}w.dappMetadata=v.dappMetadata})}(e),yield(w=>ne(void 0,void 0,void 0,function*(){const{options:v}=w,{infuraAPIKey:k}=v;if(!k)return;const P={"0x1":`https://mainnet.infura.io/v3/${k}`,"0x5":`https://goerli.infura.io/v3/${k}`,"0xaa36a7":`https://sepolia.infura.io/v3/${k}`,"0xe708":`https://linea-mainnet.infura.io/v3/${k}`,"0xe704":`https://linea-goerli.infura.io/v3/${k}`,"0x89":`https://polygon-mainnet.infura.io/v3/${k}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${k}`,"0x45":`https://optimism-mainnet.infura.io/v3/${k}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${k}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${k}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${k}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${k}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${k}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${k}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${k}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${k}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${k}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${k}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${k}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${k}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${k}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${k}`};w.options.readonlyRPCMap?w.options.readonlyRPCMap=Object.assign(Object.assign({},w.options.readonlyRPCMap),P):w.options.readonlyRPCMap=P}))(e),yield(w=>ne(void 0,void 0,void 0,function*(){const{options:v}=w,{readonlyRPCMap:k}=v;if(k)try{Q("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",k),w.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}}))(e);const{metamaskBrowserExtension:y,preferExtension:x,shouldReturn:p}=yield function(w){var v,k,P,O;return ne(this,void 0,void 0,function*(){const{options:F}=w;let B,H=!1,D=!1;if(typeof window<"u"&&window.ethereum&&!(!((v=w.platformManager)===null||v===void 0)&&v.isMetaMaskMobileWebView())){H=localStorage.getItem(fu)==="extension";try{B=yield function({mustBeMetaMask:K,sdkInstance:z}){return ne(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const E=yield new Promise((b,S)=>{const M=setTimeout(()=>{S(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(pu.Announce,T=>{const _=T,{detail:{info:A,provider:I}={}}=_,{name:j,rdns:C,uuid:N}=A??{};w_.test(N)&&j.startsWith(a1.NAME)&&a1.RDNS.includes(C)&&(clearTimeout(M),b(I))}),window.dispatchEvent(new Event(pu.Request))});return g1({provider:E,sdkInstance:z})}catch{throw!K&&window.ethereum,new Error("Provider not found")}})}({mustBeMetaMask:!0,sdkInstance:w}),window.extension=B,B.on(l1,K=>{Q(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${K}`),w.sdkProvider&&w.getMobileProvider().emit(l1,K)}),B.on(c1,K=>ne(this,void 0,void 0,function*(){var z;Q(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${K}`);const E=!!w.sdkProvider,b=!!w.extensionActive;if(E&&w.getMobileProvider().emit(c1,K),b&&(K==null?void 0:K.length)===0&&(yield(z=w.getProvider())===null||z===void 0?void 0:z.request({method:ye.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield w.terminate()}catch(S){Q("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",S)}})),B.on(u1,K=>{Q(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${K}`),w.sdkProvider&&w.getMobileProvider().emit(u1,K)}),B.on(d1,K=>{Q(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${K}`),w.sdkProvider&&w.getMobileProvider().emit(d1,K)}),B.on(f1,K=>{Q("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",K),w.sdkProvider&&w.getMobileProvider().emit(f1,K)})}catch{window.extension=void 0}}else!((k=w.platformManager)===null||k===void 0)&&k.isMetaMaskMobileWebView()&&((P=w.analytics)===null||P===void 0||P.send({event:Ze.SDK_USE_INAPP_BROWSER}),w.activeProvider=g1({provider:window.ethereum,sdkInstance:w}),w._initialized=!0,D=!0);return B&&F.extensionOnly&&(Q("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(O=w.analytics)===null||O===void 0||O.send({event:Ze.SDK_USE_EXTENSION}),w.activeProvider=B,w.extensionActive=!0,w.extension=B,w._initialized=!0,D=!0),{preferExtension:H,shouldReturn:D,metamaskBrowserExtension:B}})}(e);if(p)Q("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(w,v){var k,P,O,F,B;return ne(this,void 0,void 0,function*(){const{options:H}=w,D=Object.assign({},H.logging);w.remoteConnection=new T_({anonId:yield w.getAnonId(),preferDesktop:(k=H.preferDesktop)!==null&&k!==void 0&&k,communicationLayerPreference:(P=H.communicationLayerPreference)!==null&&P!==void 0?P:Fi.SOCKET,analytics:w.analytics,dappMetadata:H.dappMetadata,_source:H._source,enableAnalytics:(O=H.enableAnalytics)===null||O===void 0||O,timer:H.timer,sdk:w,platformManager:w.platformManager,transports:H.transports,communicationServerUrl:H.communicationServerUrl,storage:(F=H.storage)!==null&&F!==void 0?F:{enabled:!0},getMetaMaskInstaller:()=>{if(!w.installer)throw new Error("Invalid SDK status -- installer not initialized");return w.installer},logging:D,connectWithExtensionProvider:v===void 0?void 0:()=>h1(w),modals:Object.assign(Object.assign({},H.modals),{onPendingModalDisconnect:w.terminate.bind(w)})}),yield w.remoteConnection.initRemoteCommunication({sdkInstance:w}),w.installer=new __({remote:w.remoteConnection,preferDesktop:(B=H.preferDesktop)!==null&&B!==void 0&&B,platformManager:w.platformManager,debug:w.debug})})}(e,y),yield function(w){var v,k,P,O;return ne(this,void 0,void 0,function*(){const{options:F}=w,B={communicationLayerPreference:(v=F.communicationLayerPreference)!==null&&v!==void 0?v:Fi.SOCKET,platformManager:w.platformManager,sdk:w,checkInstallationOnAllCalls:F.checkInstallationOnAllCalls,injectProvider:(k=F.injectProvider)===null||k===void 0||k,shouldShimWeb3:(P=F.shouldShimWeb3)===null||P===void 0||P,extensionOnly:(O=F.extensionOnly)===null||O===void 0||O,installer:w.installer,remoteConnection:w.remoteConnection,debug:w.debug},H=yield S_(B);w.activeProvider=H,function(D){var K,z,E,b;(z=(K=D.remoteConnection)===null||K===void 0?void 0:K.getConnector())===null||z===void 0||z.on(Ht.ConnectionStatus,S=>{D.emit(Ht.ConnectionStatus,S)}),(b=(E=D.remoteConnection)===null||E===void 0?void 0:E.getConnector())===null||b===void 0||b.on(Ht.ServiceStatus,S=>{D.emit(Ht.ServiceStatus,S)})}(w)})}(e),yield function(w,v){var k,P;return ne(this,void 0,void 0,function*(){const{options:O}=w;v?(Q("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(k=w.analytics)===null||k===void 0||k.send({event:Ze.SDK_EXTENSION_UTILIZED}),h1(w).catch(F=>{console.warn("Can't connect with MetaMask extension...",F),localStorage.removeItem(fu)})):O.checkInstallationImmediately&&(!((P=w.platformManager)===null||P===void 0)&&P.isDesktopWeb()?(Q("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),w.connect().catch(F=>{Q(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${F}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),w._initialized=!0})}(e,x);try{yield(d=e.remoteConnection)===null||d===void 0?void 0:d.startConnection({initialCheck:!0})}catch(w){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",w)}e.emit(Ht.ProviderUpdate,Sn.INITIALIZED)}})}class L_ extends i5{constructor(t={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:s1,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",It.disable();const o=((n=t.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=t.logging)===null||r===void 0)&&r.sdk||o)&&It.enable("MM_SDK"),Q("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=t.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");t.dappMetadata=Object.assign(Object.assign({},t.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=t,this.options._source||(t._source=s1),this.init().then(()=>{Q("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(s=>{console.error("[MetaMaskSDK: constructor()] error during initialization",s)})}init(){return ne(this,void 0,void 0,function*(){return function(t){var n;return ne(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return Q("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(t._initialized)return Q("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),t.sdkInitPromise;if(t.sdkInitPromise)return Q("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),t.sdkInitPromise;try{t.sdkInitPromise=P_(t),yield t.sdkInitPromise}catch(r){throw console.error(r),r}return t.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var t;return typeof window<"u"&&!!(!((t=window.ethereum)===null||t===void 0)&&t.isMetaMask)}connect(){return ne(this,void 0,void 0,function*(){return function(t){return ne(this,void 0,void 0,function*(){if(t._initialized||(Q("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield t.init()),Q(`[MetaMaskSDK: connect()] isExtensionActive=${t.isExtensionActive()} activeProvider`,t.activeProvider),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=t.activeProvider.getSelectedAddress();return n?[n]:t.activeProvider.request({method:ye.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:t}){return ne(this,void 0,void 0,function*(){return function({instance:n,msg:r}){return ne(this,void 0,void 0,function*(){if(n._initialized||(Q("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield n.init()),Q(`[MetaMaskSDK: connectAndSign()] activeProvider=${n.activeProvider}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");const i=/^0x([0-9A-Fa-f]{2})*$/u.test(r)?r:function(o){let s;if(oe!==void 0)s=oe.from(o,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const a=new TextEncoder().encode(o);s=Array.from(a).map(l=>l.toString(16).padStart(2,"0")).join("")}else{if(typeof $t!="object"||!("Buffer"in $t))throw new Error("Unable to convert string to hex: No available method.");s=$t.Buffer.from(o,"utf8").toString("hex")}return`0x${s}`}(r);return n.activeProvider.request({method:ye.METAMASK_CONNECTWITH,params:[{method:ye.PERSONAL_SIGN,params:[i]}]})})}({instance:this,msg:t})})}connectWith(t){return ne(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return ne(this,void 0,void 0,function*(){if(n._initialized||(Q("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),Q(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:ye.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:t})})}resume(){return function(t){var n,r,i;return ne(this,void 0,void 0,function*(){if(!(!((r=(n=t.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return Q("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=t.remoteConnection)===null||i===void 0||i.startConnection());Q("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var t;(t=this.remoteConnection)===null||t===void 0||t.isAuthorized()}terminate(){return function(t){var n,r,i;return ne(this,void 0,void 0,function*(){if(!(!((n=t.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(x_&&(window.localStorage.removeItem(fu),window.localStorage.removeItem(Gh),window.localStorage.removeItem(qh)),t.extensionActive){try{yield(r=t.activeProvider)===null||r===void 0?void 0:r.request({method:ye.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){Q("[MetaMaskSDK: terminate()] error revoking permissions",o)}return t.options.extensionOnly?(t.emit(Ht.ProviderUpdate,Sn.TERMINATE),void Q("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(t.activeProvider=t.sdkProvider,window.ethereum=t.activeProvider,t.extensionActive=!1,void t.emit(Ht.ProviderUpdate,Sn.TERMINATE))}t.emit(Ht.ProviderUpdate,Sn.TERMINATE),Q(`[MetaMaskSDK: terminate()] remoteConnection=${t.remoteConnection}`),(i=t.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(t){this.readonlyRPCCalls=t}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var t;const n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var t,n;return(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var t,n;return(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return io.version}getDappId(){var t,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(t=this.options.dappMetadata)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var t,n;return ne(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let r;return r=!((t=this.platformManager)===null||t===void 0)&&t.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():Qr(),this._anonId=r,r})}getBrowserAnonId(){const t=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(t);if(n)return n;const r=Qr();return localStorage.setItem(t,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),Qr()}}getReactNativeAnonId(){return ne(this,void 0,void 0,function*(){const t=this.ANON_ID_STORAGE_KEY;try{const n=require("@react-native-async-storage/async-storage").default,r=yield n.getItem(t);if(r)return r;const i=Qr();return yield n.setItem(t,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),Qr()}})}getWalletStatus(){var t,n;return(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var t;return(t=this.remoteConnection)===null||t===void 0?void 0:t.getChannelConfig()}_ping(){var t,n;(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var t,n;(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var t,n;return(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var t;return(t=this.remoteConnection)===null||t===void 0?void 0:t.getKeyInfo()}_resetKeys(){var t,n;(n=(t=this.remoteConnection)===null||t===void 0?void 0:t.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(t,n){return super.emit(t,n)}on(t,n){return super.on(t,n)}}var R_=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:e}={enabled:!1}){this.enabled=!1,this.enabled=e}persistChannelConfig(e){return ne(this,void 0,void 0,function*(){const t=JSON.stringify(e);Q(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,e),localStorage.setItem(hf,t)})}getPersistedChannelConfig(){return ne(this,void 0,void 0,function*(){let e;try{if(Q(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),e=localStorage.getItem(hf),Q("[StorageManagerWeb: getPersistedChannelConfig()]",e),!e)return;const t=JSON.parse(e);return Q("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",t),t}catch(t){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",t)}})}persistAccounts(e){return ne(this,void 0,void 0,function*(){Q(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,e);const t=JSON.stringify(e);localStorage.setItem(qh,t)})}getCachedAccounts(){return ne(this,void 0,void 0,function*(){try{const e=localStorage.getItem(qh);return e?JSON.parse(e):[]}catch(e){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",e),e}})}persistChainId(e){return ne(this,void 0,void 0,function*(){Q(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,e),localStorage.setItem(Gh,e)})}getCachedChainId(){return ne(this,void 0,void 0,function*(){try{const e=localStorage.getItem(Gh);return e??void 0}catch(e){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",e),e}})}terminate(){return ne(this,void 0,void 0,function*(){Q(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(hf)})}}}),j_=Object.defineProperty,P0=new WeakMap,ii=e=>P0.get(e),L0=(e,t)=>P0.set(t.$lazyInstance$=e,t),k1=(e,t)=>t in e,Ui=(e,t)=>(0,console.error)(e,t),pf=new Map,yc=new Map,pE="slot-fb{display:contents}slot-fb[hidden]{display:none}",Hu=typeof window<"u"?window:{},Jn=Hu.document||{head:{}},ft={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},mE=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Zh=!1,C1=[],gE=[],_1=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Ui(n)}e.length=0},Qh=()=>{_1(C1),_1(gE),(Zh=C1.length>0)&&ft.raf(Qh)},R0=e=>Promise.resolve(void 0).then(e),I_=((e,t)=>n=>{e.push(n),Zh||(Zh=!0,4&ft.$flags$?R0(Qh):ft.raf(Qh))})(gE),N1={},j0=e=>(e=typeof e)=="object"||e==="function";function yE(e){var t,n,r;return(r=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((e,t)=>{for(var n in t)j_(e,n,{get:t[n],enumerable:!0})})({},{err:()=>vE,map:()=>O_,ok:()=>Jh,unwrap:()=>$_,unwrapErr:()=>D_});var Jh=e=>({isOk:!0,isErr:!1,value:e}),vE=e=>({isOk:!1,isErr:!0,value:e});function O_(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(r=>Jh(r)):Jh(n)}if(e.isErr){const n=e.value;return vE(n)}throw"should never get here"}var I0,$_=e=>{if(e.isOk)return e.value;throw e.value},D_=e=>{if(e.isErr)return e.value;throw e.value},ee=(e,t,...n)=>{let r=null,i=!1,o=!1;const s=[],a=c=>{for(let u=0;u<c.length;u++)r=c[u],Array.isArray(r)?a(r):r!=null&&typeof r!="boolean"&&((i=typeof e!="function"&&!j0(r))&&(r=String(r)),i&&o?s[s.length-1].$text$+=r:s.push(i?mu(null,r):r),o=i)};if(a(n),t){const c=t.className||t.class;c&&(t.class=typeof c!="object"?c:Object.keys(c).filter(u=>c[u]).join(" "))}if(typeof e=="function")return e(t===null?{}:t,s,F_);const l=mu(e,null);return l.$attrs$=t,s.length>0&&(l.$children$=s),l},mu=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),B_={},F_={forEach:(e,t)=>e.map(A1).forEach(t),map:(e,t)=>e.map(A1).map(t).map(U_)},A1=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),U_=e=>{if(typeof e.vtag=="function"){const n={...e.vattrs};return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),ee(e.vtag,n,...e.vchildren||[])}const t=mu(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Vu=e=>ii(e).$hostElement$,mi=(e,t,n)=>{const r=Vu(e);return{emit:i=>wE(r,t,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},wE=(e,t,n)=>{const r=ft.ce(t,n);return e.dispatchEvent(r),r},M1=new WeakMap,bE=(e,t)=>"sc-"+e.$tagName$,T1=(e,t,n,r,i,o)=>{if(n!==r){let s=k1(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,c=P1(n),u=P1(r);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(t==="style"){for(const l in n)r&&r[l]!=null||(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in r)n&&r[l]===n[l]||(l.includes("-")?e.style.setProperty(l,r[l]):e.style[l]=r[l])}else if(s||t[0]!=="o"||t[1]!=="n"){const l=j0(r);if((s||l&&r!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const c=r??"";t==="list"?s=!1:n!=null&&e[t]==c||(typeof e.__lookupSetter__(t)=="function"?e[t]=c:e.setAttribute(t,c))}}catch{}r==null||r===!1?r===!1&&e.getAttribute(t)!==""||e.removeAttribute(t):(!s||4&o||i)&&!l&&(r=r===!0?"":r,e.setAttribute(t,r))}else if(t=t[2]==="-"?t.slice(3):k1(Hu,a)?a.slice(2):a[2]+t.slice(3),n||r){const l=t.endsWith(xE);t=t.replace(z_,""),n&&ft.rel(e,t,n,l),r&&ft.ael(e,t,r,l)}}},K_=/\s/,P1=e=>e?e.split(K_):[],xE="Capture",z_=new RegExp(xE+"$"),EE=(e,t,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||N1,o=t.$attrs$||N1;for(const s of L1(Object.keys(i)))s in o||T1(r,s,i[s],void 0,n,t.$flags$);for(const s of L1(Object.keys(o)))T1(r,s,i[s],o[s],n,t.$flags$)};function L1(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var gn=!1,O0=(e,t,n,r)=>{const i=t.$children$[n];let o,s,a=0;if(i.$text$!==null)o=i.$elm$=Jn.createTextNode(i.$text$);else{if(gn||(gn=i.$tag$==="svg"),o=i.$elm$=Jn.createElementNS(gn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),gn&&i.$tag$==="foreignObject"&&(gn=!1),EE(null,i,gn),o.getRootNode().querySelector("body"),i.$children$)for(a=0;a<i.$children$.length;++a)s=O0(e,i,a),s&&o.appendChild(s);i.$tag$==="svg"?gn=!1:o.tagName==="foreignObject"&&(gn=!0)}return o["s-hn"]=I0,o},R1=(e,t,n,r,i,o)=>{let s,a=e;for(a.shadowRoot&&a.tagName===I0&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=O0(null,n,i),s&&(r[i].$elm$=s,vc(a,s,t)))},j1=(e,t,n)=>{for(let r=t;r<=n;++r){const i=e[r];if(i){const o=i.$elm$;o&&o.remove()}}},$l=(e,t,n=!1)=>e.$tag$===t.$tag$,Bs=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;a===null?(EE(e,t,gn=s==="svg"||s!=="foreignObject"&&gn),i!==null&&o!==null?((l,c,u,d,f=!1)=>{let m,g=0,y=0,x=c.length-1,p=c[0],w=c[x],v=d.length-1,k=d[0],P=d[v];for(;g<=x&&y<=v;)p==null?p=c[++g]:w==null?w=c[--x]:k==null?k=d[++y]:P==null?P=d[--v]:$l(p,k,f)?(Bs(p,k,f),p=c[++g],k=d[++y]):$l(w,P,f)?(Bs(w,P,f),w=c[--x],P=d[--v]):$l(p,P,f)?(Bs(p,P,f),vc(l,p.$elm$,w.$elm$.nextSibling),p=c[++g],P=d[--v]):$l(w,k,f)?(Bs(w,k,f),vc(l,w.$elm$,p.$elm$),w=c[--x],k=d[++y]):(m=O0(c&&c[y],u,y),k=d[++y],m&&vc(p.$elm$.parentNode,m,p.$elm$));g>x?R1(l,d[v+1]==null?null:d[v+1].$elm$,u,d,y,v):y>v&&j1(c,g,x)})(r,i,t,o,n):o!==null?(e.$text$!==null&&(r.textContent=""),R1(r,null,t,o,0,o.length-1)):!n&&i!==null&&j1(i,0,i.length-1),gn&&s==="svg"&&(gn=!1)):e.$text$!==a&&(r.data=a)},vc=(e,t,n)=>e==null?void 0:e.insertBefore(t,n),SE=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(n=>e.$onRenderResolve$=n))},$0=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return SE(e,e.$ancestorComponent$),I_(()=>H_(e,t));e.$flags$|=512},H_=(e,t)=>{const n=e.$hostElement$;e.$cmpMeta$.$tagName$;const r=e.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return V_(void 0,()=>q_(e,r,t))},V_=(e,t)=>W_(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),W_=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",q_=async(e,t,n)=>{var r;const i=e.$hostElement$;e.$cmpMeta$.$tagName$;const o=i["s-rc"];n&&(s=>{const a=s.$cmpMeta$,l=s.$hostElement$,c=a.$flags$;a.$tagName$;const u=((d,f,m)=>{var g;const y=bE(f),x=yc.get(y);if(d=d.nodeType===11?d:Jn,x)if(typeof x=="string"){d=d.head||d;let p,w=M1.get(d);if(w||M1.set(d,w=new Set),!w.has(y)){{p=Jn.createElement("style"),p.innerHTML=x;const v=(g=ft.$nonce$)!=null?g:yE(Jn);if(v!=null&&p.setAttribute("nonce",v),!(1&f.$flags$))if(d.nodeName==="HEAD"){const k=d.querySelectorAll("link[rel=preconnect]"),P=k.length>0?k[k.length-1].nextSibling:d.querySelector("style");d.insertBefore(p,P)}else if("host"in d)if(mE){const k=new CSSStyleSheet;k.replaceSync(x),d.adoptedStyleSheets=[k,...d.adoptedStyleSheets]}else{const k=d.querySelector("style");k?k.innerHTML=x+k.innerHTML:d.prepend(p)}else d.append(p);1&f.$flags$&&d.nodeName!=="HEAD"&&d.insertBefore(p,null)}4&f.$flags$&&(p.innerHTML+=pE),w&&w.add(y)}}else d.adoptedStyleSheets.includes(x)||(d.adoptedStyleSheets=[...d.adoptedStyleSheets,x]);return y})(l.shadowRoot?l.shadowRoot:l.getRootNode(),a);10&c&&2&c&&(l["s-sc"]=u,l.classList.add(u+"-h"))})(e),e.$cmpMeta$.$tagName$,G_(e,t,i,n),o&&(o.map(s=>s()),i["s-rc"]=void 0);{const s=(r=i["s-p"])!=null?r:[],a=()=>Y_(e);s.length===0?a():(Promise.all(s).then(a),e.$flags$|=4,s.length=0)}},G_=(e,t,n,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,((i,o,s=!1)=>{const a=i.$hostElement$,l=i.$cmpMeta$,c=i.$vnode$||mu(null,null),u=(d=o)&&d.$tag$===B_?o:ee(null,null,o);var d;if(I0=a.tagName,s&&u.$attrs$)for(const f of Object.keys(u.$attrs$))a.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(u.$attrs$[f]=a[f]);u.$tag$=null,u.$flags$|=4,i.$vnode$=u,u.$elm$=c.$elm$=a.shadowRoot||a,a["s-sc"],1&l.$flags$,Bs(c,u,s)})(e,t,r)}catch(i){Ui(i,e.$hostElement$)}return null},Y_=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$||(e.$flags$|=64,CE(t),D0(n,"componentDidLoad"),e.$onReadyResolve$(t),r||kE()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&R0(()=>$0(e,!1)),e.$flags$&=-517},kE=e=>{CE(Jn.documentElement),R0(()=>wE(Hu,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},D0=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){Ui(r)}},CE=e=>e.classList.add("hydrated"),I1=(e,t,n)=>{var r,i;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const s=Object.entries((r=t.$members$)!=null?r:{});if(s.map(([a,[l]])=>{(31&l||2&n&&32&l)&&Object.defineProperty(o,a,{get(){return c=a,ii(this).$instanceValues$.get(c);var c},set(c){((u,d,f,m)=>{const g=ii(u);if(!g)throw new Error(`Couldn't find host element for "${m.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const y=g.$hostElement$,x=g.$instanceValues$.get(d),p=g.$flags$,w=g.$lazyInstance$;var v,k;v=f,k=m.$members$[d][0],f=v==null||j0(v)?v:4&k?v!=="false"&&(v===""||!!v):1&k?String(v):v;const P=Number.isNaN(x)&&Number.isNaN(f);if((!(8&p)||x===void 0)&&f!==x&&!P&&(g.$instanceValues$.set(d,f),w)){if(m.$watchers$&&128&p){const O=m.$watchers$[d];O&&O.map(F=>{try{w[F](f,x,d)}catch(B){Ui(B,y)}})}(18&p)==2&&$0(g,!1)}})(this,a,c,t)},configurable:!0,enumerable:!0})}),1&n){const a=new Map;o.attributeChangedCallback=function(l,c,u){ft.jmp(()=>{var d;const f=a.get(l);if(this.hasOwnProperty(f))u=this[f],delete this[f];else{if(o.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==u)return;if(f==null){const m=ii(this),g=m==null?void 0:m.$flags$;if(g&&!(8&g)&&128&g&&u!==c){const y=m.$lazyInstance$,x=(d=t.$watchers$)==null?void 0:d[l];x==null||x.forEach(p=>{y[p]!=null&&y[p].call(y,u,c,l)})}return}}this[f]=(u!==null||typeof this[f]!="boolean")&&u})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...s.filter(([l,c])=>15&c[0]).map(([l,c])=>{const u=c[1]||l;return a.set(u,l),u})]))}}return e},mf=e=>{D0(e,"connectedCallback")},O1=e=>{D0(e,"disconnectedCallback")},Z_=(e,t={})=>{var n;const r=[],i=t.exclude||[],o=Hu.customElements,s=Jn.head,a=s.querySelector("meta[charset]"),l=Jn.createElement("style"),c=[];let u,d=!0;Object.assign(ft,t),ft.$resourcesUrl$=new URL(t.resourcesUrl||"./",Jn.baseURI).href;let f=!1;if(e.map(m=>{m[1].map(g=>{var y;const x={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};4&x.$flags$&&(f=!0),x.$members$=g[2],x.$watchers$=(y=g[4])!=null?y:{};const p=x.$tagName$,w=class extends HTMLElement{constructor(v){if(super(v),this.hasRegisteredEventListeners=!1,((k,P)=>{const O={$flags$:0,$hostElement$:k,$cmpMeta$:P,$instanceValues$:new Map};O.$onReadyPromise$=new Promise(F=>O.$onReadyResolve$=F),k["s-p"]=[],k["s-rc"]=[],P0.set(k,O)})(v=this,x),1&x.$flags$)if(v.shadowRoot){if(v.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${x.$tagName$}! Mode is set to ${v.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else v.attachShadow({mode:"open"})}connectedCallback(){ii(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),d?c.push(this):ft.jmp(()=>(v=>{if(!(1&ft.$flags$)){const k=ii(v),P=k.$cmpMeta$;if(P.$tagName$,1&k.$flags$)k!=null&&k.$lazyInstance$?mf(k.$lazyInstance$):k!=null&&k.$onReadyPromise$&&k.$onReadyPromise$.then(()=>mf(k.$lazyInstance$));else{k.$flags$|=1;{let O=v;for(;O=O.parentNode||O.host;)if(O["s-p"]){SE(k,k.$ancestorComponent$=O);break}}P.$members$&&Object.entries(P.$members$).map(([O,[F]])=>{if(31&F&&v.hasOwnProperty(O)){const B=v[O];delete v[O],v[O]=B}}),(async(O,F,B,H)=>{let D;if(!(32&F.$flags$)){if(F.$flags$|=32,B.$lazyBundleId$){const E=((b,S,M)=>{const T=b.$tagName$.replace(/-/g,"_"),_=b.$lazyBundleId$;if(!_)return;const A=pf.get(_);if(A)return A[T];{const I=j=>(pf.set(_,j),j[T]);if(_==="mm-install-modal_3")return Promise.resolve().then(function(){return c6}).then(I,Ui)}return Bk(()=>import(`./${_}.entry.js`),[]).then(I=>(pf.set(_,I),I[T]),Ui)})(B);if(D=E&&"then"in E?await E:E,!D)throw new Error(`Constructor for "${B.$tagName$}#${F.$modeName$}" was not found`);D.isProxied||(B.$watchers$=D.watchers,I1(D,B,2),D.isProxied=!0),B.$tagName$,F.$flags$|=8;try{new D(F)}catch(b){Ui(b)}F.$flags$&=-9,F.$flags$|=128,mf(F.$lazyInstance$)}else{D=O.constructor;const E=O.localName;customElements.whenDefined(E).then(()=>F.$flags$|=128)}if(D&&D.style){let E;typeof D.style=="string"&&(E=D.style);const b=bE(B);yc.has(b)||(B.$tagName$,((S,M,T)=>{let _=yc.get(S);mE&&T?(_=_||new CSSStyleSheet,typeof _=="string"?_=M:_.replaceSync(M)):_=M,yc.set(S,_)})(b,E,!!(1&B.$flags$)))}}const K=F.$ancestorComponent$,z=()=>$0(F,!0);K&&K["s-rc"]?K["s-rc"].push(z):z()})(v,k,P)}}})(this))}disconnectedCallback(){ft.jmp(()=>(async v=>{if(!(1&ft.$flags$)){const k=ii(v);k!=null&&k.$lazyInstance$?O1(k.$lazyInstance$):k!=null&&k.$onReadyPromise$&&k.$onReadyPromise$.then(()=>O1(k.$lazyInstance$))}})(this))}componentOnReady(){return ii(this).$onReadyPromise$}};x.$lazyBundleId$=m[0],i.includes(p)||o.get(p)||(r.push(p),o.define(p,I1(w,x,1)))})}),r.length>0&&(f&&(l.textContent+=pE),l.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");const m=(n=ft.$nonce$)!=null?n:yE(Jn);m!=null&&l.setAttribute("nonce",m),s.insertBefore(l,a?a.nextSibling:s.firstChild)}d=!1,c.length?c.map(m=>m.connectedCallback()):ft.jmp(()=>u=setTimeout(kE,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();var Q_=Object.freeze({__proto__:null,defineCustomElements:async(e,t)=>{if(typeof window<"u")return await void 0,Z_([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],t)},setNonce:e=>ft.$nonce$=e});const J_={fontFamily:"Roboto, sans-serif"},B0=({className:e},t)=>ee("div",{style:J_,class:e},t),gf=({Icon:e,text:t})=>ee("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},ee("div",{class:"flexItem1"},ee(e,null)),ee("div",{class:"flexItem11"},ee("span",{style:{lineHeight:"2",color:"black"}},t))),X_=()=>ee("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),ee("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),e6=()=>ee("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),t6=()=>ee("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),n6=()=>ee("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),ee("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),ee("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function F0({version:e}){return ee("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",e?`v${e}`:"unknown")}const U0=()=>ee("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("rect",{width:"16",height:"16",fill:"white"}),ee("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),K0=()=>ee("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},ee("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Ci(e,t){return e.toString(2).padStart(t,"0")}function $1(e,t){const n=e%t;return n>=0?n:t+n}function nn(e,t){return new Array(e).fill(t)}function D1(...e){let t=0;for(const r of e)t=Math.max(t,r.length);const n=[];for(let r=0;r<t;r++)for(const i of e)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function B1(e,t,n){if(n<0||n+t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[n+r])return!1;return!0}function F1(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})},encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})}}}class Xt{static size(t,n){if(typeof t=="number"&&(t={height:t,width:t}),!Number.isSafeInteger(t.height)&&t.height!==1/0)throw new Error(`Bitmap: wrong height=${t.height} (${typeof t.height})`);if(!Number.isSafeInteger(t.width)&&t.width!==1/0)throw new Error(`Bitmap: wrong width=${t.width} (${typeof t.width})`);return n!==void 0&&(t={width:Math.min(t.width,n.width),height:Math.min(t.height,n.height)}),t}static fromString(t){const n=(t=t.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Xt({height:r,width:o},i)}constructor(t,n){const{height:r,width:i}=Xt.size(t);this.data=n||Array.from({length:r},()=>nn(i,void 0)),this.height=r,this.width=i}point(t){return this.data[t.y][t.x]}isInside(t){return 0<=t.x&&t.x<this.width&&0<=t.y&&t.y<this.height}size(t){if(!t)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(t);return{height:this.height-r,width:this.width-n}}xy(t){if(typeof t=="number"&&(t={x:t,y:t}),!Number.isSafeInteger(t.x))throw new Error(`Bitmap: wrong x=${t.x}`);if(!Number.isSafeInteger(t.y))throw new Error(`Bitmap: wrong y=${t.y}`);return t.x=$1(t.x,this.width),t.y=$1(t.y,this.height),t}rect(t,n,r){const{x:i,y:o}=this.xy(t),{height:s,width:a}=Xt.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(t,n,r){return this.rect(t,n,(i,o)=>(r(i,o),o))}hLine(t,n,r){return this.rect(t,{width:n,height:1},r)}vLine(t,n,r){return this.rect(t,{width:1,height:n},r)}border(t=2,n){const r=this.height+2*t,i=this.width+2*t,o=nn(t,n),s=Array.from({length:t},()=>nn(i,n));return new Xt({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(t,n){return this.rect(t,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(t,n=this.size()){const r=new Xt(Xt.size(n,this.size(this.xy(t))));return this.rect(t,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:t,width:n}=this;return new Xt({height:n,width:t}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(t){if(!Number.isSafeInteger(t)||t>1024)throw new Error(`Wrong scale factor: ${t}`);const{height:n,width:r}=this;return new Xt({height:t*n,width:t*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/t)][Math.floor(i/t)])}clone(){return new Xt(this.size()).rect({x:0,y:0},this.size(),({x:t,y:n})=>this.data[n][t])}assertDrawn(){this.rectRead(0,1/0,(t,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(t=>t.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:t,width:n,data:r}=this;let i="";for(let o=0;o<t;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=t||r[o+1][s];a||l?!a&&l?i+="":a&&!l?i+="":a&&l&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const t="\x1B[0m",n=`\x1B[1;47m  ${t}`,r=`\x1B[40m  ${t}`;return this.data.map(i=>i.map(o=>o?r:n).join("")).join(`
`)}toSVG(){let t=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(t+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),t+="</svg>",t}toGIF(){const t=a=>[255&a,a>>>8&255],n=[...t(this.width),...t(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...nn(381,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(127,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(t=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(t?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,t||(i[o++]=255)}return{height:n,width:r,data:i}}}const U1=["low","medium","quartile","high"],K1=["numeric","alphanumeric","byte","kanji","eci"],r6=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],i6={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},o6={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},At={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(e===1)return[];const t=At.size.encode(e)-6-1,n=t-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let s=1;s<r;s++)o.push(t-(r-s)*i);return o.push(t),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const n=At.ECCode[e]<<3|t;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^At.formatMask},versionBits(e){let t=e;for(let n=0;n<12;n++)t=t<<1^7973*(t>>11);return e<<12|t},alphabet:{numeric:F1("0123456789"),alphanumerc:F1("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(e,t)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[t][At.sizeType(e)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(e,t){const n=r6[e-1],r=i6[t][e-1],i=o6[t][e-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},Xh=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],me={tables:(e=>{const t=nn(256,0),n=nn(256,0);for(let r=0,i=1;r<256;r++)t[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:t,log:n}})(),exp:e=>me.tables.exp[e],log(e){if(e===0)throw new Error(`GF.log: wrong arg=${e}`);return me.tables.log[e]%255},mul:(e,t)=>e===0||t===0?0:me.tables.exp[(me.tables.log[e]+me.tables.log[t])%255],add:(e,t)=>e^t,pow:(e,t)=>me.tables.exp[me.tables.log[e]*t%255],inv(e){if(e===0)throw new Error(`GF.inverse: wrong arg=${e}`);return me.tables.exp[255-me.tables.log[e]]},polynomial(e){if(e.length==0)throw new Error("GF.polymomial: wrong length");if(e[0]!==0)return e;let t=0;for(;t<e.length-1&&e[t]==0;t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: wrong degree=${e}`);if(t==0)return[0];let n=nn(e+1,0);return n[0]=t,me.polynomial(n)},degree:e=>e.length-1,coefficient:(e,t)=>e[me.degree(e)-t],mulPoly(e,t){if(e[0]===0||t[0]===0)return[0];const n=nn(e.length+t.length-1,0);for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)n[r+i]=me.add(n[r+i],me.mul(e[r],t[i]));return me.polynomial(n)},mulPolyScalar(e,t){if(t==0)return[0];if(t==1)return e;const n=nn(e.length,0);for(let r=0;r<e.length;r++)n[r]=me.mul(e[r],t);return me.polynomial(n)},mulPolyMonomial(e,t,n){if(t<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=nn(e.length+t,0);for(let i=0;i<e.length;i++)r[i]=me.mul(e[i],n);return me.polynomial(r)},addPoly(e,t){if(e[0]===0)return t;if(t[0]===0)return e;let n=e,r=t;n.length>r.length&&([n,r]=[r,n]);let i=nn(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=me.add(n[a-o],r[a]);return me.polynomial(i)},remainderPoly(e,t){const n=Array.from(e);for(let r=0;r<e.length-t.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<t.length;o++)t[o]!==0&&(n[r+o]=me.add(n[r+o],me.mul(t[o],i)))}return n.slice(e.length-t.length+1,n.length)},divisorPoly(e){let t=[1];for(let n=0;n<e;n++)t=me.mulPoly(t,[1,me.pow(2,n)]);return t},evalPoly(e,t){if(t==0)return me.coefficient(e,0);let n=e[0];for(let r=1;r<e.length;r++)n=me.add(me.mul(t,n),e[r]);return n},euclidian(e,t,n){me.degree(e)<me.degree(t)&&([e,t]=[t,e]);let r=e,i=t,o=[0],s=[1];for(;2*me.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=me.inv(r[0]);for(;me.degree(i)>=me.degree(r)&&i[0]!==0;){const m=me.degree(i)-me.degree(r),g=me.mul(i[0],f);d=me.addPoly(d,me.monomial(m,g)),i=me.addPoly(i,me.mulPolyMonomial(r,m,g))}if(d=me.mulPoly(d,o),s=me.addPoly(d,u),me.degree(i)>=me.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=me.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=me.inv(a);return[me.mulPolyScalar(s,l),me.mulPolyScalar(i,l)]}};function z1(e,t,n,r){let i="",o=n.length;if(r==="numeric"){const u=At.alphabet.numeric.decode(n.split("")),d=u.length;for(let f=0;f<d-2;f+=3)i+=Ci(100*u[f]+10*u[f+1]+u[f+2],10);d%3==1?i+=Ci(u[d-1],4):d%3==2&&(i+=Ci(10*u[d-2]+u[d-1],7))}else if(r==="alphanumeric"){const u=At.alphabet.alphanumerc.decode(n.split("")),d=u.length;for(let f=0;f<d-1;f+=2)i+=Ci(45*u[f]+u[f+1],11);d%2==1&&(i+=Ci(u[d-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const u=function(d){if(typeof d!="string")throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array(new TextEncoder().encode(d))}(n);o=u.length,i=Array.from(u).map(d=>Ci(d,8)).join("")}}const{capacity:s}=At.capacity(e,t),a=Ci(o,At.lengthBits(e,r));let l=At.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));for(let u=0;l.length!==s;u++)l+="1110110000010001"[u%16];const c=Uint8Array.from(l.match(/(.{8})/g).map(u=>+`0b${u}`));return function(u,d){const{words:f,shortBlocks:m,numBlocks:g,blockLen:y,total:x}=At.capacity(u,d),p=(w=f,{encode(v){const k=me.divisorPoly(w),P=Array.from(v);return P.push(...k.slice(0,-1).fill(0)),Uint8Array.from(me.remainderPoly(P,k))},decode(v){const k=v.slice(),P=me.polynomial(Array.from(v));let O=nn(w,0),F=!1;for(let E=0;E<w;E++){const b=me.evalPoly(P,me.exp(E));O[O.length-1-E]=b,b!==0&&(F=!0)}if(!F)return k;O=me.polynomial(O);const B=me.monomial(w,1),[H,D]=me.euclidian(B,O,w),K=nn(me.degree(H),0);let z=0;for(let E=1;E<256&&z<K.length;E++)me.evalPoly(H,E)===0&&(K[z++]=me.inv(E));if(z!==K.length)throw new Error("RS.decode: wrong errors number");for(let E=0;E<K.length;E++){const b=k.length-1-me.log(K[E]);if(b<0)throw new Error("RS.decode: wrong error location");const S=me.inv(K[E]);let M=1;for(let T=0;T<K.length;T++)E!==T&&(M=me.mul(M,me.add(1,me.mul(K[T],S))));k[b]=me.add(k[b],me.mul(me.evalPoly(D,S),me.inv(M)))}return k}});var w;return{encode(v){const k=[],P=[];for(let H=0;H<g;H++){const D=y+(H<m?0:1);k.push(v.subarray(0,D)),P.push(p.encode(v.subarray(0,D))),v=v.subarray(D)}const O=D1(...k),F=D1(...P),B=new Uint8Array(O.length+F.length);return B.set(O),B.set(F,O.length),B},decode(v){if(v.length!==x)throw new Error(`interleave.decode: len(data)=${v.length}, total=${x}`);const k=[];for(let F=0;F<g;F++){const B=F<m;k.push(new Uint8Array(f+y+(B?0:1)))}let P=0;for(let F=0;F<y;F++)for(let B=0;B<g;B++)k[B][F]=v[P++];for(let F=m;F<g;F++)k[F][y]=v[P++];for(let F=y;F<y+f;F++)for(let B=0;B<g;B++){const H=B<m;k[B][F+(H?0:1)]=v[P++]}const O=[];for(const F of k)O.push(...Array.from(p.decode(F)).slice(0,-f));return Uint8Array.from(O)}}}(e,t).encode(c)}function H1(e,t,n,r,i=!1){const o=function(l,c,u,d=!1){const f=At.size.encode(l);let m=new Xt(f+2);const g=new Xt(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);m=m.embed(0,g).embed({x:-g.width,y:0},g).embed({x:0,y:-g.height},g),m=m.rectSlice(1,f);const y=new Xt(1).rect(0,1,!0).border(1,!1).border(1,!0),x=At.alignmentPatterns(l);for(const p of x)for(const w of x)m.data[p][w]===void 0&&m.embed({x:w-2,y:p-2},y);m=m.hLine({x:0,y:6},1/0,({x:p},w)=>w===void 0?p%2==0:w).vLine({x:6,y:0},1/0,({y:p},w)=>w===void 0?p%2==0:w);{const p=At.formatBits(c,u),w=v=>!d&&(p>>v&1)==1;for(let v=0;v<6;v++)m.data[v][8]=w(v);for(let v=6;v<8;v++)m.data[v+1][8]=w(v);for(let v=8;v<15;v++)m.data[f-15+v][8]=w(v);for(let v=0;v<8;v++)m.data[8][f-v-1]=w(v);for(let v=8;v<9;v++)m.data[8][15-v-1+1]=w(v);for(let v=9;v<15;v++)m.data[8][15-v-1]=w(v);m.data[f-8][8]=!d}if(l>=7){const p=At.versionBits(l);for(let w=0;w<18;w+=1){const v=!d&&(p>>w&1)==1,k=Math.floor(w/3),P=w%3+f-8-3;m.data[k][P]=v,m.data[P][k]=v}}return m}(e,t,r,i);let s=0;const a=8*n.length;if(function(l,c,u){const d=l.height,f=Xh[c];let m=-1,g=d-1;for(let y=d-1;y>0;y-=2){for(y==6&&(y=5);;g+=m){for(let x=0;x<2;x+=1){const p=y-x;l.data[g][p]===void 0&&u(p,g,f(p,g))}if(g+m<0||g+m>=d)break}m=-m}}(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!=0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function s6(e){const t=e.inverse(),n=m=>{let g=0;for(let y,x=0,p=1;x<m.length;x++)y===m[x]&&(p++,x!==m.length-1)||(p>=5&&(g+=p-5+3),y=m[x],p=1);return g};let r=0;e.data.forEach(m=>r+=n(m)),t.data.forEach(m=>r+=n(m));let i=0,o=e.data;const s=e.width-1,a=e.height-1;for(let m=0;m<s;m++)for(let g=0;g<a;g++){const y=m+1,x=g+1;o[m][g]===o[y][g]&&o[y][g]===o[m][x]&&o[y][g]===o[y][x]&&(i+=3)}const l=m=>{const g=[!0,!1,!0,!0,!0,!1,!0],y=[!1,!1,!1,!1],x=[...g,...y],p=[...y,...g];let w=0;for(let v=0;v<m.length;v++)B1(m,x,v)&&(w+=40),B1(m,p,v)&&(w+=40);return w};let c=0;for(const m of e.data)c+=l(m);for(const m of t.data)c+=l(m);let u=0;e.rectRead(0,1/0,(m,g)=>u+=g?1:0);const d=u/(e.height*e.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function _E(e,t="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(u){if(!U1.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${U1}`)})(r);const i=n.encoding!==void 0?n.encoding:function(u){let d="numeric";for(let f of u)if(!At.alphabet.numeric.has(f)&&(d="alphanumeric",!At.alphabet.alphanumerc.has(f)))return"byte";return d}(e);(function(u){if(!K1.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${K1}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),n.mask!==void 0&&function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!Xh[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error("Unknown error");if(s!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(s),o=z1(s,r,e,i);else for(let u=1;u<=40;u++)try{o=z1(u,r,e,i),s=u;break}catch(d){a=d}if(!s||!o)throw a;let l=function(u,d,f,m){if(m===void 0){const g=function(){let y,x=1/0;return{add(p,w){p>=x||(y=w,x=p)},get:()=>y,score:()=>x}}();for(let y=0;y<Xh.length;y++)g.add(s6(H1(u,d,f,y,!0)),y);m=g.get()}if(m===void 0)throw new Error("Cannot find mask");return H1(u,d,f,m)}(s,r,o,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error("Wrong border type="+typeof c);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),t==="raw")return l.data;if(t==="ascii")return l.toASCII();if(t==="svg")return l.toSVG();if(t==="gif")return l.toGIF();if(t==="term")return l.toTerm();throw new Error(`Unknown output: ${t}`)}const yf={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class z0{constructor(t){var n;this.translations=yf,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=t==null?void 0:t.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const t=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(t)?t:"en"}async init(t){const n=this.getBrowserLanguage()||t.fallbackLng;await this.loadTranslations(n)}async loadTranslations(t){const n=t.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=yf}else this.translations=yf}t(t){return this.getNestedTranslation(t,this.translations)||t}getNestedTranslation(t,n){const r=t.split(".");let i=n;for(const o of r){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var oa;(function(e){e.SDK_MODAL_VIEWED="sdk_modal_viewed",e.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",e.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(oa||(oa={}));const NE=class{constructor(e){L0(this,e),this.close=mi(this,"close"),this.startDesktopOnboarding=mi(this,"startDesktopOnboarding"),this.trackAnalytics=mi(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new z0}componentDidLoad(){this.trackAnalytics.emit({event:oa.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(e){e?this.setTab(1):this.setTab(2)}onClose(e=!1){this.close.emit({shouldTerminate:e})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:oa.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(e,t=!1){t&&this.trackAnalytics.emit({event:oa.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=e,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const e=r=>this.i18nInstance.t(r),t=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=_E(this.link,"svg",{ecc:"medium",scale:2});return ee(B0,{className:"install-model"},ee("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),ee("div",{class:"modal"},ee("div",{class:"closeButtonContainer"},ee("div",{class:"right"},ee("span",{class:"closeButton",onClick:()=>this.onClose(!0)},ee(U0,null)))),ee("div",{class:"logoContainer"},ee(K0,null)),ee("div",null,ee("div",{class:"tabcontainer"},ee("div",{class:"flexContainer"},ee("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(t===1?"tabactive":"")},e("DESKTOP")),ee("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(t===2?"tabactive":"")},e("MOBILE")))),ee("div",{style:{display:t===1?"none":"block"}},ee("div",{class:"flexContainer"},ee("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&ee("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),ee("div",{class:"connectMobileText"},e("SCAN_TO_CONNECT")," ",ee("br",null),ee("span",{class:"blue"},ee("b",null,e("META_MASK_MOBILE_APP"))))))),ee("div",{style:{display:t===2?"none":"block"}},ee("div",{class:"item"},ee(gf,{Icon:e6,text:e("INSTALL_MODAL.TRUSTED_BY_USERS")})),ee("div",{class:"item"},ee(gf,{Icon:X_,text:e("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),ee("div",{class:"item"},ee(gf,{Icon:t6,text:e("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),ee("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},ee(n6,null),ee("span",{class:"installExtensionText"},e("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),ee(F0,{version:this.sdkVersion})))}get el(){return Vu(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};NE.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const AE=class{constructor(e){L0(this,e),this.close=mi(this,"close"),this.disconnect=mi(this,"disconnect"),this.updateOTPValue=mi(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new z0}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(e){this.updateOTPValue.emit({otpValue:e})}disconnectedCallback(){this.onClose()}render(){var e;if(!this.translationsLoaded)return null;const t=(e=this.displayOTP)===null||e===void 0||e,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return ee(B0,{className:"pending-modal"},ee("div",{class:"backdrop",onClick:()=>this.onClose()}),ee("div",{class:"modal"},ee("div",{class:"closeButtonContainer"},ee("div",{class:"right"},ee("span",{class:"closeButton",onClick:()=>this.onClose()},ee(U0,null)))),ee("div",{class:"logoContainer"},ee(K0,null)),ee("div",null,ee("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},ee("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(t?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),ee("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),t&&ee("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),ee("div",{style:{marginTop:"20px"}},ee("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),ee(F0,{version:n})))}get el(){return Vu(this)}};AE.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const a6=()=>ee("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),l6=()=>ee("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee("rect",{width:"400",height:"300",fill:"white"}),ee("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),ee("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),ee("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),ee("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),ee("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),ee("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),ee("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),ee("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),ee("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),ee("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),ee("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),ee("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),ee("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),ee("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),ee("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),ee("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),ee("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),ee("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),ee("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),ee("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),ee("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),ee("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),ME=class{constructor(e){L0(this,e),this.close=mi(this,"close"),this.connectWithExtension=mi(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new z0,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(e=!1){this.close.emit({shouldTerminate:e})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(e){this.tab=e,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(e){e?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const e=i=>this.i18nInstance.t(i),t=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=_E(this.link,"svg",{ecc:"medium",scale:2});return ee(B0,{className:"select-modal"},ee("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),ee("div",{class:"modal"},ee("div",{class:"closeButtonContainer"},ee("div",{class:"right"},ee("span",{class:"closeButton",onClick:()=>this.onClose(!0)},ee(U0,null)))),ee("div",{class:"logoContainer"},ee(K0,null)),ee("div",null,ee("div",{class:"tabcontainer"},ee("div",{class:"flexContainer"},ee("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},e("DESKTOP")),ee("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},e("MOBILE")))),ee("div",{style:{display:n===1?"none":"block"}},ee("div",{class:"flexContainer"},ee("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},ee("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),ee("div",{class:"connectMobileText"},e("SCAN_TO_CONNECT"),ee("br",null),ee("span",{class:"blue"},ee("b",null,e("META_MASK_MOBILE_APP"))))))),ee("div",{style:{display:n===2?"none":"block"}},ee("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},ee(l6,null)),ee("div",{class:"extensionLabel"},e("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),ee("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},ee(a6,null),ee("span",{class:"installExtensionText"},e("CONNECT_WITH_EXTENSION"))))),ee(F0,{version:t})))}get el(){return Vu(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};ME.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var V1,W1,c6=Object.freeze({__proto__:null,mm_install_modal:NE,mm_pending_modal:AE,mm_select_modal:ME}),ep={exports:{}};function u6(){if(W1)return V1;W1=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function s(a,l,c,u){var d=l>=1.5*c;return Math.round(a/c)+" "+u+(d?"s":"")}return V1=function(a,l){l=l||{};var c=typeof a;if(c==="string"&&a.length>0)return function(u){if(!((u=String(u)).length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]);switch((d[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(a);if(c==="number"&&isFinite(a))return l.long?function(u){var d=Math.abs(u);return d>=r?s(u,d,r,"day"):d>=n?s(u,d,n,"hour"):d>=t?s(u,d,t,"minute"):d>=e?s(u,d,e,"second"):u+" ms"}(a):function(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var d6=function(e){function t(i){let o,s,a,l=null;function c(...u){if(!c.enabled)return;const d=c,f=Number(new Date),m=f-(o||f);d.diff=m,d.prev=o,d.curr=f,o=f,u[0]=t.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(y,x)=>{if(y==="%%")return"%";g++;const p=t.formatters[x];if(typeof p=="function"){const w=u[g];y=p.call(d,w),u.splice(g,1),g--}return y}),t.formatArgs.call(d,u),(d.log||t.log).apply(d,u)}return c.namespace=i,c.useColors=t.useColors(),c.color=t.selectColor(i),c.extend=n,c.destroy=t.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(i)),a),set:u=>{l=u}}),typeof t.init=="function"&&t.init(c),c}function n(i,o){const s=t(this.namespace+(o===void 0?":":o)+i);return s.log=this.log,s}function r(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(i){return i instanceof Error?i.stack||i.message:i},t.disable=function(){const i=[...t.names.map(r),...t.skips.map(r).map(o=>"-"+o)].join(",");return t.enable(""),i},t.enable=function(i){let o;t.save(i),t.namespaces=i,t.names=[],t.skips=[];const s=(typeof i=="string"?i:"").split(/[\s,]+/),a=s.length;for(o=0;o<a;o++)s[o]&&((i=s[o].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+i.slice(1)+"$")):t.names.push(new RegExp("^"+i+"$")))},t.enabled=function(i){if(i[i.length-1]==="*")return!0;let o,s;for(o=0,s=t.skips.length;o<s;o++)if(t.skips[o].test(i))return!1;for(o=0,s=t.names.length;o<s;o++)if(t.names[o].test(i))return!0;return!1},t.humanize=u6(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(i){let o=0;for(let s=0;s<i.length;s++)o=(o<<5)-o+i.charCodeAt(s),o|=0;return t.colors[Math.abs(o)%t.colors.length]},t.enable(t.load()),t};(function(e,t){t.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(s=o))}),r.splice(s,0,i)},t.save=function(r){try{r?t.storage.setItem("debug",r):t.storage.removeItem("debug")}catch{}},t.load=function(){let r;try{r=t.storage.getItem("debug")}catch{}return!r&&Ye!==void 0&&"env"in Ye&&(r=Ye.env.DEBUG),r},t.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=d6(t);const{formatters:n}=e.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(ep,ep.exports);var TE=ep.exports;const St=TE("MM_SDK-React");St.color="#CC5500";const PE=W.createContext({ready:!1,extensionActive:!1,connected:!1,connecting:!1,readOnlyCalls:!1}),f6=({children:e,sdkOptions:t,debug:n})=>{const[r,i]=W.useState(),[o,s]=W.useState(""),[a,l]=W.useState(!1),[c,u]=W.useState(!1),[d,f]=W.useState(!1),[m,g]=W.useState(!1),[y,x]=W.useState(1),[p,w]=W.useState(),[v,k]=W.useState(),[P,O]=W.useState(!1),[F,B]=W.useState(""),[H,D]=W.useState(),[K,z]=W.useState(),[E,b]=W.useState(),[S,M]=W.useState(),[T,_]=W.useState(),[A,I]=W.useState({}),[j,C]=W.useState(!1),N=W.useRef(!1);W.useEffect(()=>{TE.enable("MM_SDK-React")},[n]);const L={setConnecting:f,setConnected:g,setChainId:w,setError:b,setAccount:D,setStatus:_,setTrigger:x,setRPCHistory:I,debug:n,chainId:p,activeProvider:void 0,sdk:r},R=(({debug:X,setConnected:ie,setConnecting:te,setError:re})=>W.useCallback(()=>{St("[MetaMaskProvider: useHandleOnConnectingEvent()] on 'connecting' event."),ie(!1),te(!0),re(void 0)},[X,ie,te,re]))(L),$=(({debug:X,setConnecting:ie,setAccount:te,activeProvider:re,setConnected:se,setError:de})=>W.useCallback(()=>{St("[MetaMaskProvider: useHandleInitializedEvent()] on '_initialized' event."),ie(!1),se(!0),de(void 0)},[X,ie,te,re,se,de]))(L),V=(({debug:X,setConnecting:ie,setConnected:te,setChainId:re,setError:se,chainId:de})=>W.useCallback(he=>{St("[MetaMaskProvider: useHandleConnectEvent()] on 'connect' event.",he);const pe=he.chainId;ie(!1),te(!0),re(pe),se(void 0)},[X,ie,te,re,se,de]))(L),U=(({debug:X,setConnecting:ie,setConnected:te,setError:re})=>W.useCallback(se=>{St("[MetaMaskProvider: useHandleDisconnectEvent()] on 'disconnect' event.",se),ie(!1),te(!1),re(se)},[X,ie,te,re]))(L),q=(({debug:X,setConnecting:ie,setConnected:te,setError:re})=>W.useCallback(se=>{St("[MetaMaskProvider: useHandleTerminateEvent()] on 'terminate' event.",se),ie(!1),te(!1),re(se)},[X,ie,te,re]))(L),Y=(({debug:X,setAccount:ie,setConnected:te,setConnecting:re,setError:se})=>W.useCallback(de=>{St("[MetaMaskProvider: useHandleAccountsChangedEvent()] on 'accountsChanged' event.",de),ie(de==null?void 0:de[0]),te(!0),re(!1),se(void 0)},[X,ie,te,se]))(L),J=(({debug:X,setChainId:ie,setConnected:te,setConnecting:re,setError:se})=>W.useCallback(de=>{St("[MetaMaskProvider: useHandleChainChangedEvent()] on 'chainChanged' event.",de),ie(typeof de=="object"&&(de!=null&&de.chainId)?de.chainId:de),te(!0),re(!1),se(void 0)},[X,ie,te,se,re]))(L),G=(({debug:X,setStatus:ie})=>W.useCallback(te=>{St(`[MetaMaskProvider: useHandleSDKStatusEvent()] on '${ae.SERVICE_STATUS}/${te.connectionStatus}' event.`,te);try{const re=JSON.parse(JSON.stringify(te??{}));ie(re)}catch(re){console.error(re)}},[X,ie]))(L),ce=(({debug:X,setConnecting:ie,setConnected:te,setTrigger:re,setError:se,setChainId:de,setAccount:he,setRPCHistory:pe,sdk:ve})=>W.useCallback(we=>{if(St(`[MetaMaskProvider: useHandleProviderEvent()] on '${ae.PROVIDER_UPDATE}' event.`,we),we===Sn.TERMINATE)ie(!1);else if(we===Sn.EXTENSION){ie(!1),te(!0),se(void 0);const Ae=ve==null?void 0:ve.getProvider(),Tt=(Ae==null?void 0:Ae.getChainId())||void 0,oo=(Ae==null?void 0:Ae.getSelectedAddress())||void 0;St(`[MetaMaskProvider: useHandleProviderEvent()] extensionProvider chainId=${Tt} selectedAddress=${oo}`),de(Tt),he(oo)}pe({}),re(Ae=>Ae+1)},[X,ie,re,te,se]))(L),fe=W.useMemo(()=>{const X=(T==null?void 0:T.connectionStatus)===Xe.DISCONNECTED;let ie=!1;for(const te in A){const re=A[te];if(re.result===void 0&&re.error===void 0){ie=!0,X&&console.warn(`[MetamaskProvider] socket disconnected but rpc ${te} not processed yet`);break}}return ie},[A,T]);return W.useEffect(()=>{const X=S==null?void 0:S.getSelectedAddress();X&&X!=(H==null?void 0:H.toLowerCase())&&(St(`[MetaMaskProviderClient] account changed detected from ${H} to ${X}`),D(X))},[A]),W.useEffect(()=>{(T==null?void 0:T.connectionStatus)!==Xe.DISCONNECTED&&(T==null?void 0:T.connectionStatus)!==Xe.TERMINATED||(g(!1),f(!1))},[T]),W.useEffect(()=>{const X=`${H}${p}`;z(r==null?void 0:r.getChannelId()),H!=null&&H.startsWith("0x")&&(p!=null&&p.startsWith("0x"))&&X!==F?(O(!0),St(`[MetaMaskProviderClient] retrieving balance of ${H} on chain ${p}`),B(X),S==null||S.request({method:"eth_getBalance",params:[H,"latest"]}).then(ie=>{St(`[MetaMaskProviderClient] balance of ${H} is ${ie}`),k(ie)}).catch(ie=>{console.warn(`[MetamaskProvider] error retrieving balance of ${H}`,ie)}).finally(()=>{O(!1)})):k(void 0)},[H,S,p,F]),W.useEffect(()=>{if(N.current)return void St("[MetaMaskProviderClient] sdk already initialized");N.current=!0;const X=new L_({...t});X.init().then(()=>{i(X),l(!0),u(X.hasReadOnlyRPCCalls())}).catch(ie=>{console.error("[MetaMaskProviderClient] error initializing SDK",ie)})},[t]),W.useEffect(()=>{var te;if(!a||!r)return;St("[MetaMaskProviderClient] init SDK Provider listeners",r),C(r.isExtensionActive());const X=r.getProvider();if(!X)return void console.warn("[MetaMaskProviderClient] activeProvider is undefined.");const ie=r.isExtensionActive()?!!X.getSelectedAddress():X.isConnected();return g(ie),D(X.getSelectedAddress()||void 0),M(X),w(X.getChainId()||void 0),X.on("_initialized",$),X.on("terminate",q),X.on("connecting",R),X.on("connect",V),X.on("disconnect",U),X.on("accountsChanged",Y),X.on("chainChanged",J),r.on(ae.SERVICE_STATUS,G),(te=r._getConnection())==null||te.getConnector().on(ae.RPC_UPDATE,re=>{re.result!==void 0||re.error!==void 0?re.id===o&&s(""):s(re.id);const se=JSON.parse(JSON.stringify(r.getRPCHistory()??{}));I(se)}),()=>{X.removeListener("_initialized",$),X.removeListener("connecting",R),X.removeListener("connect",V),X.removeListener("disconnect",U),X.removeListener("terminate",q),X.removeListener("accountsChanged",Y),X.removeListener("chainChanged",J),r.removeListener(ae.SERVICE_STATUS,G)}},[y,r,a]),W.useEffect(()=>{if(a&&r)return r.on(ae.PROVIDER_UPDATE,ce),()=>{r.removeListener(ae.PROVIDER_UPDATE,ce)}},[r,a]),Gr.createElement(PE.Provider,{value:{sdk:r,ready:a,connected:m,readOnlyCalls:c,provider:S,rpcHistory:A,connecting:d,channelId:K,account:H,balance:v,balanceProcessing:P,extensionActive:j,chainId:p,error:E,status:T,syncing:fe}},e)},h6=({children:e,sdkOptions:t,debug:n})=>{const[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0)},[]),Gr.createElement(Gr.Fragment,null,r?Gr.createElement(f6,{debug:n,sdkOptions:t},e):Gr.createElement(Gr.Fragment,null,e))},p6={socketServer:Yi,useDeeplink:!0,extensionOnly:!0,checkInstallationImmediately:!1,debug:!0,logs:{sdk:!0,provider:!0,commLayer:!0},lang:"en"};W.createContext({...p6,setAppContext:e=>{},reset:()=>{}});const m6=()=>{const e=W.useContext(PE);if(e===void 0)throw new Error("SDK context is missing, must be within provide");return e};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(this,arguments)}var oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oi||(oi={}));const q1="popstate";function g6(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return tp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:LE(i)}return v6(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y6(){return Math.random().toString(36).substr(2,8)}function G1(e,t){return{usr:e.state,key:e.key,idx:t}}function tp(e,t,n,r){return n===void 0&&(n=null),$a({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ds(t):t,{state:n,key:t&&t.key||r||y6()})}function LE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ds(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v6(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=oi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState($a({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=oi.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:p})}function f(x,p){a=oi.Push;let w=tp(y.location,x,p);c=u()+1;let v=G1(w,c),k=y.createHref(w);try{s.pushState(v,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}o&&l&&l({action:a,location:y.location,delta:1})}function m(x,p){a=oi.Replace;let w=tp(y.location,x,p);c=u();let v=G1(w,c),k=y.createHref(w);s.replaceState(v,"",k),o&&l&&l({action:a,location:y.location,delta:0})}function g(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:LE(x);return w=w.replace(/ $/,"%20"),nt(p,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,p)}let y={get action(){return a},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q1,d),l=x,()=>{i.removeEventListener(q1,d),l=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(x){return s.go(x)}};return y}var Y1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Y1||(Y1={}));function w6(e,t,n){return n===void 0&&(n="/"),b6(e,t,n)}function b6(e,t,n,r){let i=typeof t=="string"?ds(t):t,o=IE(i.pathname||"/",n);if(o==null)return null;let s=RE(e);x6(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=R6(o);a=T6(s[l],c)}return a}function RE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ki([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RE(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:A6(c,o.index),routesMeta:u})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of jE(o.path))i(o,s,l)}),t}function jE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=jE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function x6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:M6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const E6=/^:[\w-]+$/,S6=3,k6=2,C6=1,_6=10,N6=-2,Z1=e=>e==="*";function A6(e,t){let n=e.split("/"),r=n.length;return n.some(Z1)&&(r+=N6),t&&(r+=k6),n.filter(i=>!Z1(i)).reduce((i,o)=>i+(E6.test(o)?S6:o===""?C6:_6),r)}function M6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function T6(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=P6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ki([o,d.pathname]),pathnameBase:F6(Ki([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Ki([o,d.pathnameBase]))}return s}function P6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=a[d]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function L6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),H0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function R6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return H0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function IE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const j6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I6=e=>j6.test(e);function O6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ds(e):e,o;if(n)if(I6(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),H0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=Q1(n.substring(1),"/"):o=Q1(n,t)}else o=t;return{pathname:o,search:U6(r),hash:K6(i)}}function Q1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function D6(e,t){let n=$6(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function B6(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ds(e):(i=$a({},e),nt(!i.pathname||!i.pathname.includes("?"),vf("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),vf("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),vf("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=O6(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ki=e=>e.join("/").replace(/\/\/+/g,"/"),F6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function z6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OE=["post","put","patch","delete"];new Set(OE);const H6=["get",...OE];new Set(H6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}const V0=W.createContext(null),V6=W.createContext(null),Wu=W.createContext(null),qu=W.createContext(null),fs=W.createContext({outlet:null,matches:[],isDataRoute:!1}),$E=W.createContext(null);function Gu(){return W.useContext(qu)!=null}function Yu(){return Gu()||nt(!1),W.useContext(qu).location}function DE(e){W.useContext(Wu).static||W.useLayoutEffect(e)}function BE(){let{isDataRoute:e}=W.useContext(fs);return e?i8():W6()}function W6(){Gu()||nt(!1);let e=W.useContext(V0),{basename:t,future:n,navigator:r}=W.useContext(Wu),{matches:i}=W.useContext(fs),{pathname:o}=Yu(),s=JSON.stringify(D6(i,n.v7_relativeSplatPath)),a=W.useRef(!1);return DE(()=>{a.current=!0}),W.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=B6(c,JSON.parse(s),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ki([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,o,e])}function q6(e,t){return G6(e,t)}function G6(e,t,n,r){Gu()||nt(!1);let{navigator:i}=W.useContext(Wu),{matches:o}=W.useContext(fs),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Yu(),u;if(t){var d;let x=typeof t=="string"?ds(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||nt(!1),u=x}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=w6(e,{pathname:m}),y=X6(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ki([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ki([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&y?W.createElement(qu.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:oi.Pop}},y):y}function Y6(){let e=r8(),t=z6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:i},n):null,null)}const Z6=W.createElement(Y6,null);class Q6 extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?W.createElement(fs.Provider,{value:this.props.routeContext},W.createElement($E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J6(e){let{routeContext:t,match:n,children:r}=e,i=W.useContext(V0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(fs.Provider,{value:t},r)}function X6(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||nt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let m,g=!1,y=null,x=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Z6,l&&(c<0&&f===0?(o8("route-fallback"),g=!0,x=null):c===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,f+1)),w=()=>{let v;return m?v=y:g?v=x:d.route.Component?v=W.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,W.createElement(J6,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?W.createElement(Q6,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):w()},null)}var FE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(FE||{}),UE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(UE||{});function e8(e){let t=W.useContext(V0);return t||nt(!1),t}function t8(e){let t=W.useContext(V6);return t||nt(!1),t}function n8(e){let t=W.useContext(fs);return t||nt(!1),t}function KE(e){let t=n8(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function r8(){var e;let t=W.useContext($E),n=t8(),r=KE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function i8(){let{router:e}=e8(FE.UseNavigateStable),t=KE(UE.UseNavigateStable),n=W.useRef(!1);return DE(()=>{n.current=!0}),W.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Da({fromRouteId:t},o)))},[e,t])}const J1={};function o8(e,t,n){J1[e]||(J1[e]=!0)}function s8(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function np(e){nt(!1)}function a8(e){let{basename:t="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:o,static:s=!1,future:a}=e;Gu()&&nt(!1);let l=t.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:o,static:s,future:Da({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ds(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,y=W.useMemo(()=>{let x=IE(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:g},navigationType:i}},[l,u,d,f,m,g,i]);return y==null?null:W.createElement(Wu.Provider,{value:c},W.createElement(qu.Provider,{children:n,value:y}))}function l8(e){let{children:t,location:n}=e;return q6(rp(t),n)}new Promise(()=>{});function rp(e,t){t===void 0&&(t=[]);let n=[];return W.Children.forEach(e,(r,i)=>{if(!W.isValidElement(r))return;let o=[...t,i];if(r.type===W.Fragment){n.push.apply(n,rp(r.props.children,o));return}r.type!==np&&nt(!1),!r.props.index||!r.props.children||nt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=rp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const c8="6";try{window.__reactRouterVersion=c8}catch{}const u8="startTransition",X1=_S[u8];function d8(e){let{basename:t,children:n,future:r,window:i}=e,o=W.useRef();o.current==null&&(o.current=g6({window:i,v5Compat:!0}));let s=o.current,[a,l]=W.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=W.useCallback(d=>{c&&X1?X1(()=>l(d)):l(d)},[l,c]);return W.useLayoutEffect(()=>s.listen(u),[s,u]),W.useEffect(()=>s8(r),[r]),W.createElement(a8,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var ev;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ev||(ev={}));var tv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tv||(tv={}));function nv({children:e}){return h.jsx("div",{className:"min-h-screen bg-bg-primary flex flex-col safe-top",children:h.jsx("main",{className:"flex-1 flex flex-col",children:e})})}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=W.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>W.createElement("svg",{ref:l,...h8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zE("lucide",i),...a},[...s.map(([c,u])=>W.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=W.forwardRef(({className:r,...i},o)=>W.createElement(p8,{ref:o,iconNode:t,className:zE(`lucide-${f8(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Ee("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Ee("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=Ee("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Ee("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Ee("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Za(){var e;return typeof window<"u"&&((e=window.Telegram)!=null&&e.WebApp)?window.Telegram.WebApp:null}function I8(){const e=Za();e&&(e.ready(),typeof e.expand=="function"&&e.expand())}function ZE(){const e=Za();if(!e)return!1;const t=e,n=!!(t.initData&&t.initData.length>0),r=!!(t.platform&&t.platform!=="unknown");return n||r}function O8(){const e=Za(),t=e==null?void 0:e.themeParams,i=(ZE()&&(e==null?void 0:e.colorScheme)||"dark")==="light",o={bgColor:i?"#ffffff":"#0f0f0f",textColor:i?"#18181b":"#ffffff",hintColor:i?"#71717a":"#a1a1aa",buttonColor:"#3b82f6",buttonTextColor:"#ffffff",secondaryBgColor:i?"#f4f4f5":"#1a1a1a",accentColor:"#3b82f6",isLight:i};return t?{bgColor:t.bg_color||o.bgColor,textColor:t.text_color||o.textColor,hintColor:t.hint_color||o.hintColor,buttonColor:t.button_color||o.buttonColor,buttonTextColor:t.button_text_color||o.buttonTextColor,secondaryBgColor:t.secondary_bg_color||o.secondaryBgColor,accentColor:t.accent_text_color||o.accentColor,isLight:i}:o}function Ce(e,t){const n=Za();if(n!=null&&n.HapticFeedback)try{switch(e){case"impact":n.HapticFeedback.impactOccurred(t||"medium");break;case"notification":n.HapticFeedback.notificationOccurred(t||"success");break;case"selection":n.HapticFeedback.selectionChanged();break}}catch{}}function ov(){var r,i,o,s,a;const e=Za(),t=(r=e==null?void 0:e.initDataUnsafe)==null?void 0:r.user,n=(i=e==null?void 0:e.initDataUnsafe)==null?void 0:i.chat;if(!(t!=null&&t.id)){const l=new URLSearchParams(window.location.search),c=l.get("user_id")||l.get("userId"),u=l.get("chat_id")||l.get("chatId");return c?{userId:c,chatId:u||c,username:l.get("username")||"test_user",firstName:l.get("first_name")||"Test",lastName:l.get("last_name")||"User"}:{userId:null,chatId:null,username:null,firstName:null,lastName:null}}return{userId:((o=t.id)==null?void 0:o.toString())||null,chatId:((s=n==null?void 0:n.id)==null?void 0:s.toString())||((a=t.id)==null?void 0:a.toString())||null,username:t.username||null,firstName:t.first_name||null,lastName:t.last_name||null}}function QE({title:e,showBackButton:t,rightContent:n}){const r=BE(),o=Yu().pathname==="/trades",s=()=>{Ce("selection"),r(o?"/":"/trades")};return h.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[h.jsx("button",{onClick:s,className:"w-11 h-11 flex items-center justify-center rounded-xl bg-bg-secondary border border-border btn-press hover:bg-bg-tertiary transition-colors","aria-label":o?"Back to trade":"View trades",children:t||o?h.jsx(m8,{className:"w-5 h-5 text-accent-primary"}):h.jsx(A8,{className:"w-5 h-5 text-accent-primary"})}),e?h.jsx("h1",{className:"text-lg font-semibold text-text-primary",children:e}):h.jsx("div",{className:"flex-1"}),n?h.jsx("div",{className:"w-11 h-11 flex items-center justify-center",children:n}):h.jsx("div",{className:"w-11 h-11"})]})}function $8({value:e,format:t=i=>i.toFixed(2),duration:n=1e3,className:r=""}){const[i,o]=W.useState(0),s=W.useRef(0),a=W.useRef(null),l=W.useRef();return W.useEffect(()=>{s.current=i,a.current=null;const c=u=>{a.current===null&&(a.current=u);const d=u-a.current,f=Math.min(d/n,1),m=1-Math.pow(1-f,3),g=s.current+(e-s.current)*m;o(g),f<1&&(l.current=requestAnimationFrame(c))};return l.current=requestAnimationFrame(c),()=>{l.current&&cancelAnimationFrame(l.current)}},[e,n]),h.jsx("span",{className:`number-animate ${r}`,children:h.jsx("span",{children:t(i)})})}function D8({value:e,className:t=""}){return h.jsx($8,{value:e,format:n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),className:t})}function B8({className:e="w-6 h-6"}){return h.jsxs("svg",{className:e,viewBox:"0 0 56 56",fill:"none",children:[h.jsx("rect",{width:"56",height:"56",rx:"12",fill:"#0098EA"}),h.jsx("path",{d:"M28 44.4706L14.1176 28L28 11.5294L41.8824 28L28 44.4706Z",fill:"white"}),h.jsx("path",{d:"M28 28L14.1176 28L28 11.5294L28 28Z",fill:"#D4E5F7"}),h.jsx("path",{d:"M28 28L28 44.4706L14.1176 28L28 28Z",fill:"#9CC4E3"}),h.jsx("path",{d:"M28 11.5294L41.8824 28L28 28V11.5294Z",fill:"white"}),h.jsx("path",{d:"M28 28V44.4706L41.8824 28L28 28Z",fill:"#D4E5F7"})]})}function F8({className:e="w-6 h-6"}){return h.jsxs("svg",{className:e,viewBox:"0 0 128 128",fill:"none",children:[h.jsx("circle",{cx:"64",cy:"64",r:"64",fill:"url(#phantom-grad)"}),h.jsx("path",{d:"M110.584 64.9142H99.142C99.142 41.7651 80.173 23 56.7724 23C33.6612 23 14.8716 41.3057 14.4118 64.0916C13.9361 87.6085 33.047 107.053 56.7724 107.053H60.6628C81.8579 107.053 110.584 85.4085 110.584 64.9142Z",fill:"url(#phantom-inner)"}),h.jsx("circle",{cx:"77.5",cy:"58.5",r:"8.5",fill:"white"}),h.jsx("circle",{cx:"44.5",cy:"58.5",r:"8.5",fill:"white"}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"phantom-grad",x1:"0",y1:"0",x2:"128",y2:"128",children:[h.jsx("stop",{stopColor:"#534BB1"}),h.jsx("stop",{offset:"1",stopColor:"#551BF9"})]}),h.jsxs("linearGradient",{id:"phantom-inner",x1:"14",y1:"23",x2:"110",y2:"107",children:[h.jsx("stop",{stopColor:"#534BB1"}),h.jsx("stop",{offset:"1",stopColor:"#551BF9"})]})]})]})}function U8({className:e="w-6 h-6"}){return h.jsxs("svg",{className:e,viewBox:"0 0 300 300",fill:"none",children:[h.jsx("circle",{cx:"150",cy:"150",r:"150",fill:"#3B99FC"}),h.jsx("path",{d:"M102.7 126.8C128.9 101 171.1 101 197.3 126.8L200.5 130C201.8 131.3 201.8 133.4 200.5 134.7L189.2 145.8C188.5 146.5 187.4 146.5 186.8 145.8L182.4 141.4C164.6 123.8 135.4 123.8 117.6 141.4L112.8 146.2C112.2 146.8 111.1 146.8 110.4 146.2L99.1 135C97.8 133.7 97.8 131.6 99.1 130.3L102.7 126.8ZM219.8 148.9L229.8 158.8C231.1 160.1 231.1 162.2 229.8 163.5L181.3 211.3C180 212.6 177.8 212.6 176.5 211.3L142.5 177.7C142.2 177.4 141.6 177.4 141.3 177.7L107.3 211.3C106 212.6 103.8 212.6 102.5 211.3L53.9 163.5C52.6 162.2 52.6 160.1 53.9 158.8L63.9 148.9C65.2 147.6 67.4 147.6 68.7 148.9L102.7 182.5C103 182.8 103.6 182.8 103.9 182.5L137.9 148.9C139.2 147.6 141.4 147.6 142.7 148.9L176.7 182.5C177 182.8 177.6 182.8 177.9 182.5L211.9 148.9C213.4 147.6 215.5 147.6 216.8 148.9H219.8Z",fill:"white"})]})}function K8({className:e="w-6 h-6"}){return h.jsxs("svg",{className:e,viewBox:"0 0 1024 1024",fill:"none",children:[h.jsx("rect",{width:"1024",height:"1024",rx:"512",fill:"#0052FF"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M512 784C662.1 784 784 662.1 784 512C784 361.9 662.1 240 512 240C361.9 240 240 361.9 240 512C240 662.1 361.9 784 512 784ZM420 460C408.95 460 400 468.95 400 480V544C400 555.05 408.95 564 420 564H604C615.05 564 624 555.05 624 544V480C624 468.95 615.05 460 604 460H420Z",fill:"white"})]})}function z8({className:e="w-6 h-6"}){return h.jsxs("svg",{className:e,viewBox:"0 0 318 318",fill:"none",children:[h.jsx("path",{d:"M274.1 35.5L174.6 109.4L193 65.8L274.1 35.5Z",fill:"#E2761B",stroke:"#E2761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M44.4 35.5L143.1 110.1L125.6 65.8L44.4 35.5Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M238.3 206.8L211.8 247.4L268.5 263L284.8 207.7L238.3 206.8Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M33.9 207.7L50.1 263L106.8 247.4L80.3 206.8L33.9 207.7Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M103.6 138.2L87.8 162.1L143.8 164.6L141.7 104.1L103.6 138.2Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M214.9 138.2L176.1 103.4L174.6 164.6L230.5 162.1L214.9 138.2Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M106.8 247.4L140.6 230.9L111.4 208.1L106.8 247.4Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M177.9 230.9L211.8 247.4L207.1 208.1L177.9 230.9Z",fill:"#E4761B",stroke:"#E4761B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M211.8 247.4L177.9 230.9L180.6 253L180.3 262.3L211.8 247.4Z",fill:"#D7C1B3",stroke:"#D7C1B3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M106.8 247.4L138.3 262.3L138.1 253L140.6 230.9L106.8 247.4Z",fill:"#D7C1B3",stroke:"#D7C1B3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M138.8 193.5L110.6 185.2L130.5 176.1L138.8 193.5Z",fill:"#233447",stroke:"#233447",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M179.7 193.5L188 176.1L208 185.2L179.7 193.5Z",fill:"#233447",stroke:"#233447",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M106.8 247.4L111.6 206.8L80.3 207.7L106.8 247.4Z",fill:"#CD6116",stroke:"#CD6116",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M207 206.8L211.8 247.4L238.3 207.7L207 206.8Z",fill:"#CD6116",stroke:"#CD6116",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M230.5 162.1L174.6 164.6L179.8 193.5L188.1 176.1L208.1 185.2L230.5 162.1Z",fill:"#CD6116",stroke:"#CD6116",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M110.6 185.2L130.6 176.1L138.8 193.5L144 164.6L87.8 162.1L110.6 185.2Z",fill:"#CD6116",stroke:"#CD6116",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M87.8 162.1L111.4 208.1L110.6 185.2L87.8 162.1Z",fill:"#E4751F",stroke:"#E4751F",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M208.1 185.2L207.1 208.1L230.5 162.1L208.1 185.2Z",fill:"#E4751F",stroke:"#E4751F",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M144 164.6L138.8 193.5L145.4 227.6L146.9 182.7L144 164.6Z",fill:"#E4751F",stroke:"#E4751F",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M174.6 164.6L171.9 182.6L173.1 227.6L179.8 193.5L174.6 164.6Z",fill:"#E4751F",stroke:"#E4751F",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M179.8 193.5L173.1 227.6L177.9 230.9L207.1 208.1L208.1 185.2L179.8 193.5Z",fill:"#F6851B",stroke:"#F6851B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M110.6 185.2L111.4 208.1L140.6 230.9L145.4 227.6L138.8 193.5L110.6 185.2Z",fill:"#F6851B",stroke:"#F6851B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M180.3 262.3L180.6 253L178.1 250.8H140.4L138.1 253L138.3 262.3L106.8 247.4L117.8 256.4L140.1 271.9H178.4L200.8 256.4L211.8 247.4L180.3 262.3Z",fill:"#C0AD9E",stroke:"#C0AD9E",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M177.9 230.9L173.1 227.6H145.4L140.6 230.9L138.1 253L140.4 250.8H178.1L180.6 253L177.9 230.9Z",fill:"#161616",stroke:"#161616",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M278.3 114.2L286.8 73.4L274.1 35.5L177.9 106.9L214.9 138.2L267.2 153.5L278.8 140L273.8 136.4L281.8 129.1L275.6 124.3L283.6 118.2L278.3 114.2Z",fill:"#763D16",stroke:"#763D16",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M31.8 73.4L40.3 114.2L34.9 118.2L42.9 124.3L36.8 129.1L44.8 136.4L39.8 140L51.3 153.5L103.6 138.2L140.6 106.9L44.4 35.5L31.8 73.4Z",fill:"#763D16",stroke:"#763D16",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M267.2 153.5L214.9 138.2L230.5 162.1L207.1 208.1L238.3 207.7H284.8L267.2 153.5Z",fill:"#F6851B",stroke:"#F6851B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M103.6 138.2L51.3 153.5L33.9 207.7H80.3L111.4 208.1L87.8 162.1L103.6 138.2Z",fill:"#F6851B",stroke:"#F6851B",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M174.6 164.6L177.9 106.9L193.1 65.8H125.6L140.6 106.9L144 164.6L145.3 182.8L145.4 227.6H173.1L173.3 182.8L174.6 164.6Z",fill:"#F6851B",stroke:"#F6851B",strokeLinecap:"round",strokeLinejoin:"round"})]})}const H8={tonconnect:B8,phantom:F8,metamask:z8,walletconnect:U8,coinbase:K8};function G0({walletId:e,className:t="w-6 h-6"}){const n=H8[e];return n?h.jsx(n,{className:t}):h.jsx("div",{className:`${t} rounded-lg bg-bg-tertiary flex items-center justify-center`,children:h.jsx("span",{className:"text-text-muted text-xs",children:"?"})})}const V8={tonconnect:"TON Wallet",phantom:"Phantom",metamask:"MetaMask",walletconnect:"WalletConnect",coinbase:"Coinbase",trust:"Trust",rainbow:"Rainbow",okx:"OKX",rabby:"Rabby"};function W8(e,t){return t==="USD"?`$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:e<.001?e.toFixed(8):e<1?e.toFixed(6):e<100?e.toFixed(4):e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function q8({balance:e,currency:t="USD",isLoading:n=!1,connectedWallet:r,walletAddress:i,onDisconnect:o}){const[s,a]=W.useState(!1),[l,c]=W.useState(!1);W.useEffect(()=>{const d=setTimeout(()=>a(!0),100);return()=>clearTimeout(d)},[]);const u=()=>{Ce("impact","medium"),c(!1),o==null||o()};return n?h.jsx("div",{className:"card p-5 animate-fade-up",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"shimmer h-3 w-24 rounded"}),h.jsx("div",{className:"shimmer h-9 w-40 rounded-lg"})]}),h.jsx("div",{className:"shimmer w-12 h-12 rounded-xl"})]})}):h.jsxs("div",{className:"card p-5 animate-fade-up overflow-hidden relative group gradient-border",children:[r&&h.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-border",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg overflow-hidden",children:h.jsx(G0,{walletId:r,className:"w-7 h-7"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:V8[r]||"Wallet"}),i&&h.jsx("span",{className:"text-xs text-text-muted font-mono",children:i})]}),h.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-accent-success/10 text-accent-success text-xs font-medium flex items-center gap-1",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-success"}),"Connected"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>{Ce("selection"),c(!l)},className:"flex items-center gap-1 text-text-muted hover:text-text-primary transition-colors p-1 rounded-lg hover:bg-bg-tertiary",children:h.jsx(ip,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})}),l&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-secondary border border-border rounded-xl shadow-xl z-50 overflow-hidden animate-fade-up",children:[h.jsxs("button",{onClick:()=>window.open("https://etherscan.io","_blank"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-text-primary hover:bg-bg-tertiary transition-colors",children:[h.jsx(WE,{className:"w-4 h-4 text-text-muted"}),"View on Explorer"]}),h.jsx("div",{className:"h-px bg-border"}),h.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-accent-danger hover:bg-accent-danger/10 transition-colors",children:[h.jsx(L8,{className:"w-4 h-4"}),"Disconnect"]})]})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider flex items-center gap-2",children:[t==="USD"?"Available Margin":`${t} Balance`,h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-success opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-accent-success"})]})]}),h.jsx("div",{className:"text-3xl font-bold text-text-primary tracking-tight",children:s?t==="USD"?h.jsx(D8,{value:e}):h.jsxs("span",{className:"flex items-baseline gap-1.5",children:[h.jsx("span",{children:W8(e,t)}),h.jsx("span",{className:"text-lg text-text-muted font-medium",children:t})]}):h.jsx("span",{className:"opacity-0",children:"0.00"})})]}),h.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent-primary/10 flex items-center justify-center float-icon group-hover:animate-bounce-soft transition-all duration-300 group-hover:bg-accent-primary/20",children:h.jsx("svg",{className:"w-8 h-8 text-accent-primary transition-transform duration-300 group-hover:scale-110",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.5 2 7.5 4 7.5 6.5C7.5 9 9 11 9 13C9 15 7 17 7 19C7 21 9 22 12 22C15 22 17 21 17 19C17 17 15 15 15 13C15 11 16.5 9 16.5 6.5C16.5 4 14.5 2 12 2Z"})})})]}),h.jsx("div",{className:"absolute -top-20 -right-20 w-60 h-60 opacity-20 pointer-events-none blur-3xl transition-all duration-500 group-hover:opacity-30 group-hover:scale-110",style:{background:"radial-gradient(circle, var(--accent-primary), transparent 70%)"}}),h.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--text-muted) 1px, transparent 0)",backgroundSize:"20px 20px"}})]})}const G8=[{name:"Bitcoin",ticker:"BTC",price:42150},{name:"Ethereum",ticker:"ETH",price:2450},{name:"Solana",ticker:"SOL",price:98.5},{name:"Cardano",ticker:"ADA",price:.52},{name:"Polkadot",ticker:"DOT",price:6.8},{name:"Avalanche",ticker:"AVAX",price:35.2},{name:"Chainlink",ticker:"LINK",price:14.8},{name:"Polygon",ticker:"MATIC",price:.92},{name:"Litecoin",ticker:"LTC",price:72.5},{name:"Uniswap",ticker:"UNI",price:6.2},{name:"Cosmos",ticker:"ATOM",price:9.5},{name:"Hyperliquid",ticker:"HYPE",price:24.59},{name:"Arbitrum",ticker:"ARB",price:1.12},{name:"Optimism",ticker:"OP",price:2.85},{name:"Near Protocol",ticker:"NEAR",price:4.2},{name:"Dogecoin",ticker:"DOGE",price:.082},{name:"XRP",ticker:"XRP",price:.62}],fo={longCoin:{ticker:"SOL"},shortCoin:{ticker:"ETH"},risk:{stopLossPct:1.5,takeProfitPct:3},leverage:5,marketType:"Crypto"},gu=[{id:"TRD-001",longCoin:{name:"Solana",ticker:"SOL"},shortCoin:{name:"Ethereum",ticker:"ETH"},status:"open",openedAt:"2026-01-15T09:30:00Z",closedAt:null,notionalUsd:200,leverage:5,stopLossPct:1.5,takeProfitPct:3,longPct:60,shortPct:40,pnlUsd:12.45,pnlPct:1.24,details:{entryPriceLong:98.5,entryPriceShort:2450,currentPriceLong:101.25,currentPriceShort:2420,orderId:"ORD-2026-001-XYZ",strategyTag:"Momentum Pair",correlation:.834,cointegration:!0,halfLife:1.2,zScore:1.61,hedgeRatio:.57,winRate:85,sharpeRatio:15.55,volatility:28.89,timeframe:"1h",tradingEngine:"Hyperliquid",remarks:"Strong momentum divergence detected between SOL and ETH, entering based on mean reversion signal."}},{id:"TRD-002",longCoin:{name:"Bitcoin",ticker:"BTC"},shortCoin:{name:"Litecoin",ticker:"LTC"},status:"open",openedAt:"2026-01-14T14:15:00Z",closedAt:null,notionalUsd:500,leverage:3,stopLossPct:2,takeProfitPct:4,longPct:70,shortPct:30,pnlUsd:-8.75,pnlPct:-.58,details:{entryPriceLong:42150,entryPriceShort:72.5,currentPriceLong:41980,currentPriceShort:73.2,orderId:"ORD-2026-002-ABC",strategyTag:"Mean Reversion",correlation:.72,cointegration:!0,halfLife:2.4,zScore:-.45,hedgeRatio:.82,winRate:78,sharpeRatio:12.3,volatility:22.15,timeframe:"4h",tradingEngine:"Both",remarks:"BTC/LTC pair showing mean reversion opportunity. Z-score approaching neutral."}},{id:"TRD-003",longCoin:{name:"Cardano",ticker:"ADA"},shortCoin:{name:"Polkadot",ticker:"DOT"},status:"open",openedAt:"2026-01-13T11:00:00Z",closedAt:null,notionalUsd:150,leverage:4,stopLossPct:1,takeProfitPct:2.5,longPct:50,shortPct:50,pnlUsd:4.2,pnlPct:.7,details:{entryPriceLong:.52,entryPriceShort:6.8,currentPriceLong:.535,currentPriceShort:6.72,orderId:"ORD-2026-003-DEF",strategyTag:"Sector Rotation",correlation:.91,cointegration:!0,halfLife:.8,zScore:2.15,hedgeRatio:.45,winRate:82,sharpeRatio:18.2,volatility:35.42,timeframe:"1h",tradingEngine:"Hyperliquid"}},{id:"TRD-004",longCoin:{name:"Avalanche",ticker:"AVAX"},shortCoin:{name:"Polygon",ticker:"MATIC"},status:"closed",openedAt:"2026-01-10T08:45:00Z",closedAt:"2026-01-12T16:30:00Z",notionalUsd:300,leverage:5,stopLossPct:1.5,takeProfitPct:3,longPct:55,shortPct:45,pnlUsd:27,pnlPct:3,details:{entryPriceLong:35.2,entryPriceShort:.92,currentPriceLong:37.5,currentPriceShort:.88,orderId:"ORD-2026-004-GHI",strategyTag:"Layer 1 Spread",correlation:.88,cointegration:!0,halfLife:1.5,zScore:.34,hedgeRatio:.62,winRate:90,sharpeRatio:21.5,volatility:19.8,timeframe:"4h",tradingEngine:"SYMM",remarks:"Layer 1 spread trade closed at take profit. Strong cointegration maintained throughout."}},{id:"TRD-005",longCoin:{name:"Chainlink",ticker:"LINK"},shortCoin:{name:"Uniswap",ticker:"UNI"},status:"closed",openedAt:"2026-01-08T10:00:00Z",closedAt:"2026-01-09T14:20:00Z",notionalUsd:250,leverage:4,stopLossPct:2,takeProfitPct:3.5,longPct:65,shortPct:35,pnlUsd:-12.5,pnlPct:-1.67,details:{entryPriceLong:14.8,entryPriceShort:6.2,currentPriceLong:14.2,currentPriceShort:6.45,orderId:"ORD-2026-005-JKL",strategyTag:"DeFi Oracle",correlation:.65,cointegration:!1,halfLife:3.2,zScore:-1.82,hedgeRatio:.71,winRate:68,sharpeRatio:8.9,volatility:42.3,timeframe:"1h",tradingEngine:"Hyperliquid",remarks:"DeFi oracle play hit stop loss. Cointegration broke down during volatile period."}},{id:"TRD-006",longCoin:{name:"Solana",ticker:"SOL"},shortCoin:{name:"Cosmos",ticker:"ATOM"},status:"closed",openedAt:"2026-01-05T09:15:00Z",closedAt:"2026-01-07T11:45:00Z",notionalUsd:400,leverage:3,stopLossPct:1.5,takeProfitPct:4,longPct:60,shortPct:40,pnlUsd:48,pnlPct:4,details:{entryPriceLong:92,entryPriceShort:9.5,currentPriceLong:99.2,currentPriceShort:9.1,orderId:"ORD-2026-006-MNO",strategyTag:"Ecosystem Play",correlation:.79,cointegration:!0,halfLife:1.8,zScore:.12,hedgeRatio:.55,winRate:88,sharpeRatio:19.8,volatility:24.5,timeframe:"4h",tradingEngine:"Both",remarks:"Ecosystem play between Solana and Cosmos hit take profit target. Excellent mean reversion execution."}}];function wr(e,t=2){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function JE(e,t=!1){return`${t&&e>0?"+":""}${e.toFixed(2)}%`}function lp(e){return`${e}x`}function sv(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function Y8(){return gu.filter(e=>e.status==="open")}function Z8(){return gu.filter(e=>e.status==="closed")}const Q8=({ticker:e,size:t=32})=>{const r={BTC:"bg-orange-500",ETH:"bg-blue-500",SOL:"bg-gradient-to-br from-purple-500 to-cyan-400",AVAX:"bg-red-500",DOT:"bg-pink-500",LINK:"bg-blue-600",MATIC:"bg-purple-600",ADA:"bg-blue-400",XRP:"bg-gray-400",DOGE:"bg-yellow-500",SHIB:"bg-orange-400",APE:"bg-blue-700",YGG:"bg-purple-500",IMX:"bg-cyan-500",GMT:"bg-yellow-600",SUPER:"bg-purple-400",GALA:"bg-gray-600",ACE:"bg-gray-500",XAI:"bg-red-600",MAVIA:"bg-indigo-500",NOT:"bg-black",HMSTR:"bg-orange-600",SAND:"bg-cyan-400",ATOM:"bg-purple-700",UNI:"bg-pink-600",AAVE:"bg-cyan-600",AAPL:"bg-gray-300",TSLA:"bg-red-500",GOOGL:"bg-blue-500",MSFT:"bg-green-500",NVDA:"bg-green-600"}[e]||"bg-accent-primary/20";return h.jsx("div",{className:`${r} rounded-full flex items-center justify-center font-bold text-white shadow-lg`,style:{width:t,height:t,fontSize:t*.35},children:e.slice(0,2)})},J8=[{name:"Bitcoin",ticker:"BTC",price:43250.5,category:["all","hot","defi"]},{name:"Ethereum",ticker:"ETH",price:2450,category:["all","hot","defi"]},{name:"Solana",ticker:"SOL",price:98.5,category:["all","hot","hip3"]},{name:"Avalanche",ticker:"AVAX",price:35.8,category:["all","hot"]},{name:"Polkadot",ticker:"DOT",price:7.25,category:["all","defi"]},{name:"Chainlink",ticker:"LINK",price:14.8,category:["all","defi","ai"]},{name:"Polygon",ticker:"MATIC",price:.85,category:["all","defi"]},{name:"Cardano",ticker:"ADA",price:.52,category:["all"]},{name:"Ripple",ticker:"XRP",price:.62,category:["all"]},{name:"Cosmos",ticker:"ATOM",price:9.5,category:["all","defi"]},{name:"Uniswap",ticker:"UNI",price:6.25,category:["all","defi"]},{name:"Aave",ticker:"AAVE",price:92.3,category:["all","defi"]},{name:"ApeCoin",ticker:"APE",price:1.85,category:["all","gaming"]},{name:"Yield Guild",ticker:"YGG",price:.72,category:["all","gaming"]},{name:"ImmutableX",ticker:"IMX",price:2.15,category:["all","gaming","hip3"]},{name:"STEPN",ticker:"GMT",price:.22,category:["all","gaming"]},{name:"SuperVerse",ticker:"SUPER",price:.95,category:["all","gaming"]},{name:"Gala",ticker:"GALA",price:.028,category:["all","gaming"]},{name:"Ace",ticker:"ACE",price:5.6,category:["all","gaming"]},{name:"Xai",ticker:"XAI",price:.85,category:["all","gaming","ai"]},{name:"Mavia",ticker:"MAVIA",price:3.2,category:["all","gaming"]},{name:"Notcoin",ticker:"NOT",price:.012,category:["all","gaming","hot"]},{name:"Hamster",ticker:"HMSTR",price:.005,category:["all","gaming","hot"]},{name:"Sandbox",ticker:"SAND",price:.45,category:["all","gaming"]},{name:"Render",ticker:"RNDR",price:7.5,category:["all","ai"]},{name:"Fetch.ai",ticker:"FET",price:2.3,category:["all","ai"]},{name:"Ocean",ticker:"OCEAN",price:.95,category:["all","ai"]},{name:"SingularityNET",ticker:"AGIX",price:.88,category:["all","ai"]},{name:"Dogecoin",ticker:"DOGE",price:.082,category:["all","hot"]},{name:"Shiba Inu",ticker:"SHIB",price:25e-6,category:["all","hot"]},{name:"Apple",ticker:"AAPL",price:185.5,category:["all","stocks"]},{name:"Tesla",ticker:"TSLA",price:245.8,category:["all","stocks"]},{name:"Google",ticker:"GOOGL",price:142.3,category:["all","stocks"]},{name:"Microsoft",ticker:"MSFT",price:378.9,category:["all","stocks"]},{name:"Nvidia",ticker:"NVDA",price:495.2,category:["all","stocks","ai"]}],X8=[{id:"favorites",label:"Favorites",icon:qE},{id:"all",label:"All Coins",icon:k8},{id:"hot",label:"Hot",icon:op,emoji:""},{id:"hip3",label:"HIP-3",icon:P8},{id:"ai",label:"AI",icon:C8},{id:"defi",label:"DeFi",icon:Qi},{id:"gaming",label:"Gaming",icon:N8}];function eN({isOpen:e,onClose:t,onSelect:n,type:r,excludeCoins:i=[]}){const[o,s]=W.useState(""),[a,l]=W.useState("all"),[c,u]=W.useState(["BTC","ETH","SOL"]),d=W.useMemo(()=>{let g=J8.filter(y=>!i.includes(y.ticker));if(a==="favorites"?g=g.filter(y=>c.includes(y.ticker)):a!=="all"&&(g=g.filter(y=>y.category.includes(a))),o){const y=o.toLowerCase();g=g.filter(x=>x.name.toLowerCase().includes(y)||x.ticker.toLowerCase().includes(y))}return g},[o,a,c,i]),f=(g,y)=>{y.stopPropagation(),Ce("selection"),u(x=>x.includes(g)?x.filter(p=>p!==g):[...x,g])},m=g=>{Ce("impact"),n(g),t()};return e?Ru.createPortal(h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t}),h.jsxs("div",{className:"relative w-full max-w-lg bg-bg-primary rounded-3xl animate-scale-in max-h-[85vh] flex flex-col overflow-hidden shadow-2xl shadow-accent-primary/10",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:`
                linear-gradient(to bottom, transparent 0%, var(--bg-primary) 100%),
                linear-gradient(to top, var(--accent-primary) 0%, transparent 60%)
              `}}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-20",children:h.jsx("svg",{viewBox:"0 0 400 100",className:"w-full h-full",preserveAspectRatio:"xMidYMax slice",children:h.jsx("path",{d:"M0,100 L0,60 L20,60 L20,40 L40,40 L40,50 L60,50 L60,30 L80,30 L80,45 L100,45 L100,25 L120,25 L120,55 L140,55 L140,35 L160,35 L160,50 L180,50 L180,20 L200,20 L200,40 L220,40 L220,30 L240,30 L240,45 L260,45 L260,25 L280,25 L280,50 L300,50 L300,35 L320,35 L320,55 L340,55 L340,40 L360,40 L360,60 L380,60 L380,45 L400,45 L400,100 Z",fill:"var(--accent-primary)"})})}),h.jsxs("div",{className:"relative px-6 pt-6 pb-4",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-bg-tertiary/50 flex items-center justify-center hover:bg-bg-tertiary transition-colors",children:h.jsx(hs,{className:"w-5 h-5 text-text-muted"})}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:["Select ",r==="long"?"Long":"Short"," Token"]}),r==="long"?h.jsx(Qi,{className:"w-5 h-5 text-accent-success"}):h.jsx(ss,{className:"w-5 h-5 text-accent-danger"})]}),h.jsxs("p",{className:`text-sm ${r==="long"?"text-accent-success":"text-accent-danger"}`,children:["Select a token to go ",r]})]})]})]}),h.jsx("div",{className:"px-4 py-3 border-b border-border",children:h.jsxs("div",{className:"relative",children:[h.jsx(ap,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),h.jsx("input",{type:"text",placeholder:"Search token by symbol",value:o,onChange:g=>s(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-bg-secondary rounded-xl text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-primary/30"})]})}),h.jsx("div",{className:"px-4 py-3 border-b border-border overflow-x-auto",children:h.jsx("div",{className:"flex gap-2 min-w-max",children:X8.map(g=>h.jsx("button",{onClick:()=>{Ce("selection"),l(g.id)},className:`
                  px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all
                  ${a===g.id?"bg-accent-primary/20 text-accent-primary border border-accent-primary/30":"bg-bg-tertiary text-text-secondary hover:bg-bg-tertiary/80"}
                `,children:g.emoji?h.jsxs("span",{className:"flex items-center gap-1.5",children:[g.label," ",h.jsx("span",{children:g.emoji})]}):g.label},g.id))})}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-text-muted",children:"No tokens found"})}):h.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(g=>h.jsxs("button",{onClick:()=>m(g),className:"relative flex items-center gap-3 p-3 rounded-2xl bg-bg-secondary hover:bg-bg-tertiary transition-all group btn-press border border-transparent hover:border-accent-primary/20",children:[h.jsx("button",{onClick:y=>f(g.ticker,y),className:"absolute top-2 left-2 opacity-50 group-hover:opacity-100 transition-opacity",children:h.jsx(qE,{className:`w-4 h-4 ${c.includes(g.ticker)?"text-yellow-400 fill-yellow-400":"text-text-muted"}`})}),h.jsx(Q8,{ticker:g.ticker,size:36}),h.jsxs("div",{className:"text-left min-w-0",children:[h.jsx("p",{className:"font-bold text-text-primary truncate",children:g.ticker}),g.price&&h.jsxs("p",{className:"text-xs text-text-muted truncate",children:["$",g.price<1?g.price.toFixed(4):g.price.toLocaleString()]})]})]},g.ticker))})})]})]}),document.body):null}const tN=({ticker:e,size:t=40})=>{const r={BTC:"bg-orange-500",ETH:"bg-blue-500",SOL:"bg-gradient-to-br from-purple-500 to-cyan-400",AVAX:"bg-red-500",DOT:"bg-pink-500",LINK:"bg-blue-600",MATIC:"bg-purple-600",ADA:"bg-blue-400",XRP:"bg-gray-400",DOGE:"bg-yellow-500",SHIB:"bg-orange-400",APE:"bg-blue-700",YGG:"bg-purple-500",IMX:"bg-cyan-500",GMT:"bg-yellow-600",SUPER:"bg-purple-400",GALA:"bg-gray-600",ATOM:"bg-purple-700",UNI:"bg-pink-600",AAVE:"bg-cyan-600",AAPL:"bg-gray-300",TSLA:"bg-red-500",GOOGL:"bg-blue-500",MSFT:"bg-green-500",NVDA:"bg-green-600"}[e]||"bg-accent-primary/30";return h.jsx("div",{className:`${r} rounded-full flex items-center justify-center font-bold text-white shadow-lg`,style:{width:t,height:t,fontSize:t*.35},children:e.slice(0,2)})};function nN({longCoins:e,shortCoins:t,onLongCoinsChange:n,onShortCoinsChange:r,onSwap:i,marketType:o}){const[s,a]=W.useState(!1),[l,c]=W.useState(null),u=()=>{Ce("impact","medium"),a(!0),setTimeout(()=>{i(),setTimeout(()=>a(!1),300)},300)},d=(y,x)=>{Ce("selection"),y==="long"?n(e.filter(p=>p.ticker!==x)):r(t.filter(p=>p.ticker!==x))},f=y=>{Ce("selection"),l==="long"?e.find(x=>x.ticker===y.ticker)||n([...e,y]):l==="short"&&(t.find(x=>x.ticker===y.ticker)||r([...t,y]))},m=()=>[...e,...t].map(y=>y.ticker),g=(y,x,p,w)=>{const v=x==="long",k=Math.round(100/w);return h.jsxs("div",{className:`
          relative flex items-center gap-3 p-3 rounded-xl transition-all duration-300
          ${v?"bg-bg-long border border-accent-success/10 hover:border-accent-success/30":"bg-bg-short border border-accent-danger/10 hover:border-accent-danger/30"}
          ${p>0?"mt-2":""}
        `,style:{transform:s?v?"translateY(100%)":"translateY(-100%)":"translateY(0)",opacity:s?0:1,transition:"all 0.3s ease-out"},children:[h.jsx(tN,{ticker:y.ticker,size:40}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"text-base font-bold text-text-primary truncate",children:y.name}),h.jsx("span",{className:`text-sm font-semibold ${v?"text-accent-success":"text-accent-danger"}`,children:y.ticker})]}),h.jsx("span",{className:"text-xs text-text-secondary",children:y.price?wr(y.price):`${x==="long"?"Long":"Short"} Position`})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:`text-sm font-bold ${v?"text-accent-success":"text-accent-danger"}`,children:[k,"%"]}),w>1&&h.jsx("button",{onClick:()=>d(x,y.ticker),className:"w-6 h-6 rounded-full bg-bg-tertiary flex items-center justify-center hover:bg-accent-danger/20 transition-colors",children:h.jsx(hs,{className:"w-3 h-3 text-text-muted hover:text-accent-danger"})})]})]},y.ticker)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"card p-5 animate-fade-up relative overflow-hidden",style:{animationDelay:"100ms"},children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Pair Trade"})}),h.jsx("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-accent-primary/10 text-accent-primary border border-accent-primary/20",children:o})]}),h.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-accent-success/5 rounded-full blur-3xl pointer-events-none"}),h.jsx("div",{className:"absolute -bottom-20 -right-20 w-40 h-40 bg-accent-danger/5 rounded-full blur-3xl pointer-events-none"}),h.jsxs("div",{className:"relative z-10 mb-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-sm font-medium text-text-secondary",children:["Long Assets (",e.length,")"]}),h.jsxs("button",{onClick:()=>c("long"),className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-accent-success hover:bg-accent-success/10 rounded-lg transition-colors",children:[h.jsx(sa,{className:"w-3 h-3"}),"Add"]})]}),e.map((y,x)=>g(y,"long",x,e.length))]}),h.jsx("div",{className:"flex justify-center -my-1 relative z-20",children:h.jsx("button",{onClick:u,className:`
              w-10 h-10 rounded-full bg-bg-tertiary border border-border 
              flex items-center justify-center transition-all duration-300
              hover:border-accent-primary/50 hover:bg-bg-secondary
              active:scale-90
              ${s?"rotate-180 bg-accent-primary/20 border-accent-primary":""}
            `,children:h.jsx(y8,{className:`w-5 h-5 transition-colors duration-300 ${s?"text-accent-primary":"text-text-muted"}`})})}),h.jsxs("div",{className:"relative z-10 mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-sm font-medium text-text-secondary",children:["Short Assets (",t.length,")"]}),h.jsxs("button",{onClick:()=>c("short"),className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-accent-danger hover:bg-accent-danger/10 rounded-lg transition-colors",children:[h.jsx(sa,{className:"w-3 h-3"}),"Add"]})]}),t.map((y,x)=>g(y,"short",x,t.length))]})]}),h.jsx(eN,{isOpen:l!==null,onClose:()=>c(null),onSelect:f,type:l||"long",excludeCoins:m()})]})}function rN({proportion:e,risk:t,leverage:n,onProportionChange:r,onRiskChange:i,onLeverageChange:o}){const[s,a]=W.useState(t.stopLossPct),[l,c]=W.useState(t.takeProfitPct),[u,d]=W.useState(n),[f,m]=W.useState(e.longPct),g=v=>{Ce("selection");const k=Math.max(10,Math.min(90,f+v));m(k),r==null||r(k)},y=v=>{Ce("selection");const k=Math.max(.5,Math.min(10,s+v));a(k),i==null||i(k,l)},x=v=>{Ce("selection");const k=Math.max(.5,Math.min(20,l+v));c(k),i==null||i(s,k)},p=v=>{Ce("selection"),d(v),o==null||o(v)},w=[1,2,3,5,7,10,15,20,25];return h.jsxs("div",{className:"card p-5 space-y-5 animate-fade-up",style:{animationDelay:"200ms"},children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("span",{className:"text-xs font-medium text-text-muted uppercase tracking-wider",children:"Trade Parameters"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Allocation"}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("input",{type:"number",value:f,onChange:v=>{const k=parseInt(v.target.value);!isNaN(k)&&k>=0&&k<=100&&(m(k),r==null||r(k),Ce("selection"))},onBlur:v=>{const k=parseInt(v.target.value);isNaN(k)||k<0?m(0):k>100&&m(100)},className:"w-10 text-sm font-bold text-accent-success bg-transparent text-right outline-none focus:ring-2 focus:ring-accent-success/30 rounded py-0.5 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",min:"0",max:"100"}),h.jsx("span",{className:"text-sm font-bold text-accent-success",children:"%"}),h.jsx("span",{className:"text-text-muted mx-1",children:"/"}),h.jsxs("span",{className:"text-sm font-bold text-accent-danger",children:[100-f,"%"]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("button",{onClick:()=>g(-10),className:"w-10 h-10 rounded-xl bg-accent-danger/10 border border-accent-danger/20 flex items-center justify-center hover:bg-accent-danger/20 transition-colors btn-press",children:h.jsx(wf,{className:"w-5 h-5 text-accent-danger"})}),h.jsxs("div",{className:"flex-1 h-6 rounded-full overflow-hidden flex relative border border-border",children:[h.jsx("div",{className:"relative transition-all duration-300",style:{width:`${f}%`,background:"linear-gradient(135deg, #22c55e 0%, #16a34a 50%, #22c55e 100%)"},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})}),h.jsx("div",{className:"relative transition-all duration-300",style:{width:`${100-f}%`,background:"linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #ef4444 100%)"},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer",style:{animationDelay:"1s"}})})]}),h.jsx("button",{onClick:()=>g(10),className:"w-10 h-10 rounded-xl bg-accent-success/10 border border-accent-success/20 flex items-center justify-center hover:bg-accent-success/20 transition-colors btn-press",children:h.jsx(sa,{className:"w-5 h-5 text-accent-success"})})]}),h.jsxs("div",{className:"flex justify-between text-xs",children:[h.jsxs("span",{className:"text-accent-success font-medium",children:["Long ",f,"%"]}),h.jsxs("span",{className:"text-accent-danger font-medium",children:["Short ",100-f,"%"]})]})]}),h.jsx("div",{className:"h-px bg-border"}),h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Risk Management"})}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"bg-bg-tertiary rounded-xl p-4",children:[h.jsx("span",{className:"text-xs text-text-muted block mb-2",children:"Stop Loss"}),h.jsxs("div",{className:"flex items-center justify-between gap-1",children:[h.jsx("button",{onClick:()=>y(-.5),className:"w-8 h-8 rounded-lg bg-accent-danger/10 flex items-center justify-center hover:bg-accent-danger/20 transition-colors btn-press flex-shrink-0",children:h.jsx(wf,{className:"w-4 h-4 text-accent-danger"})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"number",value:s,onChange:v=>{const k=parseFloat(v.target.value);!isNaN(k)&&k>=.1&&k<=50&&(a(k),i==null||i(k,l),Ce("selection"))},onBlur:v=>{const k=parseFloat(v.target.value);isNaN(k)||k<.1?a(.5):k>50&&a(50)},className:"w-10 text-xl font-bold text-accent-danger bg-transparent text-right outline-none focus:ring-2 focus:ring-accent-danger/30 rounded py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",step:"0.1",min:"0.1",max:"50"}),h.jsx("span",{className:"text-xl font-bold text-accent-danger ml-0.5",children:"%"})]}),h.jsx("button",{onClick:()=>y(.5),className:"w-8 h-8 rounded-lg bg-accent-danger/10 flex items-center justify-center hover:bg-accent-danger/20 transition-colors btn-press flex-shrink-0",children:h.jsx(sa,{className:"w-4 h-4 text-accent-danger"})})]})]}),h.jsxs("div",{className:"bg-bg-tertiary rounded-xl p-4",children:[h.jsx("span",{className:"text-xs text-text-muted block mb-2",children:"Take Profit"}),h.jsxs("div",{className:"flex items-center justify-between gap-1",children:[h.jsx("button",{onClick:()=>x(-.5),className:"w-8 h-8 rounded-lg bg-accent-success/10 flex items-center justify-center hover:bg-accent-success/20 transition-colors btn-press flex-shrink-0",children:h.jsx(wf,{className:"w-4 h-4 text-accent-success"})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"number",value:l,onChange:v=>{const k=parseFloat(v.target.value);!isNaN(k)&&k>=.1&&k<=100&&(c(k),i==null||i(s,k),Ce("selection"))},onBlur:v=>{const k=parseFloat(v.target.value);isNaN(k)||k<.1?c(.5):k>100&&c(100)},className:"w-10 text-xl font-bold text-accent-success bg-transparent text-right outline-none focus:ring-2 focus:ring-accent-success/30 rounded py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",step:"0.1",min:"0.1",max:"100"}),h.jsx("span",{className:"text-xl font-bold text-accent-success ml-0.5",children:"%"})]}),h.jsx("button",{onClick:()=>x(.5),className:"w-8 h-8 rounded-lg bg-accent-success/10 flex items-center justify-center hover:bg-accent-success/20 transition-colors btn-press flex-shrink-0",children:h.jsx(sa,{className:"w-4 h-4 text-accent-success"})})]})]})]})]}),h.jsx("div",{className:"h-px bg-border"}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Leverage"}),h.jsx("span",{className:"text-xl font-black text-accent-primary",children:lp(u)})]}),h.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:w.slice(0,5).map(v=>h.jsxs("button",{onClick:()=>p(v),className:`
                py-2.5 rounded-xl text-sm font-bold transition-all btn-press
                ${u===v?"bg-accent-primary text-black shadow-lg shadow-accent-primary/30":"bg-bg-tertiary text-text-secondary hover:bg-bg-tertiary/80"}
              `,children:[v,"x"]},v))}),h.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:w.slice(5).map(v=>h.jsxs("button",{onClick:()=>p(v),className:`
                py-2.5 rounded-xl text-sm font-bold transition-all btn-press
                ${u===v?"bg-accent-primary text-black shadow-lg shadow-accent-primary/30":"bg-bg-tertiary text-text-secondary hover:bg-bg-tertiary/80"}
              `,children:[v,"x"]},v))}),h.jsxs("div",{className:"relative mb-3 group/slider",children:[h.jsx("div",{className:"absolute inset-0 h-3 rounded-full overflow-hidden",style:{background:`linear-gradient(to right, var(--accent-primary) 0%, var(--accent-primary) ${u/25*100}%, var(--bg-tertiary) ${u/25*100}%, var(--bg-tertiary) 100%)`}}),h.jsx("input",{type:"range",min:"1",max:"25",value:u,onChange:v=>p(Number(v.target.value)),className:"w-full relative z-10"})]}),h.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-4",children:[h.jsx("span",{children:"1x"}),h.jsx("span",{children:"7x"}),h.jsx("span",{children:"13x"}),h.jsx("span",{children:"19x"}),h.jsx("span",{children:"25x"})]}),h.jsxs("div",{className:`flex items-start gap-2 p-3 rounded-lg border transition-colors ${u>10?"bg-accent-danger/10 border-accent-danger/20":u>5?"bg-accent-warning/10 border-accent-warning/20":"bg-accent-success/10 border-accent-success/20"}`,children:[h.jsx(YE,{className:`w-4 h-4 flex-shrink-0 mt-0.5 ${u>10?"text-accent-danger":u>5?"text-accent-warning":"text-accent-success"}`}),h.jsx("span",{className:"text-xs text-text-secondary leading-relaxed",children:u>10?"High leverage! Significant risk of liquidation.":u>5?"Moderate leverage. Trade with caution.":"Conservative leverage. Lower risk exposure."})]})]})]})}const XE=W.createContext(null);function iN(){const e=W.useContext(XE);if(!e)throw new Error("useToast must be used within ToastProvider");return e}let oN=0;function sN({children:e}){const[t,n]=W.useState([]),r=W.useCallback((o,s="success")=>{const a=`toast-${++oN}`;n(l=>[...l,{id:a,message:o,type:s}]),setTimeout(()=>{n(l=>l.filter(c=>c.id!==a))},3e3)},[]),i=W.useCallback(o=>{n(s=>s.filter(a=>a.id!==o))},[]);return h.jsxs(XE.Provider,{value:{showToast:r},children:[e,h.jsx(aN,{toasts:t,onDismiss:i})]})}function aN({toasts:e,onDismiss:t}){return e.length===0?null:h.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex flex-col gap-2 safe-top",children:e.map(n=>h.jsx(lN,{toast:n,onDismiss:t},n.id))})}function lN({toast:e,onDismiss:t}){const n={success:x8,error:b8,info:T8},r={success:"text-accent-success",error:"text-accent-danger",info:"text-accent-primary"},i={success:"bg-accent-success/10 border-accent-success/20",error:"bg-accent-danger/10 border-accent-danger/20",info:"bg-accent-primary/10 border-accent-primary/20"},o=n[e.type];return h.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border animate-fade-up ${i[e.type]}`,style:{backdropFilter:"blur(12px)"},children:[h.jsx(o,{className:`w-5 h-5 flex-shrink-0 ${r[e.type]}`}),h.jsx("p",{className:"flex-1 text-sm font-medium text-text-primary",children:e.message}),h.jsx("button",{onClick:()=>t(e.id),className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:h.jsx(hs,{className:"w-4 h-4 text-text-secondary"})})]})}function cN(){return null}function uN({disabled:e=!1}){const[t,n]=W.useState("idle"),[r,i]=W.useState(null),o=W.useRef(null),{showToast:s}=iN(),a=async u=>{if(t!=="idle"||e)return;const d=o.current;if(d){const f=d.getBoundingClientRect();i({x:u.clientX-f.left,y:u.clientY-f.top}),setTimeout(()=>i(null),600)}Ce("impact","medium"),n("submitting"),await new Promise(f=>setTimeout(f,1500)),n("confirmed"),Ce("notification","success"),s("Trade submitted (demo)","success")},l=()=>{switch(t){case"submitting":return h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(sp,{className:"w-5 h-5 animate-spin"}),h.jsx("div",{className:"absolute inset-0 animate-ping",children:h.jsx(sp,{className:"w-5 h-5 opacity-30"})})]}),h.jsx("span",{className:"animate-pulse",children:"Processing..."})]});case"confirmed":return h.jsxs("div",{className:"flex items-center gap-2 animate-pop",children:[h.jsxs("div",{className:"relative",children:[h.jsx(HE,{className:"w-5 h-5",strokeWidth:3}),h.jsx("svg",{className:"absolute inset-0 w-5 h-5",viewBox:"0 0 24 24",children:h.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"63",strokeDashoffset:"63",className:"animate-[checkDraw_500ms_ease-out_forwards]",style:{animation:"checkDraw 500ms ease-out forwards"}})})]}),h.jsx("span",{children:"Confirmed!"}),h.jsx(os,{className:"w-4 h-4 animate-bounce-soft"})]});default:return e?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(W0,{className:"w-5 h-5"}),h.jsx("span",{children:"Connect Wallet First"})]}):h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Confirm Trade"}),h.jsx("svg",{className:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}},c=()=>{const u="group relative w-full py-4 rounded-2xl font-semibold text-base flex items-center justify-center gap-2 transition-all duration-300 overflow-hidden";return e?`${u} bg-bg-tertiary text-text-muted cursor-not-allowed`:t==="confirmed"?`${u} bg-accent-success text-black scale-[1.02]`:t==="submitting"?`${u} bg-accent-primary/80 text-black cursor-not-allowed`:`${u} bg-accent-primary text-black btn-glow hover:scale-[1.02] hover:shadow-lg hover:shadow-accent-primary/25 active:scale-[0.98]`};return h.jsxs("div",{className:"sticky bottom-0 left-0 right-0 p-4 safe-bottom z-20",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-primary via-bg-primary/95 to-transparent backdrop-blur-sm"}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{ref:o,onClick:a,disabled:t!=="idle"||e,className:c(),children:[r&&h.jsx("span",{className:"absolute bg-white/30 rounded-full animate-scale-in pointer-events-none",style:{left:r.x-50,top:r.y-50,width:100,height:100,transform:"scale(0)",animation:"rippleExpand 600ms ease-out forwards"}}),t==="idle"&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),t==="submitting"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/20 overflow-hidden",children:h.jsx("div",{className:"h-full bg-black/40 animate-[progressBar_1.5s_ease-in-out]"})}),l()]}),h.jsx("p",{className:"text-center text-xs text-text-muted mt-3 transition-opacity duration-300",children:t==="confirmed"?h.jsx("span",{className:"text-accent-success animate-fade-in",children:"Transaction sent successfully"}):e?"Please connect your wallet to proceed":"By confirming you allow execution via Pear."})]}),h.jsx("style",{children:`
        @keyframes rippleExpand {
          to {
            transform: scale(4);
            opacity: 0;
          }
        }
        @keyframes progressBar {
          0% { width: 0%; }
          100% { width: 100%; }
        }
        @keyframes checkDraw {
          to { stroke-dashoffset: 0; }
        }
      `})]})}const eS=W.createContext(null);function Dl(e){return e.length<=10?e:`${e.slice(0,6)}...${e.slice(-4)}`}async function Ts(e,t){try{const n=await e.request({method:"eth_getBalance",params:[t,"latest"]}),r=BigInt(n),i=Number(r)/1e18;return console.log("ETH Balance:",i),i}catch(n){return console.error("Failed to get ETH balance:",n),0}}function av(){var t;const e=window.ethereum;if((t=e==null?void 0:e.providers)!=null&&t.length){console.log("Multiple providers found:",e.providers.length);const n=e.providers.find(r=>r.isMetaMask);if(n)return console.log("Found MetaMask in providers array"),n}return e!=null&&e.isMetaMask?(console.log("Using window.ethereum (isMetaMask: true)"),e):e?(console.log("Using window.ethereum (generic provider)"),e):(console.log("No ethereum provider found"),null)}function dN({children:e}){const[t,n]=W.useState({isConnected:!1,isConnecting:!1,address:null,walletType:null,balance:0,currency:"USD",displayAddress:null}),{sdk:r,connected:i,account:o}=m6();W.useEffect(()=>{(async()=>{const u=window.ethereum;if(u!=null&&u.isMetaMask&&u.selectedAddress){const d=u.selectedAddress;n({isConnected:!0,isConnecting:!1,address:d,walletType:"metamask",balance:0,currency:"ETH",displayAddress:Dl(d)});const f=await Ts(u,d);n(m=>({...m,balance:f}))}})()},[]),W.useEffect(()=>{i&&o&&t.walletType==="metamask"&&(console.log("MetaMask SDK connected:",o),(async()=>{try{const u=r==null?void 0:r.getProvider();if(u){const d=await Ts(u,o);n({isConnected:!0,isConnecting:!1,address:o,walletType:"metamask",balance:d,currency:"ETH",displayAddress:Dl(o)}),Ce("notification","success")}}catch(u){console.error("Error fetching balance:",u)}})())},[i,o,r,t.walletType]);const s=W.useCallback(async c=>{if(c!=="metamask")return console.error("Only MetaMask is supported"),!1;n(u=>({...u,isConnecting:!0})),Ce("impact","medium");try{console.log("Attempting MetaMask connection...");const u=ZE();if(console.log("Running in Telegram:",u),u||!window.ethereum){if(console.log("Using MetaMask SDK..."),!r)return console.error("MetaMask SDK not initialized"),alert("MetaMask SDK not available. Please refresh the page."),n(d=>({...d,isConnecting:!1})),!1;try{console.log("Calling SDK connect...");const d=await r.connect();if(console.log("SDK connected, accounts:",d),d&&d.length>0){const f=d[0],m=r.getProvider();if(m){const g=await Ts(m,f);return n({isConnected:!0,isConnecting:!1,address:f,walletType:"metamask",balance:g,currency:"ETH",displayAddress:Dl(f)}),Ce("notification","success"),!0}}return n(f=>({...f,isConnecting:!1})),!1}catch(d){return console.error("MetaMask SDK connection error:",d),n(f=>({...f,isConnecting:!1})),!1}}else{console.log("Using browser extension...");const d=av();if(!d)return console.log("No MetaMask provider found"),window.confirm(`MetaMask not detected!

If you have MetaMask installed:
 Click the MetaMask extension icon
 Make sure it's enabled for this site
 Refresh the page and try again

Click OK to download MetaMask, or Cancel to try again.`)&&window.open("https://metamask.io/download/","_blank"),n(m=>({...m,isConnecting:!1})),!1;try{console.log("Requesting accounts from MetaMask...");const f=await d.request({method:"eth_requestAccounts"});if(console.log("Accounts received:",f),f&&f.length>0){const m=f[0],g=await Ts(d,m);return n({isConnected:!0,isConnecting:!1,address:m,walletType:"metamask",balance:g,currency:"ETH",displayAddress:Dl(m)}),Ce("notification","success"),!0}}catch(f){return console.error("MetaMask connection error:",f),n(m=>({...m,isConnecting:!1})),!1}}}catch(u){console.error("Wallet connection error:",u),Ce("notification","error")}return n(u=>({...u,isConnecting:!1})),!1},[r]),a=W.useCallback(async()=>{Ce("impact","light");try{if(r&&i)try{await r.terminate()}catch(c){console.error("Error terminating MetaMask SDK:",c)}}catch(c){console.error("Disconnect error:",c)}n({isConnected:!1,isConnecting:!1,address:null,walletType:null,balance:0,currency:"USD",displayAddress:null})},[r,i]),l=W.useCallback(async()=>{if(!(!t.isConnected||!t.address||t.walletType!=="metamask"))try{const c=av();if(c){const u=await Ts(c,t.address);n(d=>({...d,balance:u}))}}catch(c){console.error("Failed to refresh balance:",c)}},[t.isConnected,t.address,t.walletType]);return h.jsx(eS.Provider,{value:{...t,connect:s,disconnect:a,refreshBalance:l},children:e})}function tS(){const e=W.useContext(eS);if(!e)throw new Error("useWallet must be used within a WalletProvider");return e}const fN=[{id:"metamask",name:"MetaMask",description:"Connect via QR code or mobile app",popular:!0},{id:"walletconnect",name:"WalletConnect",description:"Scan with mobile wallet"},{id:"coinbase",name:"Coinbase Wallet",description:"Connect Coinbase wallet"},{id:"phantom",name:"Phantom",description:"Solana & multi-chain wallet"},{id:"tonconnect",name:"TON Connect",description:"Connect TON wallet"}];function hN({isOpen:e,onClose:t}){const{connect:n,isConnecting:r,isConnected:i,walletType:o}=tS(),s=async a=>{Ce("impact","medium"),a.id!=="metamask"&&(Ce("notification","warning"),alert(`${a.name} coming soon!

Connecting with MetaMask instead...`)),await n("metamask")&&setTimeout(()=>{t()},500)};return e?Ru.createPortal(h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t,children:h.jsxs("div",{className:"w-full max-w-lg bg-bg-primary rounded-3xl animate-scale-in max-h-[85vh] flex flex-col shadow-2xl shadow-accent-primary/10",onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-primary/10 flex items-center justify-center",children:h.jsx(W0,{className:"w-5 h-5 text-accent-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Connect Wallet"}),h.jsx("p",{className:"text-xs text-text-muted",children:"Scan QR code with MetaMask app"})]})]}),h.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-bg-secondary flex items-center justify-center hover:bg-bg-tertiary transition-colors",children:h.jsx(hs,{className:"w-5 h-5 text-text-muted"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[h.jsx("div",{className:"grid grid-cols-1 gap-2",children:fN.map(a=>h.jsx(pN,{wallet:a,connecting:r&&o===a.id,connected:i&&o===a.id,onClick:()=>s(a)},a.id))}),h.jsxs("div",{className:"mt-6 p-4 bg-bg-secondary/50 rounded-xl border border-border/50",children:[h.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-2",children:"How to connect:"}),h.jsxs("ol",{className:"text-xs text-text-muted space-y-1.5",children:[h.jsx("li",{children:"1. Click the MetaMask button above"}),h.jsx("li",{children:"2. Scan the QR code with your MetaMask mobile app"}),h.jsx("li",{children:"3. Approve the connection in MetaMask"})]})]})]}),h.jsx("div",{className:"p-5 border-t border-border",children:h.jsxs("p",{className:"text-xs text-text-muted text-center",children:["By connecting, you agree to our"," ",h.jsx("span",{className:"text-accent-primary",children:"Terms of Service"})," ","and"," ",h.jsx("span",{className:"text-accent-primary",children:"Privacy Policy"})]})})]})}),document.body):null}function pN({wallet:e,connecting:t,connected:n,onClick:r}){return h.jsxs("button",{onClick:r,disabled:t||n,className:`
        w-full flex items-center gap-4 p-4 rounded-2xl border transition-all
        ${n?"bg-accent-success/10 border-accent-success":"bg-bg-secondary border-border hover:border-accent-primary/50 hover:bg-bg-tertiary"}
        disabled:opacity-70
      `,children:[h.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden flex items-center justify-center",children:h.jsx(G0,{walletId:e.id,className:"w-12 h-12"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("div",{className:"font-semibold text-text-primary",children:e.name}),h.jsx("div",{className:"text-xs text-text-muted",children:e.description})]}),h.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t?h.jsx(sp,{className:"w-5 h-5 text-accent-primary animate-spin"}):n?h.jsx("div",{className:"w-6 h-6 rounded-full bg-accent-success flex items-center justify-center",children:h.jsx(HE,{className:"w-4 h-4 text-white"})}):h.jsx(WE,{className:"w-4 h-4 text-text-muted"})})]})}function mN({isOpen:e,onClose:t,currentFrequency:n,currentTime:r,onSave:i,saveMessage:o,isSaving:s}){const[a,l]=W.useState(n),[c,u]=W.useState(r);if(!e)return null;const d=[{value:"never",label:"Never",icon:""},{value:"1m",label:"1 Min",icon:""},{value:"5m",label:"5 Min",icon:""},{value:"15m",label:"15 Min",icon:""},{value:"1h",label:"1 Hour",icon:""},{value:"2h",label:"2 Hours",icon:""},{value:"4h",label:"4 Hours",icon:""},{value:"daily",label:"Daily",icon:""}],f=()=>{Ce("impact","medium"),i(a,c)},m=g=>{Ce("selection"),l(g)};return Ru.createPortal(h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t,children:h.jsxs("div",{className:"relative w-full max-w-md animate-scale-in overflow-hidden",onClick:g=>g.stopPropagation(),children:[h.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-accent-primary via-accent-success to-accent-primary rounded-3xl opacity-70 blur-[1px] animate-pulse"}),h.jsxs("div",{className:"relative bg-bg-primary rounded-3xl max-h-[80vh] overflow-hidden flex flex-col shadow-2xl shadow-accent-primary/20",children:[h.jsx("div",{className:"absolute top-0 left-0 right-0 h-40 pointer-events-none opacity-30",style:{background:`
                linear-gradient(to bottom, var(--accent-primary) 0%, transparent 100%)
              `}}),h.jsx("div",{className:"absolute top-4 right-12 w-2 h-2 bg-accent-primary rounded-full animate-ping opacity-60"}),h.jsx("div",{className:"absolute top-8 right-20 w-1.5 h-1.5 bg-accent-success rounded-full animate-ping opacity-40",style:{animationDelay:"0.5s"}}),h.jsx("div",{className:"absolute top-6 right-8 w-1 h-1 bg-accent-primary rounded-full animate-ping opacity-50",style:{animationDelay:"1s"}}),h.jsxs("div",{className:"relative flex items-center justify-between p-5 border-b border-border/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-accent-primary/20 to-accent-success/20 flex items-center justify-center",children:h.jsx(v8,{className:"w-6 h-6 text-accent-primary"})}),h.jsx("div",{className:"absolute inset-0 w-12 h-12 rounded-2xl bg-accent-primary/20 blur-xl animate-pulse"})]}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:["Settings",h.jsx(os,{className:"w-4 h-4 text-accent-primary animate-pulse"})]}),h.jsx("p",{className:"text-xs text-text-muted",children:"Customize your notifications"})]})]}),h.jsx("button",{onClick:t,className:"w-10 h-10 rounded-xl bg-bg-secondary/80 hover:bg-bg-tertiary flex items-center justify-center transition-all hover:scale-105 btn-press",children:h.jsx(hs,{className:"w-5 h-5 text-text-muted"})})]}),h.jsxs("div",{className:"relative p-5 overflow-y-auto flex-1",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"w-1 h-4 bg-accent-primary rounded-full"}),h.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"Notification Frequency"})]}),h.jsx("p",{className:"text-xs text-text-muted mb-4 ml-3",children:"Choose how often you receive portfolio updates"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(g=>h.jsxs("button",{onClick:()=>m(g.value),className:`relative px-4 py-3 rounded-xl text-sm font-medium transition-all overflow-hidden group ${a===g.value?"bg-gradient-to-r from-accent-primary to-accent-success text-black shadow-lg shadow-accent-primary/30 scale-[1.02]":"bg-bg-secondary/80 text-text-secondary hover:bg-bg-tertiary border border-border/50 hover:border-accent-primary/30"}`,children:[a===g.value&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-primary/20 to-accent-success/20 animate-pulse"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-500"}),h.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[h.jsx("span",{children:g.icon}),h.jsx("span",{children:g.label})]})]},g.value))})]}),a==="daily"&&h.jsxs("div",{className:"mb-6 animate-fade-up",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("div",{className:"w-1 h-4 bg-accent-success rounded-full"}),h.jsxs("h3",{className:"text-sm font-semibold text-text-primary flex items-center gap-2",children:[h.jsx(VE,{className:"w-4 h-4 text-accent-success"}),"Notification Time"]})]}),h.jsx("p",{className:"text-xs text-text-muted mb-3 ml-3",children:"Choose your preferred time for daily updates"}),h.jsx("input",{type:"time",value:c,onChange:g=>u(g.target.value),className:"w-full px-4 py-3 rounded-xl bg-bg-secondary/80 border border-border/50 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent-primary/50 focus:border-accent-primary/50 transition-all"})]}),o&&h.jsxs("div",{className:`mb-4 p-4 rounded-xl text-sm flex items-center gap-2 animate-fade-up ${o.includes("success")||o.includes("saved")?"bg-accent-success/10 text-accent-success border border-accent-success/20":"bg-accent-danger/10 text-accent-danger border border-accent-danger/20"}`,children:[h.jsx("span",{className:"text-lg",children:o.includes("success")||o.includes("saved")?"":""}),o]})]}),h.jsx("div",{className:"relative p-5 border-t border-border/50",children:h.jsxs("button",{onClick:f,disabled:s,className:"relative w-full py-4 rounded-2xl font-semibold text-base overflow-hidden transition-all disabled:opacity-50 disabled:cursor-not-allowed group bg-gradient-to-r from-accent-primary to-accent-success text-black shadow-lg shadow-accent-primary/25 hover:shadow-accent-primary/40 hover:scale-[1.02] active:scale-[0.98]",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),h.jsx("span",{className:"relative flex items-center justify-center gap-2",children:s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(os,{className:"w-5 h-5"}),"Save Settings"]})})]})})]})]})}),document.body)}const gN=[{symbol:"BTC",price:43250.5,change:1250.3,changePercent:2.98},{symbol:"ETH",price:2450,change:-45.2,changePercent:-1.81},{symbol:"SOL",price:98.5,change:5.3,changePercent:5.68},{symbol:"AVAX",price:35.8,change:2.1,changePercent:6.23},{symbol:"DOT",price:7.25,change:-.15,changePercent:-2.03},{symbol:"LINK",price:14.8,change:.45,changePercent:3.14},{symbol:"MATIC",price:.85,change:.03,changePercent:3.66},{symbol:"ADA",price:.52,change:-.02,changePercent:-3.7}];function yN(){const[e,t]=W.useState(gN);W.useEffect(()=>{const r=setInterval(()=>{t(i=>i.map(o=>{const s=(Math.random()-.5)*.002,a=o.price*(1+s),l=a-o.price/(1+o.changePercent/100);return{...o,price:a,change:l,changePercent:o.changePercent+(Math.random()-.5)*.1}}))},2e3);return()=>clearInterval(r)},[]);const n=[...e,...e];return h.jsxs("div",{className:"relative overflow-hidden bg-bg-secondary/50 border-y border-border/30 py-2",children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-bg-primary to-transparent z-10 pointer-events-none"}),h.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-bg-primary to-transparent z-10 pointer-events-none"}),h.jsx("div",{className:"flex animate-ticker",children:n.map((r,i)=>h.jsxs("div",{className:"flex items-center gap-3 px-4 whitespace-nowrap",children:[h.jsx("span",{className:"text-sm font-semibold text-text-primary",children:r.symbol}),h.jsxs("span",{className:"text-sm text-text-secondary font-mono",children:["$",r.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),h.jsxs("span",{className:`flex items-center gap-0.5 text-xs font-medium ${r.changePercent>=0?"text-accent-success":"text-accent-danger"}`,children:[r.changePercent>=0?h.jsx(Qi,{className:"w-3 h-3"}):h.jsx(ss,{className:"w-3 h-3"}),r.changePercent>=0?"+":"",r.changePercent.toFixed(2),"%"]}),h.jsx("span",{className:"text-border",children:"|"})]},`${r.symbol}-${i}`))}),h.jsx("style",{children:`
        @keyframes ticker {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-ticker {
          animation: ticker 30s linear infinite;
        }
        .animate-ticker:hover {
          animation-play-state: paused;
        }
      `})]})}function vN({correlation:e,zScore:t,confidence:n,signal:r}){const[i,o]=W.useState(0),[s,a]=W.useState(!1);W.useEffect(()=>{const d=setTimeout(()=>a(!0),100);return()=>clearTimeout(d)},[]),W.useEffect(()=>{if(s){const m=n/60;let g=0,y=0;const x=setInterval(()=>{y++,g+=m,y>=60?(o(n),clearInterval(x)):o(g)},1500/60);return()=>clearInterval(x)}},[s,n]);const c=(()=>{switch(r){case"strong_buy":return{label:"Strong Buy",color:"text-accent-success",bg:"bg-accent-success/10",border:"border-accent-success/30",glow:"rgba(191, 255, 0, 0.3)",icon:Qi};case"buy":return{label:"Buy",color:"text-accent-success",bg:"bg-accent-success/10",border:"border-accent-success/20",glow:"rgba(191, 255, 0, 0.2)",icon:Qi};case"neutral":return{label:"Neutral",color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20",glow:"rgba(250, 204, 21, 0.2)",icon:rv};case"sell":return{label:"Sell",color:"text-accent-danger",bg:"bg-accent-danger/10",border:"border-accent-danger/20",glow:"rgba(255, 71, 87, 0.2)",icon:ss};case"strong_sell":return{label:"Strong Sell",color:"text-accent-danger",bg:"bg-accent-danger/10",border:"border-accent-danger/30",glow:"rgba(255, 71, 87, 0.3)",icon:ss}}})(),u=c.icon;return h.jsxs("div",{className:`
        card p-4 relative overflow-hidden transition-all duration-500 border
        ${c.border}
        ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
      `,style:{boxShadow:s?`0 0 40px ${c.glow}`:"none"},children:[h.jsx("div",{className:"absolute inset-0 opacity-20 animate-pulse-slow",style:{background:`radial-gradient(circle at 30% 50%, ${c.glow} 0%, transparent 50%)`}}),h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:h.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gradient-to-b from-transparent via-accent-primary/50 to-transparent animate-scan-horizontal"})}),h.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[h.jsxs("div",{className:"relative w-28 h-28 flex-shrink-0",children:[h.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[h.jsx("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"5"}),h.jsx("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeDasharray:2*Math.PI*42,strokeDashoffset:2*Math.PI*42-i/100*2*Math.PI*42,className:`${c.color} transition-all duration-1000 ease-out`,style:{filter:`drop-shadow(0 0 8px ${c.glow})`}})]}),h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-0.5",children:[h.jsxs("span",{className:`text-2xl font-black ${c.color} leading-none`,children:[Math.round(i),"%"]}),h.jsx("span",{className:"text-[9px] text-text-muted uppercase tracking-wider leading-none mt-1",children:"Confidence"})]})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("div",{className:`p-1.5 rounded-lg ${c.bg}`,children:h.jsx(u,{className:`w-4 h-4 ${c.color}`})}),h.jsx("span",{className:`text-lg font-bold ${c.color}`,children:c.label}),h.jsx(os,{className:"w-4 h-4 text-accent-primary animate-pulse"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-2 sm:px-3 sm:py-2.5 rounded-xl bg-bg-tertiary/50 border border-border/30",children:[h.jsx(GE,{className:"w-4 h-4 sm:w-5 sm:h-5 text-accent-primary"}),h.jsxs("div",{className:"min-w-0 flex-1 text-center",children:[h.jsx("p",{className:"text-[11px] sm:text-xs text-text-muted leading-tight",children:"Correlation"}),h.jsx("p",{className:"text-base sm:text-lg font-bold text-accent-primary leading-tight whitespace-nowrap",children:e.toFixed(3)})]})]}),h.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-2 sm:px-3 sm:py-2.5 rounded-xl bg-bg-tertiary/50 border border-border/30",children:[h.jsx(rv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-accent-primary"}),h.jsxs("div",{className:"min-w-0 flex-1 text-center",children:[h.jsx("p",{className:"text-[11px] sm:text-xs text-text-muted leading-tight",children:"Z-Score"}),h.jsxs("p",{className:`text-base sm:text-lg font-bold leading-tight whitespace-nowrap ${t>0?"text-accent-success":"text-accent-danger"}`,children:[t>0?"+":"",t.toFixed(2)]})]})]})]})]})]}),h.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsxs("div",{className:"flex items-center gap-1 text-text-muted",children:[h.jsx(q0,{className:"w-3 h-3 text-accent-primary"}),h.jsx("span",{children:"AI Signal Analysis"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-success animate-pulse"}),h.jsx("span",{className:"text-accent-success",children:"Live"})]})]})}),h.jsx("style",{children:`
        @keyframes scan-horizontal {
          0% { left: -10%; opacity: 0; }
          10% { opacity: 1; }
          90% { opacity: 1; }
          100% { left: 110%; opacity: 0; }
        }
        .animate-scan-horizontal {
          animation: scan-horizontal 3s ease-in-out infinite;
        }
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.1; }
          50% { opacity: 0.3; }
        }
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
      `})]})}function wN({potentialProfit:e,potentialLoss:t,riskRewardRatio:n,leverage:r,stopLoss:i=1.5,takeProfit:o=3}){const[s,a]=W.useState(!1),[l,c]=W.useState(0),[u,d]=W.useState(0);W.useEffect(()=>{const w=setTimeout(()=>a(!0),200);return()=>clearTimeout(w)},[]),W.useEffect(()=>{if(s){const k=e/40,P=t/40;let O=0;const F=setInterval(()=>{O++,O>=40?(c(e),d(t),clearInterval(F)):(c(k*O),d(P*O))},1e3/40);return()=>clearInterval(F)}},[s,e,t]);const f=r<=3?"low":r<=7?"medium":"high",g={low:{label:"Low Risk",color:"text-accent-success",bg:"bg-accent-success",icon:iv,description:"Conservative position"},medium:{label:"Medium Risk",color:"text-yellow-400",bg:"bg-yellow-400",icon:YE,description:"Balanced exposure"},high:{label:"High Risk",color:"text-accent-danger",bg:"bg-accent-danger",icon:op,description:"Aggressive leverage"}}[f],y=g.icon,x=e+Math.abs(t),p=x>0?e/x*100:50;return h.jsxs("div",{className:`
        card p-4 relative overflow-hidden transition-all duration-500
        ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
      `,children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`p-2 rounded-xl ${g.bg}/10`,children:h.jsx(y,{className:`w-5 h-5 ${g.color}`})}),h.jsxs("div",{children:[h.jsx("span",{className:`text-base font-bold ${g.color}`,children:g.label}),h.jsx("p",{className:"text-xs text-text-muted",children:g.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-xs text-text-muted",children:"R:R Ratio"}),h.jsxs("div",{className:"text-2xl font-black text-accent-primary",children:["1:",n.toFixed(1)]})]})]}),h.jsxs("div",{className:"mb-5",children:[h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsxs("span",{className:"text-accent-danger flex items-center gap-1.5 font-medium",children:[h.jsx(j8,{className:"w-4 h-4"}),"Max Loss"]}),h.jsxs("span",{className:"text-accent-success flex items-center gap-1.5 font-medium",children:["Max Profit",h.jsx(op,{className:"w-4 h-4"})]})]}),h.jsxs("div",{className:"relative h-12 rounded-xl overflow-hidden bg-bg-tertiary",children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-accent-danger to-accent-danger/50 flex items-center justify-start pl-3 transition-all duration-1000",style:{width:`${100-p}%`},children:h.jsxs("span",{className:"text-lg font-bold text-white drop-shadow-lg",children:["-$",Math.abs(u).toFixed(0)]})}),h.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-accent-success to-accent-success/50 flex items-center justify-end pr-3 transition-all duration-1000",style:{width:`${p}%`},children:h.jsxs("span",{className:"text-lg font-bold text-white drop-shadow-lg",children:["+$",l.toFixed(0)]})}),h.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-1 bg-white/30 transform -translate-x-1/2 rounded-full"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[h.jsxs("div",{className:"p-4 rounded-xl bg-accent-danger/5 border border-accent-danger/20",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(iv,{className:"w-5 h-5 text-accent-danger"}),h.jsx("span",{className:"text-sm text-text-muted",children:"Stop Loss"})]}),h.jsxs("p",{className:"text-2xl font-black text-accent-danger",children:["-",i.toFixed(1),"%"]})]}),h.jsxs("div",{className:"p-4 rounded-xl bg-accent-success/5 border border-accent-success/20",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(GE,{className:"w-5 h-5 text-accent-success"}),h.jsx("span",{className:"text-sm text-text-muted",children:"Take Profit"})]}),h.jsxs("p",{className:"text-2xl font-black text-accent-success",children:["+",o.toFixed(1),"%"]})]})]}),h.jsx("div",{className:"p-4 rounded-xl bg-bg-tertiary/50 border border-border/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-accent-primary/10",children:h.jsx(q0,{className:"w-5 h-5 text-accent-primary"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-text-muted block",children:"Leverage"}),h.jsx("span",{className:"text-xs text-text-muted/60",children:"Position multiplier"})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("span",{className:"text-3xl font-black text-accent-primary",children:[r,"x"]})})]})})]})}function bN(){const[e,t]=W.useState(!1),[n,r]=W.useState(!1),{isConnected:i,walletType:o,displayAddress:s,disconnect:a,balance:l,currency:c}=tS(),u="",[d,f]=W.useState("never"),[m,g]=W.useState("09:00"),[y,x]=W.useState(""),[p,w]=W.useState(!1),[v,k]=W.useState(fo.risk.stopLossPct),[P,O]=W.useState(fo.risk.takeProfitPct),[F,B]=W.useState(fo.leverage),[H,D]=W.useState(50),K=J=>{const G=J.replace(/-PERP$/i,"");return G8.find(fe=>fe.ticker.toUpperCase()===G.toUpperCase())||{name:G,ticker:G}},[z,E]=W.useState([K(fo.longCoin.ticker)]),[b,S]=W.useState([K(fo.shortCoin.ticker)]);W.useEffect(()=>{const G=new URLSearchParams(window.location.search).get("tradeId");if(!G){console.log("[TradeConfirm] No tradeId in URL params");return}console.log("[TradeConfirm] Fetching trade:",G,"from:",u);let ce=!1;return(async()=>{var X,ie;try{const te=await fetch(`${u}/api/trades/${G}`);if(console.log("[TradeConfirm] Fetch response status:",te.status),!te.ok){console.error("[TradeConfirm] Failed to fetch trade, status:",te.status);return}const re=await te.json();if(console.log("[TradeConfirm] Received trade data:",re),ce)return;const se=(X=re==null?void 0:re.pair)==null?void 0:X.long,de=(ie=re==null?void 0:re.pair)==null?void 0:ie.short;if(console.log("[TradeConfirm] Long leg:",se),console.log("[TradeConfirm] Short leg:",de),se!=null&&se.symbol){const he=K(se.symbol);console.log("[TradeConfirm] Setting long coin:",he),E([he])}if(de!=null&&de.symbol){const he=K(de.symbol);console.log("[TradeConfirm] Setting short coin:",he),S([he])}if((se==null?void 0:se.leverage)!=null&&(de==null?void 0:de.leverage)!=null){const he=Math.round((Number(se.leverage)+Number(de.leverage))/2);console.log("[TradeConfirm] Setting leverage:",he),B(he)}else(se==null?void 0:se.leverage)!=null&&(console.log("[TradeConfirm] Setting leverage (long only):",se.leverage),B(Number(se.leverage)));if((re==null?void 0:re.takeProfitRatio)!=null){const he=Math.abs(Number(re.takeProfitRatio)*100);console.log("[TradeConfirm] Setting take profit:",he),O(he)}if((re==null?void 0:re.stopLossRatio)!=null){const he=Math.abs(Number(re.stopLossRatio)*100);console.log("[TradeConfirm] Setting stop loss:",he),k(he)}if((se==null?void 0:se.notional)!=null&&(de==null?void 0:de.notional)!=null){const he=Number(se.notional),pe=Number(de.notional),ve=he+pe;if(ve>0){const we=Math.round(he/ve*100);console.log("[TradeConfirm] Setting allocation:",we,"% long"),D(we)}}}catch(te){console.error("[TradeConfirm] Failed to load trade:",te)}})(),()=>{ce=!0}},[u]),W.useEffect(()=>{const{userId:J}=ov();if(!J)return;(async()=>{try{const ce=await fetch(`${u}/api/settings/notification/${J}`);if(ce.ok){const fe=await ce.json();f(fe.frequency||"never"),g(fe.time||"09:00")}}catch{const fe=localStorage.getItem("notificationSettings");if(fe){const{frequency:X,time:ie}=JSON.parse(fe);f(X||"never"),g(ie||"09:00")}}})()},[u]);const M=async(J,G)=>{w(!0),x("");const{userId:ce,chatId:fe}=ov();if(console.log("[Settings] User info:",{userId:ce,chatId:fe}),!ce){localStorage.setItem("notificationSettings",JSON.stringify({frequency:J,time:G})),f(J),g(G),x(" Settings saved locally!"),setTimeout(()=>{r(!1),x("")},1500),w(!1);return}const X=Intl.DateTimeFormat().resolvedOptions().timeZone;try{console.log("[Settings] Saving to:",`${u}/api/settings/notification`);const ie=await fetch(`${u}/api/settings/notification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ce,chatId:fe||ce,frequency:J,time:G,timezone:X})});if(console.log("[Settings] Response status:",ie.status),!ie.ok){const te=await ie.text();throw console.error("[Settings] Error response:",te),new Error("Failed to save")}f(J),g(G),localStorage.setItem("notificationSettings",JSON.stringify({frequency:J,time:G})),x(" Settings saved successfully!"),setTimeout(()=>{r(!1),x("")},1500)}catch(ie){console.error("[Settings] Save error:",ie),localStorage.setItem("notificationSettings",JSON.stringify({frequency:J,time:G})),f(J),g(G),x(" Settings saved locally!"),setTimeout(()=>{r(!1),x("")},1500)}finally{w(!1)}},T=()=>{const J=[...z];E([...b]),S(J)},_=()=>{Ce("selection"),t(!0)},A=()=>{a()},I=J=>{D(J)},j=(J,G)=>{k(J),O(G)},C=J=>{B(J)},N=100-H,L={correlation:.834,zScore:1.61,confidence:78,signal:"buy"},R=1e3,$=R*(v/100)*F,V=R*(P/100)*F,U=P/v,q={potentialProfit:V,potentialLoss:$,riskRewardRatio:U,leverage:F},Y=h.jsx("button",{onClick:()=>{Ce("impact","light"),r(!0)},className:"w-11 h-11 rounded-xl bg-bg-secondary border border-border flex items-center justify-center btn-press hover:bg-bg-tertiary transition-colors",children:h.jsx(R8,{className:"w-5 h-5 text-accent-primary"})});return h.jsxs("div",{className:"flex flex-col min-h-screen relative",children:[h.jsx(QE,{rightContent:Y}),h.jsx(yN,{}),h.jsxs("div",{className:"flex-1 px-4 pb-4 space-y-4 overflow-y-auto relative z-10",children:[h.jsx("div",{className:"mt-4",children:h.jsx(vN,{...L})}),i?h.jsx(q8,{balance:l,currency:c,connectedWallet:o||"",walletAddress:s||void 0,onDisconnect:A}):h.jsxs("button",{onClick:_,className:"card w-full p-5 animate-fade-up group relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-accent-primary/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-accent-primary/10 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors relative",children:[h.jsx(W0,{className:"w-7 h-7 text-accent-primary"}),h.jsx(os,{className:"absolute -top-1 -right-1 w-4 h-4 text-accent-primary animate-pulse"})]}),h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Connect Wallet"}),h.jsx("p",{className:"text-sm text-text-muted",children:"Link your wallet to start trading"})]})]}),h.jsx("div",{className:"px-4 py-2 rounded-xl bg-accent-primary text-black font-semibold text-sm group-hover:bg-accent-primary/90 transition-colors shadow-lg shadow-accent-primary/20",children:"Connect"})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-border relative z-10",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-xs text-text-muted",children:"Supported wallets"}),h.jsxs("div",{className:"flex items-center",children:[["phantom","metamask","walletconnect","coinbase","trust"].map((J,G)=>h.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden -ml-2 first:ml-0 border-2 border-bg-secondary hover:scale-110 transition-transform hover:z-10",style:{animationDelay:`${G*.1}s`},children:h.jsx(G0,{walletId:J,className:"w-8 h-8"})},J)),h.jsx("span",{className:"text-xs text-text-muted ml-2",children:"+3 more"})]})]})})]}),h.jsx(nN,{longCoins:z,shortCoins:b,onLongCoinsChange:E,onShortCoinsChange:S,onSwap:T,marketType:fo.marketType}),h.jsx(rN,{proportion:{longPct:H,shortPct:N},risk:{stopLossPct:v,takeProfitPct:P},leverage:F,onProportionChange:I,onRiskChange:j,onLeverageChange:C}),h.jsx(wN,{...q,stopLoss:v,takeProfit:P}),h.jsx("div",{className:"h-28"})]}),h.jsx(uN,{disabled:!i}),h.jsx(hN,{isOpen:e,onClose:()=>t(!1)}),h.jsx(mN,{isOpen:n,onClose:()=>{r(!1),x("")},currentFrequency:d,currentTime:m,onSave:M,saveMessage:y,isSaving:p})]})}function xN({options:e,selected:t,onChange:n}){const r=e.indexOf(t),i=o=>{o!==t&&(Ce("selection"),n(o))};return h.jsxs("div",{className:"relative bg-bg-secondary rounded-xl p-1 flex border border-border",children:[h.jsx("div",{className:"absolute top-1 bottom-1 rounded-lg bg-accent-primary/20 border border-accent-primary/30 transition-all duration-200 ease-out",style:{width:`calc(${100/e.length}% - 4px)`,left:`calc(${100/e.length*r}% + 2px)`}}),e.map(o=>h.jsx("button",{onClick:()=>i(o),className:`
            relative flex-1 py-2.5 px-4 text-sm font-medium rounded-lg transition-colors duration-200 z-10
            ${t===o?"text-accent-primary":"text-text-muted"}
          `,children:o},o))]})}function EN({trade:e,index:t=0}){const[n,r]=W.useState(!1),i=e.pnlUsd>=0,o=e.status==="open",s=()=>{Ce("selection"),r(!n)},a=l=>{const c=new Date(l),d=new Date().getTime()-c.getTime(),f=Math.floor(d/(1e3*60*60)),m=Math.floor(f/24);return m>0?`${m}d ago`:f>0?`${f}h ago`:"Just now"};return h.jsxs("div",{className:"card overflow-hidden stagger-item group",style:{animationDelay:`${t*80}ms`},children:[h.jsx("div",{className:"p-4 pb-0",children:h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-l-lg bg-bg-long border border-accent-success/20",children:[h.jsx(Qi,{className:"w-3.5 h-3.5 text-accent-success"}),h.jsx("span",{className:"text-sm font-bold text-text-primary",children:e.longCoin.ticker})]}),h.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-r-lg bg-bg-short border border-accent-danger/20 -ml-px",children:[h.jsx(ss,{className:"w-3.5 h-3.5 text-accent-danger"}),h.jsx("span",{className:"text-sm font-bold text-text-primary",children:e.shortCoin.ticker})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-text-muted",children:a(e.openedAt)}),n&&h.jsx("button",{onClick:l=>{l.stopPropagation(),r(!1)},className:"w-6 h-6 rounded-full bg-bg-tertiary flex items-center justify-center hover:bg-bg-primary",children:h.jsx(ip,{className:"w-4 h-4 text-text-muted rotate-180"})})]})]})}),h.jsxs("button",{onClick:s,className:"w-full p-4 pt-0 text-left",children:[h.jsx("div",{className:"bg-bg-tertiary/50 rounded-xl p-3 mb-3 border border-border/50",children:h.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Entry Price:"}),h.jsx("span",{className:"text-accent-primary font-medium",children:wr(e.details.entryPriceLong)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Correlation:"}),h.jsx("span",{className:"text-text-primary font-medium",children:e.details.correlation.toFixed(4)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Z-Score:"}),h.jsx("span",{className:"text-text-primary font-medium",children:e.details.zScore.toFixed(2)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Co-integration:"}),h.jsx("span",{className:`font-medium ${e.details.cointegration?"text-accent-success":"text-accent-danger"}`,children:e.details.cointegration?"Yes":"No"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Half-Life:"}),h.jsxs("span",{className:"text-text-primary font-medium",children:[e.details.halfLife," Days"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-text-muted",children:"Leverage:"}),h.jsx("span",{className:"text-text-primary font-medium",children:lp(e.leverage)})]})]})}),h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("span",{className:"text-xs text-text-muted",children:"Trading Engine(s):"}),h.jsxs("div",{className:"flex gap-2",children:[(e.details.tradingEngine==="Hyperliquid"||e.details.tradingEngine==="Both")&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-lg bg-accent-primary/10 text-accent-primary border border-accent-primary/20",children:"Hyperliquid"}),(e.details.tradingEngine==="SYMM"||e.details.tradingEngine==="Both")&&h.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-lg bg-purple-500/10 text-purple-400 border border-purple-500/20",children:"SYMM"})]})]}),h.jsxs("div",{className:`
          flex items-center justify-between p-3 rounded-xl
          ${i?"bg-accent-success/10 border border-accent-success/20":"bg-accent-danger/10 border border-accent-danger/20"}
        `,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[i?h.jsx(E8,{className:"w-5 h-5 text-accent-success"}):h.jsx(S8,{className:"w-5 h-5 text-accent-danger"}),h.jsxs("span",{className:"text-sm text-text-secondary",children:["Result (",lp(e.leverage)," leverage)"]})]}),h.jsxs("div",{className:`text-lg font-bold ${i?"text-accent-success":"text-accent-danger"}`,children:[JE(e.pnlPct,!0)," ",i?"Profit":"Loss"]})]}),h.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-accent-success animate-pulse":"bg-text-muted"}`}),h.jsx("span",{className:"text-sm text-text-secondary",children:o?"Position Open":"Closed"})]}),h.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-lg bg-accent-primary/10 text-accent-primary",children:e.details.strategyTag})]}),!n&&h.jsx("div",{className:"flex justify-center mt-3",children:h.jsx(ip,{className:"w-4 h-4 text-text-muted"})})]}),h.jsx("div",{className:"grid transition-all duration-300 ease-out",style:{gridTemplateRows:n?"1fr":"0fr"},children:h.jsx("div",{className:"overflow-hidden",children:h.jsxs("div",{className:"px-4 pb-4 border-t border-border",children:[h.jsxs("div",{className:"pt-4 grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ir,{label:"Entry Price",value:wr(e.details.entryPriceLong),highlight:!0}),h.jsx(Ir,{label:"Current Price",value:wr(e.details.currentPriceLong)}),h.jsx(Ir,{label:"Hedge Ratio",value:e.details.hedgeRatio.toFixed(2)}),h.jsx(Ir,{label:"Half Life",value:`${e.details.halfLife} days`})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ir,{label:"Backtest Win Rate",value:`${e.details.winRate}%`,highlight:!0}),h.jsx(Ir,{label:"Sharpe Ratio",value:e.details.sharpeRatio.toFixed(2)}),h.jsx(Ir,{label:"Volatility",value:e.details.volatility.toFixed(2)}),h.jsx(Ir,{label:"Timeframe",value:e.details.timeframe})]})]}),h.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-text-secondary",children:[h.jsx(VE,{className:"w-3.5 h-3.5"}),h.jsxs("span",{children:["Opened ",sv(e.openedAt)]}),e.closedAt&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-text-muted",children:""}),h.jsxs("span",{children:["Closed ",sv(e.closedAt)]})]})]}),o&&h.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[h.jsx("button",{className:"py-3 px-4 rounded-xl bg-accent-primary text-black font-medium text-sm hover:bg-accent-primary/90 transition-colors",children:"Close on Hyperliquid"}),h.jsx("button",{className:"py-3 px-4 rounded-xl bg-bg-tertiary border border-border text-text-primary font-medium text-sm hover:border-accent-primary/50 transition-colors",children:"Close on SYMM"})]}),e.details.remarks&&h.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-bg-tertiary border border-border",children:[h.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-2",children:"Remarks:"}),h.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:e.details.remarks})]}),h.jsxs("div",{className:"mt-3 text-xs text-text-muted",children:["Order: ",h.jsx("span",{className:"font-mono text-text-secondary",children:e.details.orderId})]})]})})})]})}function Ir({label:e,value:t,highlight:n}){return h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-text-muted",children:e}),h.jsx("span",{className:`text-sm font-medium ${n?"text-accent-primary":"text-text-primary"}`,children:t})]})}function SN({isOpen:e,onClose:t}){const[n,r]=W.useState("1M"),[i,o]=W.useState(!1),[s,a]=W.useState(!1),[l,c]=W.useState(!1),[u,d]=W.useState(!1),[f,m]=W.useState(0),g=W.useRef(null);W.useEffect(()=>{if(e){o(!0),a(!1),c(!1),d(!1),m(0);const _=setTimeout(()=>a(!0),300),A=setTimeout(()=>c(!0),800),I=setTimeout(()=>d(!0),1200),j=setTimeout(()=>o(!1),2e3);return()=>{clearTimeout(_),clearTimeout(A),clearTimeout(I),clearTimeout(j)}}},[e,n]);const y=W.useMemo(()=>{const _=new Date;let A;switch(n){case"1D":A=new Date(_.getTime()-24*60*60*1e3);break;case"1W":A=new Date(_.getTime()-7*24*60*60*1e3);break;case"1M":A=new Date(_.getTime()-30*24*60*60*1e3);break;case"3M":A=new Date(_.getTime()-90*24*60*60*1e3);break;case"ALL":default:A=new Date(_.getTime()-365*24*60*60*1e3)}const j=[...gu.filter(L=>{const R=new Date(L.openedAt);return R>=A&&R<=_})].sort((L,R)=>new Date(L.openedAt).getTime()-new Date(R.openedAt).getTime()),C=[];let N=0;if(C.push({date:A,pnl:0,cumulative:0,label:lv(A,n)}),j.forEach(L=>{N+=L.pnlUsd,C.push({date:new Date(L.openedAt),pnl:L.pnlUsd,cumulative:N,label:lv(new Date(L.openedAt),n)})}),C.length>0){const L=C[C.length-1];L.date<_&&C.push({date:_,pnl:0,cumulative:L.cumulative,label:"Now"})}return C},[n]),x=W.useMemo(()=>{const _=y.length>0?y[y.length-1].cumulative:0,A=gu.filter(L=>{const R=new Date;let $;switch(n){case"1D":$=new Date(R.getTime()-24*60*60*1e3);break;case"1W":$=new Date(R.getTime()-7*24*60*60*1e3);break;case"1M":$=new Date(R.getTime()-30*24*60*60*1e3);break;case"3M":$=new Date(R.getTime()-90*24*60*60*1e3);break;default:$=new Date(0)}return new Date(L.openedAt)>=$}),I=A.filter(L=>L.pnlUsd>0).length,j=A.filter(L=>L.pnlUsd<0).length,C=A.length>0?I/A.length*100:0,N=A.length>0?_/A.length:0;return{totalPnl:_,totalTrades:A.length,winningTrades:I,losingTrades:j,winRate:C,avgPnl:N}},[y,n]);if(W.useEffect(()=>{if(u&&x.totalPnl!==0){const I=x.totalPnl/60;let j=0,C=0;const N=setInterval(()=>{C++,j+=I,C>=60?(m(x.totalPnl),clearInterval(N)):m(j)},1500/60);return()=>clearInterval(N)}},[u,x.totalPnl]),!e)return null;const p=380,w=220,v={top:30,right:30,bottom:40,left:60},k=p-v.left-v.right,P=w-v.top-v.bottom,O=y.map(_=>_.cumulative),F=Math.min(0,...O),B=Math.max(0,...O),H=B-F||1,D=_=>v.left+_/(y.length-1||1)*k,K=_=>v.top+P-(_-F)/H*P,z=y.map((_,A)=>`${A===0?"M":"L"} ${D(A)} ${K(_.cumulative)}`).join(" "),E=`${z} L ${D(y.length-1)} ${K(0)} L ${D(0)} ${K(0)} Z`,b=x.totalPnl>=0,S=b?"#BFFF00":"#FF4757",M=b?"rgba(191, 255, 0, 0.6)":"rgba(255, 71, 87, 0.6)",T=y.length>1?1e3:0;return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/80 backdrop-blur-md animate-fade-in",onClick:t,children:[h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((_,A)=>h.jsx("div",{className:"absolute w-1 h-1 rounded-full animate-float-particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,backgroundColor:b?"rgba(191, 255, 0, 0.3)":"rgba(255, 71, 87, 0.3)",animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*4}s`}},A))}),h.jsxs("div",{className:"w-full max-w-[100vw] sm:max-w-lg md:max-w-xl lg:max-w-2xl mx-2 sm:mx-4 bg-bg-primary/95 backdrop-blur-xl rounded-t-3xl sm:rounded-3xl animate-slide-up overflow-hidden border border-border/50 shadow-2xl",onClick:_=>_.stopPropagation(),style:{boxShadow:`0 0 100px ${M}`},children:[h.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 pointer-events-none",style:{background:`radial-gradient(ellipse at center top, ${M} 0%, transparent 70%)`,opacity:s?.5:0,transition:"opacity 1s ease-out"}}),h.jsxs("div",{className:"relative flex items-center justify-between p-4 sm:p-5 border-b border-border/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:`
              w-12 h-12 rounded-2xl flex items-center justify-center relative overflow-hidden
              ${b?"bg-accent-success/20":"bg-accent-danger/20"}
            `,children:[h.jsx("div",{className:"absolute inset-0 animate-pulse-glow",style:{backgroundColor:M,opacity:.3}}),b?h.jsx(Qi,{className:"w-6 h-6 text-accent-success relative z-10"}):h.jsx(ss,{className:"w-6 h-6 text-accent-danger relative z-10"}),h.jsx(os,{className:"absolute -top-1 -right-1 w-4 h-4 text-accent-primary animate-spin-slow"})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:["Performance",h.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-accent-primary/20 text-accent-primary animate-pulse",children:"LIVE"})]}),h.jsx("p",{className:"text-sm text-text-muted",children:"Trade history analysis"})]})]}),h.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-bg-secondary flex items-center justify-center hover:bg-bg-tertiary transition-all hover:rotate-90 duration-300",children:h.jsx(hs,{className:"w-5 h-5 text-text-muted"})})]}),h.jsx("div",{className:"px-4 sm:px-5 py-4 border-b border-border/30",children:h.jsx("div",{className:"flex gap-2 p-1 bg-bg-secondary/50 rounded-xl",children:["1D","1W","1M","3M","ALL"].map(_=>h.jsxs("button",{onClick:()=>{Ce("selection"),r(_)},className:`
                  flex-1 py-2.5 px-3 rounded-lg text-sm font-semibold transition-all duration-300 relative overflow-hidden
                  ${n===_?"bg-accent-primary text-black shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"}
                `,style:{boxShadow:n===_?`0 0 20px ${M}`:"none"},children:[n===_&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"}),_]},_))})}),h.jsxs("div",{className:"p-4 sm:p-5",children:[h.jsxs("div",{className:"text-center mb-6 relative",children:[h.jsx("p",{className:"text-sm text-text-muted mb-2",children:"Total P&L"}),h.jsxs("div",{className:"relative inline-block",children:[h.jsxs("p",{className:`text-5xl sm:text-6xl font-black tracking-tight ${b?"text-accent-success":"text-accent-danger"}`,style:{textShadow:`0 0 40px ${M}`},children:[b?"+":"",wr(u?f:0)]}),h.jsx("div",{className:"absolute -bottom-2 left-0 h-1 rounded-full transition-all duration-1000",style:{width:u?"100%":"0%",background:`linear-gradient(90deg, transparent, ${S}, transparent)`}})]})]}),h.jsxs("div",{className:"relative bg-bg-secondary/50 rounded-2xl p-4 mb-5 overflow-hidden border border-border/30",children:[h.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                  linear-gradient(${S} 1px, transparent 1px),
                  linear-gradient(90deg, ${S} 1px, transparent 1px)
                `,backgroundSize:"40px 40px",animation:"grid-move 20s linear infinite"}}),h.jsxs("svg",{width:"100%",viewBox:`0 0 ${p} ${w}`,className:"overflow-visible relative z-10",children:[h.jsxs("defs",{children:[h.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[h.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),h.jsxs("feMerge",{children:[h.jsx("feMergeNode",{in:"coloredBlur"}),h.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),h.jsxs("linearGradient",{id:"gradient-positive",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#BFFF00",stopOpacity:.5}),h.jsx("stop",{offset:"100%",stopColor:"#BFFF00",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"gradient-negative",x1:"0",y1:"1",x2:"0",y2:"0",children:[h.jsx("stop",{offset:"0%",stopColor:"#FF4757",stopOpacity:.5}),h.jsx("stop",{offset:"100%",stopColor:"#FF4757",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"line-gradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[h.jsx("stop",{offset:"0%",stopColor:S,stopOpacity:.5}),h.jsx("stop",{offset:"50%",stopColor:S,stopOpacity:1}),h.jsx("stop",{offset:"100%",stopColor:S,stopOpacity:.5})]})]}),[0,.25,.5,.75,1].map((_,A)=>h.jsx("line",{x1:v.left,y1:v.top+P*_,x2:p-v.right,y2:v.top+P*_,stroke:"var(--border)",strokeOpacity:.3,strokeDasharray:"4 4"},A)),h.jsx("line",{x1:v.left,y1:K(0),x2:p-v.right,y2:K(0),stroke:S,strokeOpacity:.5,strokeWidth:1,strokeDasharray:"8 4"}),h.jsx("text",{x:v.left-12,y:K(0),fill:"var(--text-muted)",fontSize:"11",textAnchor:"end",dominantBaseline:"middle",fontWeight:"500",children:"$0"}),B!==0&&h.jsx("text",{x:v.left-12,y:K(B),fill:S,fontSize:"11",textAnchor:"end",dominantBaseline:"middle",fontWeight:"600",children:wr(B,0)}),F!==0&&h.jsx("text",{x:v.left-12,y:K(F),fill:"#FF4757",fontSize:"11",textAnchor:"end",dominantBaseline:"middle",fontWeight:"600",children:wr(F,0)}),y.length>1&&h.jsx("path",{d:E,fill:`url(#gradient-${b?"positive":"negative"})`,opacity:s?.6:0,style:{transition:"opacity 0.8s ease-out"}}),y.length>1&&h.jsxs(h.Fragment,{children:[h.jsx("path",{d:z,fill:"none",stroke:S,strokeWidth:8,strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",opacity:s?.5:0,style:{transition:"opacity 0.5s ease-out"}}),h.jsx("path",{ref:g,d:z,fill:"none",stroke:"url(#line-gradient)",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:T,strokeDashoffset:s?0:T,style:{transition:"stroke-dashoffset 1.5s ease-out"}})]}),y.map((_,A)=>h.jsxs("g",{children:[h.jsx("circle",{cx:D(A),cy:K(_.cumulative),r:l?12:0,fill:S,opacity:.2,style:{transition:`all 0.5s ease-out ${A*.1}s`}}),h.jsx("circle",{cx:D(A),cy:K(_.cumulative),r:l?5:0,fill:S,stroke:"var(--bg-primary)",strokeWidth:2,filter:"url(#glow)",style:{transition:`all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) ${A*.1}s`}})]},A)),y.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("text",{x:v.left,y:w-10,fill:"var(--text-muted)",fontSize:"11",textAnchor:"start",fontWeight:"500",children:y[0].label}),h.jsx("text",{x:p-v.right,y:w-10,fill:S,fontSize:"11",textAnchor:"end",fontWeight:"600",children:y[y.length-1].label})]})]}),i&&h.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-accent-primary to-transparent animate-scan-line",style:{left:"10%"}})]}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Total Trades",value:x.totalTrades.toString(),color:"text-text-primary"},{label:"Win Rate",value:`${x.winRate.toFixed(1)}%`,color:x.winRate>=50?"text-accent-success":"text-accent-danger"},{label:"Wins / Losses",value:`${x.winningTrades} / ${x.losingTrades}`,color:"text-text-primary",isDouble:!0},{label:"Avg P&L",value:`${x.avgPnl>=0?"+":""}${wr(x.avgPnl)}`,color:x.avgPnl>=0?"text-accent-success":"text-accent-danger"}].map((_,A)=>h.jsxs("div",{className:"relative bg-bg-secondary/50 rounded-xl p-4 border border-border/30 overflow-hidden group hover:border-accent-primary/30 transition-all duration-300",style:{opacity:u?1:0,transform:u?"translateY(0)":"translateY(20px)",transition:`all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) ${.1*A}s`},children:[h.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:`radial-gradient(circle at center, ${M} 0%, transparent 70%)`,opacity:.1}}),h.jsx("p",{className:"text-xs text-text-muted mb-1 relative z-10",children:_.label}),h.jsx("p",{className:`text-xl sm:text-2xl font-bold ${_.color} relative z-10`,children:_.isDouble?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-accent-success",children:x.winningTrades}),h.jsx("span",{className:"text-text-muted mx-1",children:"/"}),h.jsx("span",{className:"text-accent-danger",children:x.losingTrades})]}):_.value})]},_.label))})]}),h.jsx("div",{className:"h-safe-bottom"})]}),h.jsx("style",{children:`
        @keyframes grid-move {
          0% { transform: translate(0, 0); }
          100% { transform: translate(40px, 40px); }
        }
        
        @keyframes scan-line {
          0% { left: 10%; opacity: 0; }
          10% { opacity: 1; }
          90% { opacity: 1; }
          100% { left: 95%; opacity: 0; }
        }
        
        @keyframes float-particle {
          0%, 100% { 
            transform: translateY(0) scale(1);
            opacity: 0;
          }
          10% { opacity: 1; }
          50% { 
            transform: translateY(-100px) scale(1.5);
            opacity: 0.5;
          }
          90% { opacity: 0; }
        }
        
        @keyframes pulse-glow {
          0%, 100% { opacity: 0.3; transform: scale(1); }
          50% { opacity: 0.6; transform: scale(1.1); }
        }
        
        .animate-scan-line {
          animation: scan-line 2s ease-in-out forwards;
        }
        
        .animate-float-particle {
          animation: float-particle 5s ease-in-out infinite;
        }
        
        .animate-pulse-glow {
          animation: pulse-glow 2s ease-in-out infinite;
        }
      `})]})}function lv(e,t){switch(t){case"1D":return e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});case"1W":return e.toLocaleDateString("en-US",{weekday:"short"});case"1M":return e.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"3M":case"ALL":default:return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}}function kN(){const[e,t]=W.useState("Open"),[n,r]=W.useState(""),[i,o]=W.useState(!1),[s,a]=W.useState(!1),l=BE(),c=Y8(),u=Z8(),d=e==="Open"?c:u,f=W.useMemo(()=>{if(!n.trim())return d;const y=n.toLowerCase();return d.filter(x=>x.longCoin.ticker.toLowerCase().includes(y)||x.shortCoin.ticker.toLowerCase().includes(y)||x.longCoin.name.toLowerCase().includes(y)||x.shortCoin.name.toLowerCase().includes(y)||x.details.strategyTag.toLowerCase().includes(y))},[d,n]),m=W.useMemo(()=>{const y=d.reduce((k,P)=>k+P.pnlUsd,0),x=d.length>0?d.reduce((k,P)=>k+P.pnlPct,0)/d.length:0,p=d.filter(k=>k.pnlUsd>=0).length,w=d.length>0?p/d.length*100:0,v=d.reduce((k,P)=>k+P.notionalUsd,0);return{totalPnl:y,totalPnlPct:x,winRate:w,totalVolume:v,count:d.length}},[d]),g=()=>{Ce("selection"),l("/")};return h.jsxs("div",{className:"flex flex-col min-h-screen bg-bg-primary",children:[h.jsx(QE,{title:"My Trades",showBackButton:!0}),h.jsxs("div",{className:"px-4 mb-4",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(ap,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),h.jsx("input",{type:"text",placeholder:"Search Pairs",value:n,onChange:y=>r(y.target.value),className:"w-full pl-12 pr-4 py-4 bg-bg-secondary border border-border rounded-2xl text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent-primary/50 transition-colors"})]}),h.jsx("button",{onClick:()=>{Ce("selection"),o(!i)},className:`
              flex items-center justify-center w-14 h-14 rounded-2xl border transition-all
              ${i?"bg-accent-primary/10 border-accent-primary text-accent-primary":"bg-bg-secondary border-border text-text-secondary hover:border-accent-primary/50"}
            `,children:h.jsx(_8,{className:"w-5 h-5"})})]}),i&&h.jsx("div",{className:"mt-3 p-4 bg-bg-secondary rounded-2xl border border-border animate-fade-up",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Profitable","Loss","High Leverage","Hyperliquid","SYMM"].map(y=>h.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-xl bg-bg-tertiary text-text-secondary hover:bg-accent-primary/10 hover:text-accent-primary transition-colors",children:y},y))})})]}),h.jsx("div",{className:"px-4 mb-4",children:h.jsx(xN,{options:["Open","Closed"],selected:e,onChange:y=>t(y)})}),h.jsx("div",{className:"px-4 mb-4",children:h.jsxs("div",{className:"card p-5 animate-fade-up",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-text-muted block mb-1",children:"Total P&L"}),h.jsxs("div",{className:`text-3xl font-bold ${m.totalPnl>=0?"text-accent-success":"text-accent-danger"}`,children:[m.totalPnl>=0?"+":"",wr(m.totalPnl)]}),h.jsxs("span",{className:`text-sm ${m.totalPnlPct>=0?"text-accent-success/70":"text-accent-danger/70"}`,children:[JE(m.totalPnlPct,!0)," average"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-text-muted block mb-1",children:"Win Rate"}),h.jsxs("div",{className:"text-3xl font-bold text-accent-primary",children:[m.winRate.toFixed(0),"%"]}),h.jsxs("span",{className:"text-sm text-text-secondary",children:[m.count," total trades"]})]})]}),h.jsxs("div",{className:"mt-5",children:[h.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-2",children:[h.jsx("span",{children:"Wins"}),h.jsx("span",{children:"Losses"})]}),h.jsxs("div",{className:"h-3 bg-bg-tertiary rounded-full overflow-hidden flex",children:[h.jsx("div",{className:"h-full bg-gradient-to-r from-accent-success to-accent-success/80 transition-all duration-500 rounded-l-full",style:{width:`${m.winRate}%`}}),h.jsx("div",{className:"h-full bg-gradient-to-r from-accent-danger/80 to-accent-danger transition-all duration-500 rounded-r-full",style:{width:`${100-m.winRate}%`}})]})]}),h.jsxs("button",{onClick:()=>{Ce("selection"),a(!0)},className:"w-full mt-5 py-3 px-4 rounded-xl bg-bg-tertiary border border-border flex items-center justify-center gap-2 text-text-primary font-medium hover:bg-bg-secondary hover:border-accent-primary/50 transition-all group",children:[h.jsx(w8,{className:"w-5 h-5 text-accent-primary group-hover:scale-110 transition-transform"}),h.jsx("span",{children:"View Performance Chart"})]})]})}),h.jsx(SN,{isOpen:s,onClose:()=>a(!1)}),h.jsx("div",{className:"flex-1 px-4 pb-8 overflow-y-auto",children:f.length>0?h.jsx("div",{className:"space-y-3",children:f.map((y,x)=>h.jsx(EN,{trade:y,index:x},y.id))},e):n?h.jsxs("div",{className:"flex flex-col items-center justify-center py-16 animate-fade-up",children:[h.jsx(ap,{className:"w-12 h-12 text-text-muted mb-4"}),h.jsxs("p",{className:"text-text-secondary",children:['No trades matching "',n,'"']})]}):h.jsx(CN,{isOpen:e==="Open",onBackToTrade:g})})]})}function CN({isOpen:e,onBackToTrade:t}){return h.jsxs("div",{className:"flex flex-col items-center justify-center py-16 animate-fade-up",children:[h.jsxs("div",{className:"w-20 h-20 rounded-full bg-bg-secondary flex items-center justify-center mb-5 relative",children:[h.jsx(M8,{className:"w-10 h-10 text-text-muted"}),h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-accent-primary/20 flex items-center justify-center",children:h.jsx(q0,{className:"w-3 h-3 text-accent-primary"})})]}),h.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:e?"No open trades":"No closed trades yet"}),h.jsx("p",{className:"text-sm text-text-secondary text-center max-w-xs mb-6",children:e?"Start trading to see your open positions here.":"Your completed trades will appear here once you close a position."}),e&&h.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-5 py-3 rounded-xl bg-accent-primary text-black font-medium btn-press btn-glow",children:[h.jsx("span",{children:"Start Trading"}),h.jsx(g8,{className:"w-4 h-4"})]})]})}function _N({onComplete:e}){const[t,n]=W.useState("logo"),[r,i]=W.useState(0);return W.useEffect(()=>{const o=setTimeout(()=>n("loading"),800);return()=>clearTimeout(o)},[]),W.useEffect(()=>{if(t==="loading"){const o=setInterval(()=>{i(s=>s>=100?(clearInterval(o),n("reveal"),100):s+4)},30);return()=>clearInterval(o)}},[t]),W.useEffect(()=>{if(t==="reveal"){const o=setTimeout(e,600);return()=>clearTimeout(o)}},[t,e]),h.jsxs("div",{className:`fixed inset-0 z-50 bg-bg-primary flex flex-col items-center justify-center transition-all duration-500 ${t==="reveal"?"opacity-0 scale-110":"opacity-100 scale-100"}`,children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute w-96 h-96 rounded-full blur-3xl opacity-20",style:{background:"radial-gradient(circle, var(--accent-primary), transparent)",top:"20%",left:"50%",transform:"translateX(-50%)",animation:"pulse 2s ease-in-out infinite"}}),h.jsx("div",{className:"absolute w-64 h-64 rounded-full blur-3xl opacity-10",style:{background:"radial-gradient(circle, var(--accent-success), transparent)",bottom:"30%",left:"20%",animation:"pulse 2.5s ease-in-out infinite 0.5s"}}),h.jsx("div",{className:"absolute w-64 h-64 rounded-full blur-3xl opacity-10",style:{background:"radial-gradient(circle, var(--accent-danger), transparent)",bottom:"20%",right:"20%",animation:"pulse 2.5s ease-in-out infinite 1s"}}),h.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`
              linear-gradient(rgba(163, 230, 53, 0.3) 1px, transparent 1px),
              linear-gradient(90deg, rgba(163, 230, 53, 0.3) 1px, transparent 1px)
            `,backgroundSize:"50px 50px",animation:"gridMove 20s linear infinite"}})]}),h.jsxs("div",{className:`relative mb-8 transition-all duration-700 ${t==="logo"?"scale-0 rotate-180":"scale-100 rotate-0"}`,style:{animation:t!=="logo"?"float 3s ease-in-out infinite":"none"},children:[h.jsx("div",{className:"absolute -inset-4 rounded-full opacity-50",style:{background:"conic-gradient(from 0deg, var(--accent-primary), var(--accent-success), var(--accent-primary))",animation:"spin 3s linear infinite",filter:"blur(8px)"}}),h.jsx("div",{className:"relative w-24 h-24 rounded-2xl bg-bg-secondary border border-accent-primary/30 flex items-center justify-center shadow-2xl shadow-accent-primary/20",children:h.jsx("svg",{className:"w-14 h-14 text-accent-primary",viewBox:"0 0 24 24",fill:"currentColor",style:{filter:"drop-shadow(0 0 10px rgba(163, 230, 53, 0.5))"},children:h.jsx("path",{d:"M12 2C9.5 2 7.5 4 7.5 6.5C7.5 9 9 11 9 13C9 15 7 17 7 19C7 21 9 22 12 22C15 22 17 21 17 19C17 17 15 15 15 13C15 11 16.5 9 16.5 6.5C16.5 4 14.5 2 12 2Z"})})})]}),h.jsxs("div",{className:`mb-8 transition-all duration-500 delay-200 ${t==="logo"?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[h.jsx("h1",{className:"text-3xl font-bold tracking-tight text-center",children:h.jsx("span",{className:"gradient-text",children:"PeRatio"})}),h.jsx("p",{className:"text-center text-text-muted text-sm mt-1",children:"Pair Trading Made Simple"})]}),h.jsxs("div",{className:`w-48 transition-all duration-500 delay-300 ${t==="logo"?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:[h.jsx("div",{className:"h-1 bg-bg-tertiary rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-accent-primary via-accent-success to-accent-primary rounded-full transition-all duration-100 relative",style:{width:`${r}%`},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})}),h.jsxs("div",{className:"flex justify-between mt-2 text-xs text-text-muted",children:[h.jsx("span",{children:"Loading..."}),h.jsxs("span",{children:[r,"%"]})]})]}),h.jsx("div",{className:"flex gap-1 mt-6",children:[0,1,2].map(o=>h.jsx("div",{className:"w-2 h-2 rounded-full bg-accent-primary/50",style:{animation:"bounce 1s ease-in-out infinite",animationDelay:`${o*.15}s`}},o))}),h.jsx("style",{children:`
        @keyframes gridMove {
          0% { transform: translate(0, 0); }
          100% { transform: translate(50px, 50px); }
        }
        @keyframes bounce {
          0%, 100% { transform: translateY(0); opacity: 0.5; }
          50% { transform: translateY(-8px); opacity: 1; }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 0.2; }
          50% { transform: scale(1.1); opacity: 0.3; }
        }
      `})]})}const NN=()=>{const e=[];for(let t=0;t<30;t++){const n=Math.random()>.45,r=20+Math.random()*60,i=5+Math.random()*15,o=5+Math.random()*15;e.push({x:t*28+10,height:r,wickTop:i,wickBottom:o,isGreen:n,delay:t*.1})}return e};function AN(){const[e]=W.useState(NN);return h.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[h.jsx("div",{className:"absolute inset-0",style:{background:`
            radial-gradient(ellipse at 20% 20%, rgba(191, 255, 0, 0.03) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 80%, rgba(191, 255, 0, 0.02) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 50%, rgba(0, 0, 0, 0.3) 0%, transparent 100%)
          `}}),h.jsx("svg",{className:"absolute bottom-0 left-0 right-0 h-48 opacity-[0.04]",viewBox:"0 0 900 200",preserveAspectRatio:"xMidYMax slice",children:e.map((t,n)=>h.jsxs("g",{className:"animate-candle-fade",style:{animationDelay:`${t.delay}s`},children:[h.jsx("line",{x1:t.x+8,y1:200-t.height-t.wickTop,x2:t.x+8,y2:200-t.height+t.wickBottom,stroke:t.isGreen?"#BFFF00":"#FF4757",strokeWidth:"1"}),h.jsx("rect",{x:t.x,y:200-t.height,width:"16",height:t.height,fill:t.isGreen?"#BFFF00":"#FF4757",rx:"2"})]},n))}),h.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`
            linear-gradient(rgba(191, 255, 0, 0.5) 1px, transparent 1px),
            linear-gradient(90deg, rgba(191, 255, 0, 0.5) 1px, transparent 1px)
          `,backgroundSize:"60px 60px"}}),h.jsx("div",{className:"absolute inset-0",children:[20,35,50,65,80].map(t=>h.jsx("div",{className:"absolute left-0 right-0 h-px opacity-[0.03]",style:{top:`${t}%`,background:"linear-gradient(90deg, transparent, rgba(191, 255, 0, 0.5) 20%, rgba(191, 255, 0, 0.5) 80%, transparent)"}},t))}),h.jsx("div",{className:"absolute top-1/4 right-8 opacity-[0.015] transform rotate-12",children:h.jsx("svg",{width:"200",height:"200",viewBox:"0 0 24 24",fill:"currentColor",className:"text-accent-primary",children:h.jsx("path",{d:"M11.5 11.5v-2h1.6c.6 0 1.1.5 1.1 1s-.5 1-1.1 1h-1.6zm0 1v2h2.1c.6 0 1.1-.5 1.1-1s-.5-1-1.1-1h-2.1zm-2-5.5h4.6c1.7 0 3.1 1.4 3.1 3.1 0 .9-.4 1.7-1 2.3.9.5 1.5 1.5 1.5 2.6 0 1.7-1.4 3.1-3.1 3.1H9.5v-11zm2.5-2V3h1v2h1V3h1v2.1c1.8.4 3.2 2 3.2 3.9 0 1-.4 2-1 2.7.9.8 1.5 1.9 1.5 3.2 0 2.2-1.7 4-3.7 4.1v2h-1v-2h-1v2h-1v-2H8.5v-11h1V5h2z"})})}),h.jsx("div",{className:"absolute bottom-1/4 left-8 opacity-[0.015] transform -rotate-12",children:h.jsx("svg",{width:"150",height:"150",viewBox:"0 0 24 24",fill:"currentColor",className:"text-accent-primary",children:h.jsx("path",{d:"M12 1.5l-7 10.8 7 4.2 7-4.2-7-10.8zm0 13.3l-7-4.2 7 11.4 7-11.4-7 4.2z"})})}),h.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full opacity-[0.03]",preserveAspectRatio:"none",children:[h.jsx("path",{d:"M0,400 Q200,350 400,380 T800,300 T1200,350 T1600,280",fill:"none",stroke:"url(#trendGradient)",strokeWidth:"2",className:"animate-trend-line"}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"trendGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[h.jsx("stop",{offset:"0%",stopColor:"transparent"}),h.jsx("stop",{offset:"20%",stopColor:"#BFFF00"}),h.jsx("stop",{offset:"80%",stopColor:"#BFFF00"}),h.jsx("stop",{offset:"100%",stopColor:"transparent"})]})})]}),[...Array(20)].map((t,n)=>h.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-accent-primary/20 animate-float-particle",style:{left:`${5+Math.random()*90}%`,top:`${5+Math.random()*90}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${10+Math.random()*10}s`}},n)),h.jsx("div",{className:"absolute w-[500px] h-[500px] rounded-full opacity-30 animate-float-slow",style:{background:"radial-gradient(circle, rgba(191, 255, 0, 0.08) 0%, transparent 70%)",top:"-150px",right:"-150px",filter:"blur(40px)"}}),h.jsx("div",{className:"absolute w-[400px] h-[400px] rounded-full opacity-20 animate-float-slow-reverse",style:{background:"radial-gradient(circle, rgba(191, 255, 0, 0.1) 0%, transparent 70%)",bottom:"50px",left:"-100px",filter:"blur(30px)"}}),h.jsx("style",{children:`
        @keyframes candle-fade {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 1; }
        }
        .animate-candle-fade {
          animation: candle-fade 4s ease-in-out infinite;
        }
        @keyframes trend-line {
          0% { stroke-dashoffset: 2000; }
          100% { stroke-dashoffset: 0; }
        }
        .animate-trend-line {
          stroke-dasharray: 2000;
          animation: trend-line 20s linear infinite;
        }
        @keyframes float-slow {
          0%, 100% { transform: translate(0, 0) scale(1); }
          50% { transform: translate(-20px, 20px) scale(1.05); }
        }
        @keyframes float-slow-reverse {
          0%, 100% { transform: translate(0, 0) scale(1); }
          50% { transform: translate(20px, -20px) scale(1.05); }
        }
        @keyframes float-particle {
          0%, 100% { 
            transform: translateY(0) translateX(0);
            opacity: 0;
          }
          20% { opacity: 0.4; }
          50% { 
            transform: translateY(-80px) translateX(15px);
            opacity: 0.2;
          }
          80% { opacity: 0; }
        }
        .animate-float-slow {
          animation: float-slow 25s ease-in-out infinite;
        }
        .animate-float-slow-reverse {
          animation: float-slow-reverse 30s ease-in-out infinite;
        }
        .animate-float-particle {
          animation: float-particle 15s ease-in-out infinite;
        }
      `})]})}function MN(){const e=Yu();return h.jsx("div",{className:"page-enter",children:h.jsxs(l8,{children:[h.jsx(np,{path:"/",element:h.jsx(nv,{children:h.jsx(bN,{})})}),h.jsx(np,{path:"/trades",element:h.jsx(nv,{children:h.jsx(kN,{})})})]})},e.pathname)}function TN(){const[e,t]=W.useState(""),[n,r]=W.useState(!0),[i,o]=W.useState(!1);W.useEffect(()=>{O8().isLight?(t("theme-light"),document.documentElement.classList.add("theme-light")):document.documentElement.classList.remove("theme-light")},[]);const s=()=>{r(!1),setTimeout(()=>o(!0),100)};return h.jsxs("div",{className:e,children:[i&&h.jsx(AN,{}),n&&h.jsx(_N,{onComplete:s}),h.jsx("div",{className:`transition-opacity duration-500 ${i?"opacity-100":"opacity-0"}`,children:h.jsx(dN,{children:h.jsxs(sN,{children:[h.jsx(d8,{children:h.jsx(MN,{})}),h.jsx(cN,{})]})})})]})}I8();bf.createRoot(document.getElementById("root")).render(h.jsx(Gr.StrictMode,{children:h.jsx(h6,{debug:!0,sdkOptions:{dappMetadata:{name:"TG Trade",url:window.location.origin},enableAnalytics:!1,checkInstallationImmediately:!1,preferDesktop:!1,useDeeplink:!0,openDeeplink:e=>{console.log("MetaMask deeplink:",e),window.open(e,"_blank")}},children:h.jsx(TN,{})})}));
